<!doctype html><html lang="pt-br"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>JavaScript Orientado a Objetos #3: Fábricas - Max N. Roecker</title><link rel="canonical" href="https://maxroecker.github.io/blog/javascript-orientado-a-objetos-3/"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="manifest" href="/site.webmanifest"><link rel="stylesheet" href="/css/styles.css"><meta name="referrer" content="origin"><meta name="robots" content="index, follow"><meta name="theme-color" content="#333333"><meta name="google-site-verification" content="qeXakFxXkrYMWIZ5aZDPGtPPQTyJieYgEUW1MiQTS00"><meta name="description" content="Entenda mais sobre essa alternativa para a criação de objetos em JavaScript OO."><meta name="author" content="Max Naegeler Roecker"><meta name="generator" content="11ty 0.10.0"><meta property="article:published_time" content="2016-04-27T02:16:01-03:00"><meta property="article:tag" content="javascript"><meta property="article:tag" content="object oriented programming"><meta property="article:tag" content="post"><meta property="og:type" content="website"><meta property="og:image" content="https://maxroecker.github.io/images/meta-og.jpg"><meta property="og:image:alt" content="Página e Blog de Max Naegeler Roecker"><meta property="og:site_name" content="Max N. Roecker"><meta property="og:title" content="JavaScript Orientado a Objetos #3: Fábricas - Max N. Roecker"><meta property="og:description" content="Entenda mais sobre essa alternativa para a criação de objetos em JavaScript OO."><meta property="og:url" content="https://maxroecker.github.io/blog/javascript-orientado-a-objetos-3/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@maxrkr"><meta name="twitter:image:src" content="https://maxroecker.github.io/images/meta-image.png"><meta name="twitter:title" content="JavaScript Orientado a Objetos #3: Fábricas - Max N. Roecker"><meta name="twitter:description" content="Entenda mais sobre essa alternativa para a criação de objetos em JavaScript OO."><meta name="twitter:url" content="https://maxroecker.github.io/blog/javascript-orientado-a-objetos-3/"><script type="application/ld+json">{
      "@context": "http://schema.org",
      "@type": "Article",
      "url": "https://maxroecker.github.io/blog/javascript-orientado-a-objetos-3/",
      "mainEntityOfPage": "https://maxroecker.github.io/blog/javascript-orientado-a-objetos-3/",
      "name": "JavaScript Orientado a Objetos #3: Fábricas - Max N. Roecker",
      "description": "Entenda mais sobre essa alternativa para a criação de objetos em JavaScript OO.",
      "headline": "Entenda mais sobre essa alternativa para a criação de objetos em JavaScript OO.",
      "datePublished": "2016-04-27T02:16:01-03:00",
      "dateModified": "2021-11-11T22:52:13-03:00",
      "license": "https://creativecommons.org/licenses/by/4.0/legalcode",
      "author": {
        "@type": "Person",
        "name": "Max Naegeler Roecker",
        "url": "https://maxroecker.github.io",
        "description": "Mestre em Ciência da Computação e Desenvolvedor de Software"
      },
      "maintainer": {
        "@type": "Person",
        "name": "Max Naegeler Roecker",
        "url": "https://maxroecker.github.io",
        "description": "Mestre em Ciência da Computação e Desenvolvedor de Software"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Max N. Roecker",
        "url": "https://maxroecker.github.io",
        "description": "Página e Blog de Max Naegeler Roecker",
        "logo": {
          "@type": "ImageObject",
          "url": "https://maxroecker.github.io/images/meta-logo.png",
          "width": "700 px",
          "height": "95 px"
        }
      },
      "image": {
        "@type": "ImageObject",
        "url": "https://maxroecker.github.io/images/meta-image.png",
        "width": "800 px",
        "height": "400 px"
      }
    }</script></head><body><div class="container"><header class="header"><h1 class="header__sitename"><a href="/"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 700 95"><path d="M679.178 48.476v-8.899l-11.279.88v2.527c5.672 0 6.324.554 6.324 4.53V69.29c0 3.635-.88 3.635-6.324 3.635v2.526c3.179-.082 6.976-.26 9.258-.26 3.244 0 7.058 0 10.317.26v-2.526h-1.711c-5.998 0-6.177-.88-6.177-3.814V56.609c0-8.019 3.406-15.255 9.6-15.255.554 0 .717 0 .88.081-.245.065-1.875 1.043-1.875 3.146 0 2.298 1.712 3.488 3.505 3.488 1.467 0 3.504-.962 3.504-3.553 0-2.608-2.526-4.939-6.014-4.939-5.933 0-8.867 5.411-10.008 8.9zm-40.519 8.215l.065-1.711c.49-12.094 7.319-14.115 10.09-14.115 8.36 0 9.176 10.953 9.176 14.115h-19.266l-.065 1.71h22.656c1.792 0 2.02 0 2.02-1.71 0-8.02-4.384-15.892-14.522-15.892-9.42 0-16.902 8.345-16.902 18.516 0 10.871 8.525 18.743 17.864 18.743 9.91 0 13.56-9.013 13.56-10.545 0-.815-.635-.994-1.042-.994-.75 0-.897.489-1.076 1.14-2.82 8.362-10.138 8.362-10.953 8.362-4.075 0-7.302-2.428-9.16-5.427-2.445-3.896-2.445-9.275-2.445-12.192zM597.765 69.29v.326l-.016.31-.016.293-.017.277-.032.245-.033.244-.049.212-.065.196-.065.179-.082.18-.081.146-.114.147-.114.13-.13.114-.147.098-.163.081-.18.082-.195.081-.212.05-.228.064-.245.033-.26.049-.294.016-.147.016-.163.017-.163.016h-.163l-.179.016h-.359l-.195.017h-2.233v2.526c2.706-.082 6.487-.26 8.866-.26 2.413 0 5.673.113 8.932.26v-2.526c-5.444 0-6.34 0-6.34-3.635v-8.378l5.2-4.466c6.242 8.623 9.648 13.154 9.648 14.62 0 1.533-1.369 1.859-2.9 1.859v2.526c2.265-.082 7.057-.26 8.752-.26 2.347 0 4.726.113 7.057.26v-2.526c-2.999 0-4.776 0-7.872-4.303l-10.301-14.539c-.082-.147-.49-.636-.49-.896 0-.294 5.754-5.183 6.57-5.819 5.117-4.156 8.54-4.303 10.235-4.384v-2.527c-2.347.228-3.406.228-5.672.228-2.934 0-7.97-.146-9.095-.228v2.527c1.532.081 2.347.961 2.347 2.004 0 1.63-1.124 2.608-1.793 3.195l-11.458 9.893V19.09l-11.686.897v2.526c5.672 0 6.34.554 6.34 4.548zm-32.744-11.54v-.619l.016-.587.016-.587.033-.57.049-.554.049-.554.065-.522.065-.521.082-.506.081-.489.082-.472.097-.473.229-.896.244-.832.277-.798.293-.75.31-.7.342-.653.359-.62.375-.57.391-.521.408-.49.423-.456.44-.423.44-.375.44-.343.457-.31.456-.26.457-.244.472-.212.457-.196.456-.147.456-.13.44-.098.457-.081.424-.05.423-.032.408-.016c.717 0 5.835.081 8.687 3.015-3.341.245-3.814 2.673-3.814 3.733 0 2.118 1.45 3.748 3.733 3.748 2.102 0 3.732-1.401 3.732-3.814 0-5.525-6.177-8.687-12.436-8.687-10.138 0-17.62 8.753-17.62 18.825 0 10.383 8.053 18.434 17.473 18.434 10.872 0 13.463-9.763 13.463-10.545 0-.815-.815-.815-1.043-.815-.733 0-.896.31-1.06.815-2.346 7.53-7.627 8.508-10.626 8.508-4.303 0-11.458-3.488-11.458-16.56zm-36.477-1.06l.081-1.71c.49-12.094 7.302-14.115 10.09-14.115 8.344 0 9.16 10.953 9.16 14.115h-19.25l-.081 1.71h22.671c1.777 0 2.005 0 2.005-1.71 0-8.02-4.368-15.892-14.506-15.892-9.42 0-16.918 8.345-16.918 18.516 0 10.871 8.54 18.743 17.88 18.743 9.91 0 13.544-9.013 13.544-10.545 0-.815-.635-.994-1.043-.994-.733 0-.88.489-1.06 1.14-2.835 8.362-10.137 8.362-10.952 8.362-4.075 0-7.318-2.428-9.176-5.427-2.445-3.896-2.445-9.275-2.445-12.192zm-13.773 1.386l-.032-.961-.066-.962-.114-.945-.163-.93-.195-.912-.245-.896-.293-.88-.326-.864-.359-.832-.39-.815-.441-.798-.473-.766-.505-.75-.538-.717-.554-.701-.603-.652-.62-.636-.651-.603-.685-.57-.7-.522-.734-.505-.75-.456-.782-.424-.783-.391-.815-.343-.83-.293-.848-.26-.88-.213-.864-.179-.897-.114-.913-.082-.912-.016-.082 1.777c3.57 0 7.058 1.793 9.177 5.28 2.118 3.489 2.118 8.199 2.118 11.28 0 2.933 0 7.301-1.792 10.87-1.777 3.668-5.347 6.015-9.421 6.015-3.488 0-7.058-1.711-9.242-5.427-2.037-3.586-2.037-8.525-2.037-11.459 0-3.162 0-7.546 1.94-11.132 2.2-3.716 5.997-5.427 9.257-5.427l.082-1.777c-10.138 0-18.027 8.834-18.027 18.988 0 10.48 8.443 18.271 17.945 18.271 9.828 0 18.043-7.953 18.043-18.27zm-62.783-10.235l.733-.196.717-.196.718-.228.7-.244.685-.261.684-.277.652-.293.652-.31.636-.31.603-.342.603-.359.57-.358.555-.375.538-.391.521-.408.49-.424.472-.44.44-.44.424-.456.39-.473.376-.472.342-.506.31-.489.293-.521.245-.522.228-.538.195-.537.147-.57.13-.555.082-.57.065-.587.016-.587c0-7.791-9.241-14.62-21.188-14.62H419.52v2.526h1.94c6.259 0 6.405.88 6.405 3.814v42.785c0 2.934-.146 3.814-6.405 3.814h-1.94v2.526c2.902-.26 8.688-.26 11.833-.26 3.162 0 8.948 0 11.866.26v-2.526h-1.956c-6.242 0-6.422-.88-6.422-3.814V25.77c0-1.89 0-2.851 1.793-3.112.815-.147 3.178-.147 4.808-.147 7.286 0 16.397.326 16.397 12.094 0 5.607-1.956 12.175-13.968 12.175h-9.03v1.81h9.356c1.304 0 4.71 0 7.53 2.738 3.113 2.933 3.113 5.46 3.113 10.887 0 5.297 0 8.525 3.309 11.605 3.341 2.934 7.79 3.407 10.235 3.407 6.34 0 7.726-6.634 7.726-8.932 0-.49 0-1.37-1.043-1.37-.896 0-.896.734-.994 1.288-.49 5.786-3.309 7.237-5.346 7.237-3.977 0-4.645-4.156-5.786-11.686l-1.044-6.504c-1.45-5.183-5.46-7.888-9.91-9.42zM382.57 71.148v-.212l-.017-.228-.032-.212-.033-.212-.049-.195-.065-.212-.065-.196-.082-.195-.081-.196-.098-.18-.098-.179-.114-.179-.13-.163-.114-.163-.147-.163-.147-.147-.146-.146-.147-.13-.163-.131-.18-.114-.162-.114-.18-.114-.195-.098-.18-.082-.195-.081-.212-.065-.195-.065-.212-.05-.212-.032-.212-.033-.212-.016h-.228c-2.347 0-4.303 1.956-4.303 4.303s1.956 4.303 4.303 4.303c2.363 0 4.303-1.956 4.303-4.303zm-57.568-50.086l-.065-.098-.065-.082-.05-.081-.064-.082-.05-.065-.065-.065-.048-.065-.05-.05-.048-.064-.05-.05-.048-.032-.049-.049-.065-.032-.049-.033-.049-.033-.065-.032-.049-.033-.065-.016-.065-.016-.066-.017-.065-.016-.081-.016-.082-.017h-.081l-.098-.016h-.196l-.114-.016h-14.327v2.526h2.364c1.239 0 2.836.065 4.058.147 1.858.26 1.956.326 1.956 1.89v42.378c0 2.184 0 5.998-8.378 5.998v2.526c2.853-.082 6.83-.26 9.503-.26 2.705 0 6.666.178 9.502.26v-2.526c-8.361 0-8.361-3.814-8.361-5.998v-42.23c.407.407.489.488.815.96l33.135 48.75c.717.962.815 1.044 1.386 1.044 1.14 0 1.14-.554 1.14-2.119V28.51c0-2.184 0-5.998 8.346-5.998v-2.526c-2.853.081-6.813.26-9.486.26-2.69 0-6.683-.179-9.503-.26v2.526c8.345 0 8.345 3.814 8.345 5.998v34.7zm-65.359 35.32l.473-.588.473-.603.489-.619.489-.636 1.01-1.27.49-.62.504-.636.49-.603.488-.603.457-.57.456-.555.228-.26.228-.261.212-.261.196-.244.212-.229.195-.228.196-.212.18-.195c2.526-2.902 5.85-4.124 9.68-4.205v-2.527c-2.118.163-4.563.228-6.682.228-2.412 0-6.715-.146-7.79-.228v2.527c1.71.146 2.38 1.19 2.38 2.493 0 1.304-.816 2.364-1.223 2.853l-5.053 6.34-6.308-8.198c-.75-.815-.75-.995-.75-1.484 0-1.222 1.223-1.923 2.837-2.004v-2.527c-2.087.082-7.465.228-8.77.228-1.694 0-5.525-.065-7.709-.228v2.527c5.672 0 5.786.081 9.568 4.938l8.051 10.464-7.644 9.682c-3.895 4.71-8.67 4.857-10.382 4.857v2.526c2.119-.147 4.629-.26 6.748-.26 2.347 0 5.753.178 7.709.26v-2.526c-1.777-.229-2.363-1.288-2.363-2.51 0-1.793 2.363-4.466 7.318-10.318l6.177 8.117c.636.897 1.712 2.2 1.712 2.673 0 .75-.734 1.972-2.934 2.038v2.526c2.428-.082 6.976-.26 8.769-.26 2.184 0 5.362.113 7.79.26v-2.526c-4.384 0-5.835-.147-7.725-2.51zM222.711 69.29l.033.31.049.293.065.31.065.293.081.31.098.293.098.294.114.293.114.293.13.277.147.294.147.26.163.261.18.261.195.26.18.23.211.227.212.228.228.212.245.196.244.196.245.162.277.163.26.147.294.13.293.115.31.097.31.082.326.065.342.049.342.033.342.016c1.68 0 6.65-1.157 6.65-7.726v-4.53h-2.037v4.53c0 4.71-2.005 5.2-2.934 5.2-2.673 0-2.999-3.635-2.999-4.043v-16.25c0-3.422 0-6.568-2.901-9.583-3.178-3.146-7.237-4.45-11.132-4.45-6.666 0-12.273 3.798-12.273 9.16 0 2.429 1.63 3.83 3.748 3.83 2.266 0 3.733-1.63 3.733-3.748 0-.962-.408-3.635-4.14-3.75 2.184-2.819 6.161-3.715 8.752-3.715 4.01 0 8.606 3.162 8.606 10.398v12.828c0 7.725-5.818 10.464-9.502 10.464-3.96 0-7.302-2.853-7.302-6.895 0-4.45 3.407-11.214 16.804-11.686v-1.712c-4.123.229-9.795.49-14.913 2.934-6.096 2.755-8.133 6.976-8.133 10.546 0 6.568 7.872 8.605 12.99 8.605 5.379 0 9.095-3.243 10.643-7.057zm-82-47.528l-.032-.081-.033-.082-.033-.065-.032-.081-.065-.147-.05-.13-.064-.114-.05-.115-.064-.114-.066-.097-.049-.082-.065-.081-.049-.082-.065-.065-.065-.065-.065-.066-.065-.048-.066-.033-.081-.049-.082-.033-.081-.032-.082-.016-.097-.033-.098-.016-.098-.017h-.098l-.114-.016h-.13l-.13-.016h-14.49v2.526h1.972c6.226 0 6.389.88 6.389 3.814v40.6c0 2.185 0 5.999-8.361 5.999v2.526c2.852-.082 6.829-.26 9.502-.26 2.673 0 6.682.178 9.502.26v-2.526c-8.361 0-8.361-3.814-8.361-5.998V23.164h.081l19.559 50.51c.407 1.044.815 1.777 1.63 1.777.896 0 1.14-.668 1.45-1.548l20-51.39h.064V69.11c0 2.934-.146 3.814-6.405 3.814h-1.94v2.526c3-.26 8.508-.26 11.687-.26 3.162 0 8.606 0 11.62.26v-2.526h-1.971c-6.227 0-6.406-.88-6.406-3.814V26.326c0-2.934.18-3.814 6.406-3.814h1.972v-2.526h-13.74c-2.103 0-2.103.081-2.673 1.548L158.33 67.253zM68.673 49.04l.015-.107v-.215l.015-.107V48.38l-.015-.122v-.123l-.015-.107v-.123l-.03-.122-.015-.123-.03-.122-.031-.108-.031-.122-.046-.107-.046-.108-.046-.107-.061-.107-.077-.092-.076-.092-.077-.092-.046-.046-.046-.03-.046-.046-.061-.031-.046-.03-.061-.047-.062-.03-.061-.03-.061-.016-.062-.03-.06-.015-.077-.03-.077-.015-.077-.015-.076-.015-.077-.014h-.077l-.091-.015h-.184c-1.21 0-2.19 1.01-1.976 1.99v.996l1.072 11.822-9.77-7.105c-.689-.383-.826-.521-1.378-.521-1.056 0-2.067 1.072-2.067 2.128 0 1.21.766 1.532 1.531 1.915l10.842 5.19-10.52 5.1c-1.225.612-1.853.934-1.853 2.082 0 1.118 1.01 2.129 2.067 2.129.552 0 .69 0 2.604-1.47l8.544-6.171-1.148 12.832c0 1.593 1.363 1.975 1.99 1.975.904 0 2.052-.55 2.052-1.975l-1.148-12.832 9.754 7.105c.705.368.843.536 1.394.536 1.056 0 2.052-1.087 2.052-2.129 0-1.148-.69-1.53-1.593-1.99-4.578-2.297-4.747-2.297-10.765-5.13l10.52-5.115c1.225-.597 1.838-.903 1.838-2.052 0-1.148-.996-2.128-2.052-2.128-.551 0-.69 0-2.603 1.455l-8.545 6.17zM50.32 18.857l.015-.107v-.215l.014-.107V18.198l-.014-.123v-.122l-.015-.107v-.123l-.03-.123-.015-.122-.031-.123-.03-.107-.031-.123-.046-.107-.046-.107-.046-.107-.062-.107-.076-.092-.077-.092-.076-.092-.046-.046-.046-.03-.046-.047-.062-.03-.046-.031-.06-.046-.062-.03-.061-.031-.062-.015-.06-.03-.062-.015-.077-.031-.076-.015-.077-.014-.077-.015-.076-.015h-.077l-.092-.014h-.184c-1.21 0-2.19 1.01-1.975 1.99v.996l1.072 11.821-9.77-7.105c-.689-.383-.827-.52-1.378-.52-1.057 0-2.067 1.071-2.067 2.128 0 1.21.765 1.531 1.531 1.914l10.842 5.191-10.52 5.1c-1.225.612-1.853.934-1.853 2.082 0 1.118 1.01 2.129 2.067 2.129.551 0 .69 0 2.603-1.47l8.545-6.172-1.149 12.833c0 1.592 1.363 1.975 1.991 1.975.904 0 2.052-.551 2.052-1.975L49.248 34.05l9.754 7.106c.704.367.842.536 1.393.536 1.057 0 2.052-1.088 2.052-2.129 0-1.148-.689-1.531-1.592-1.99-4.579-2.298-4.747-2.298-10.765-5.13l10.52-5.115c1.225-.597 1.837-.904 1.837-2.052 0-1.149-.995-2.129-2.052-2.129-.55 0-.689 0-2.603 1.455l-8.544 6.171zM31.966 49.039l.015-.107v-.215l.015-.107V48.38l-.015-.122v-.123l-.015-.107v-.123l-.03-.122-.015-.123-.03-.122-.031-.108-.03-.122-.047-.107-.046-.108-.046-.107-.06-.107-.078-.092-.076-.092-.077-.092-.046-.046-.046-.03-.046-.046-.06-.031-.047-.03-.061-.047-.061-.03-.062-.03-.061-.016-.061-.03-.062-.015-.076-.03-.077-.015-.076-.015-.077-.015-.077-.014h-.076l-.092-.015h-.184c-1.21 0-2.19 1.01-1.975 1.99v.996l1.072 11.822-9.77-7.105c-.69-.383-.827-.521-1.378-.521-1.057 0-2.068 1.072-2.068 2.128 0 1.21.766 1.532 1.532 1.915l10.841 5.19-10.52 5.1c-1.225.612-1.853.934-1.853 2.082 0 1.118 1.011 2.129 2.068 2.129.551 0 .689 0 2.603-1.47l8.545-6.171L28 77.065c0 1.593 1.363 1.975 1.99 1.975.904 0 2.053-.55 2.053-1.975l-1.149-12.832 9.755 7.105c.704.368.842.536 1.393.536 1.057 0 2.052-1.087 2.052-2.129 0-1.148-.689-1.53-1.592-1.99-4.58-2.297-4.748-2.297-10.766-5.13l10.52-5.115c1.226-.597 1.838-.903 1.838-2.052 0-1.148-.995-2.128-2.052-2.128-.551 0-.689 0-2.603 1.455l-8.545 6.17zM5.2 4.333h86.335v86.334H5.2z"/></svg></a></h1><nav class="header__nav"><ul class="horizontal-nav"><a class="horizontal-nav__item" href="/blog">Blog</a> <a class="horizontal-nav__item" href="/about">Sobre</a> <a class="horizontal-nav__item" href="/now">Now</a></ul></nav></header><main class="blog-entry"><header class="blog-header"><h1 class="blog-title">JavaScript Orientado a Objetos #3<br><small class="blog-title__subtitle">Fábricas</small></h1><p class="blog-heading">Entenda mais sobre essa alternativa para a criação de objetos em JavaScript OO.</p><div class="blog-details"><div class="blog-details__date"><time class="hdate" datetime="2016-04-27"><span class="hdate__weekday">quarta-feira</span>, <span class="hdate__monthday">27</span> de <span class="hdate__month">abril</span> de <span class="hdate__year">2016</span></time></div><ul class="blog-details__tags"><li class="blog-details__tags__tag"><a href="/tags/javascript" rel="tag">javascript</a></li><li class="blog-details__tags__tag"><a href="/tags/object oriented programming" rel="tag">object oriented programming</a></li><li class="blog-details__tags__tag"><a href="/tags/post" rel="tag">post</a></li></ul></div></header><section class="blog-content"><p>Hoje iremos compreender um pouco sobre as Fábricas no contexto do JavaScript Orientado a Objetos, um padrão de projeto alternativos aos construtores para a criação de objetos que possui muita similaridade com programação funcional.</p><aside><p><strong>fá.bri.ca:</strong> (1) estabelecimento onde ocorre a fabricação ou manufatura de produtos; (2) um mecanismo que produz ou cria algo.</p></aside><p>Para que você aproveite melhor o texto é recomendado que você tenha conhecimento dos conceitos básicos de orientação a objetos. Você pode ler uma pequena introdução <a href="http://maxroecker.github.io/blog/javascript-orientado-a-objetos-1/">no texto anterior dessa série</a> e também ver o como criar objetos com <a href="http://maxroecker.github.io/blog/javascript-orientado-a-objetos-2/">construtores</a>. Também é recomendado que você conheça o comportamento e características dos <a href="http://maxroecker.github.io/blog/javascript-intermediario-4/"><em>closures</em></a> em JavaScript. O texto hoje é um pouco longo porque achei importante unir os principais tópicos de cada padrão em uma só publicação.</p><h2>Introdução</h2><p>Já vimos, na publicação anterior, que construtores, em JavaScript, são funções que inicializam um objeto o qual a memória já foi alocada. Revisitando nosso exemplo do construtor <code>Person</code>, visto abaixo, vemos que todas as propriedades são acessíveis e que os métodos são compartilhados entre todos os objetos por meio da cadeia de protótipos.</p><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> surname</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span><br>  <span class="token keyword">this</span><span class="token punctuation">.</span>surname <span class="token operator">=</span> surname<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getFullName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>surname<span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>Para nosso exemplo, vamos adicionar um novo método à <code>Person</code> chamado <code>print</code> e que exibe, na saída padrão, uma <em>string</em> representando o objeto.</p><pre class="language-js"><code class="language-js"><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">print</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Person [name: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">']'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>Suponha que queremos chamar o método <code>print</code> duas vezes: a primeira imediatamente após a criação do objeto e a segunda 3 segundos depois. Podemos utilizar a função <code>setTimeout</code>, que recebe uma função e um número de milissegundos, para fazer essa tarefa. Veja:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Pedremildo'</span><span class="token punctuation">,</span> <span class="token string">'Escavadeira'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>person<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// → 'Person [name: Pedremildo]'</span><br><br><span class="token function">setTimeout</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>print<span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// → 'Person [name: undefined]'</span></code></pre><p>O que aconteceu com o método? Porque, após 5 segundos, o resultado foi diferente? Na realidade, o método perdeu o contexto de onde deveria ser executado, ou seja, que objeto <code>this</code> se refere. Quando chamamos um método diretamente no objeto com <code>objeto.método()</code>, o JavaScript automaticamente define o <code>this</code> do método como o próprio objeto. Como repassamos o método para outro objeto eventualmente executá-lo, o <code>this</code> do método não referencia mais <code>person</code> e, por isso, temos problemas.</p><p>A função <code>print</code> não está amarrada ao objeto <code>person</code>, ela é compartilhada por todos os objetos construídos por <code>Person</code>. E, justamente porque os métodos são compartilhados é que, em certos casos, podemos ter problemas com a utilização desses métodos me outros contextos, como vimos acima. Há vários problemas</p><p>Uma forma de resolver esse problema é explicitamente pedir para seja criada uma nova função, idêntica a anterior, mas que esteja amarrada à variável <code>person</code> por meio do método <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind"><code>bind</code></a>. Veja:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Pedremildo'</span><span class="token punctuation">,</span> <span class="token string">'Escavadeira'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>person<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// → 'Person [name: Pedremildo]'</span><br><br><span class="token function">setTimeout</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// → 'Person [name: Pedremildo]'</span></code></pre><p>Resolvemos o problema criando uma cópia da função com um contexto amarrado, no entanto, essa não é uma das vantagens dos construtores? Porque vamos compartilhar se, dependendo do caso de uso, teremos que criar cópias com contexto amarrado.</p><p>Este exemplo mostra bem as desvantagens que construtores possuem. O uso incorreto do <code>this</code> é um dos <a href="https://www.toptal.com/javascript/10-most-common-javascript-mistakes">erros mais comuns</a> entre desenvolvedores JavaScript em qualquer nível de experiência e é fonte de muitos <em>bugs</em>. No entanto, há uma alternativa: as <strong>fábricas</strong>.</p><h2>Fábricas</h2><p>Fábricas são, como construtores, funções que inicializam objetos. No entanto, fábricas não só inicializam o objeto, como também são responsáveis por criar a área de memória associada à ele; diferente dos construtores, que passam essa responsabilidade para o operador <code>new</code>. Vamos refatorar nosso construtor para que ele seja uma fábrica. Veja:</p><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> surname</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br>  person<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span><br>  person<span class="token punctuation">.</span>surname <span class="token operator">=</span> surname<span class="token punctuation">;</span><br>  person<span class="token punctuation">.</span><span class="token function-variable function">getFullName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> person<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> person<span class="token punctuation">.</span>surname<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br>  person<span class="token punctuation">.</span><span class="token function-variable function">print</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Person [name: '</span> <span class="token operator">+</span> person<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">']'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> person<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>Veja que nossa função agora, além de inicializar, cria o objeto. Além disso, não atribuímos mais as funções no protótipo, mas no próprio objeto. Como <code>Person</code> não é um construtor e sim uma função comum, invocamos-a sem o <code>new</code>. Podemos também fazer o exemplo anterior sem a necessidade do <code>bind</code>.</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">'Pedremildo'</span><span class="token punctuation">,</span> <span class="token string">'Escavadeira'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">'Testerson'</span><span class="token punctuation">,</span> <span class="token string">'Trunk'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// → Pedremildo</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>surname<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// → Trunk</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">getFullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// → 'Pedremildo Escavadeira'</span><br><br>b<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// → 'Person [name: Testerson]'</span><br><br><span class="token function">setTimeout</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>print<span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// → 'Person [name: Testerson]'</span></code></pre><p>Note que, como criamos o objeto, não precisamos mais utilizar <code>this</code>. Sempre temos a referência do objeto criado. Isso acontece porque os métodos <code>getFullName</code> e <code>print</code> são <em>closures</em> e, assim, mantém a referência do escopo da fábrica e podem acessá-lo a qualquer momento.</p><p>Entretanto, temos um preço a pagar: todos os métodos dos objetos criados são cópias e não são compartilhados. A cada vez que a fábrica <code>Person</code> é chamada, ela cria um objeto e cópias dos métodos amarrados a esse objeto. Veja:</p><pre class="language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>getFullName <span class="token operator">===</span> b<span class="token punctuation">.</span>getFullName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// → false</span></code></pre><h2>Herança</h2><p>Fábricas também podem utilizar a herança. Vamos relembrar o exemplo da publicação anterior, criando uma fábrica <code>Employee</code>, que estende <code>Person</code> e adiciona a propriedade <code>salary</code> e o método <code>getTax</code>.</p><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Employee</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> surname<span class="token punctuation">,</span> salary</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> employee <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> surname<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  employee<span class="token punctuation">.</span>salary <span class="token operator">=</span> salary<span class="token punctuation">;</span><br>  employee<span class="token punctuation">.</span><span class="token function-variable function">getTax</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> employee<span class="token punctuation">.</span>salary <span class="token operator">*</span> <span class="token number">0.08</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> employee<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>De forma geral, não precisamos mais utilizar o método <code>apply</code> e, como não usamos protótipos, não há necessidade de utilizar o <code>Object.create</code>, como nos construtores. No entanto, “terceirizamos” a criação do objeto para outra fábrica que queremos estender as propriedades e métodos.</p><p>Veja que a utilização é exatamente igual à <code>Person</code>, no entanto, mais propriedades e métodos estão disponíveis.</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token function">Employee</span><span class="token punctuation">(</span><span class="token string">'Pedremildo'</span><span class="token punctuation">,</span> <span class="token string">'Escavadeira'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">'Testerson'</span><span class="token punctuation">,</span> <span class="token string">'Trunk'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// → Pedremildo</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>surname<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// → Trunk</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">getFullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// → 'Pedremildo Escavadeira'</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>getFullName <span class="token operator">===</span> b<span class="token punctuation">.</span>getFullName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// → false</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">getTax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// → 8</span></code></pre><h2>Encapsulamento</h2><p>Apesar dos objetos serem estruturas de dados muito parecidos com uma <a href="https://en.wikipedia.org/wiki/Associative_array">tabela <em>hash</em></a>, onde todas as propriedades do objeto são acessíveis. O conceito de encapsulamento, com fábricas, pode ser atingido por meio do <em>closure</em>.</p><p>O <em>closure</em> é protegido de qualquer mudança externa além das próprias variáveis retornadas. Não há necessidade de convenção. Com fábricas, temos encapsulamento verdadeiro. Vamos refatorar o exemplo acima para adicionar uma propriedade “privada” que armazena a taxa do imposto de um empregado.</p><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Employee</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> surname<span class="token punctuation">,</span> salary</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> employee <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> surname<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">const</span> rate <span class="token operator">=</span> <span class="token number">0.08</span><span class="token punctuation">;</span><br>  employee<span class="token punctuation">.</span>salary <span class="token operator">=</span> salary<span class="token punctuation">;</span><br>  employee<span class="token punctuation">.</span><span class="token function-variable function">getTax</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> employee<span class="token punctuation">.</span>salary <span class="token operator">*</span> rate<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> employee<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>Veja que <code>rate</code> é uma variável que está no <code>closure</code> de <code>getTax</code>. Não há outra forma de acessar <code>rate</code> senão pelo método <code>getTax</code>. Ou seja, <code>rate</code> está encapsulada de qualquer efeito externo que não seja gerado pelo próprio objeto.</p><h2>Polimorfismo</h2><p>Assim como em construtores, devido às características do JavaScript, o polimorfismo pode ser realizado sem muitos problemas, uma vez que funções são objetos, objetos são mutáveis e variáveis não possuem tipos definidos. Normalmente o polimorfismo se dá por meio do <a href="https://pt.wikipedia.org/wiki/Duck_typing"><em lang="en">duck typing</em></a> e que fazem o <strong>Teste do Pato</strong>.</p><blockquote><p>Se algo parece com um pato, nada como um pato e grasna como um pato, então provavelmente é um pato</p></blockquote><p>No contexto de programação, isso significa que não é o tipo do objeto que irá definir sua semântica, mas sim suas propriedades e métodos. Se um conjunto de objetos contém um método com o nome <code>foo</code>, você pode chamá-los sem problema.</p><p>Não há um contrato pré-definido entre as objetos — como é o caso das interfaces em Java ou classes abstratas em C++ — e por isso fica a cargo do codificador utilizar a mesmo protocolo nos objetos em que deve-se estabelecer um polimorfismo.</p><figure><img src="/images/2016-04-22-javascript-orientado-a-objetos-2/duck.svg" alt="Um automâto de pato com sistema alimentação similar ao trato digestivo" title="Pato Mecânico de Jacques de Vaucanson, 1738" decoding="async" loading="lazy"></figure><h2>Propriedades e métodos estáticos</h2><p>De forma similar aos construtores, propriedades e métodos estáticos podem ser criados atribuindo-os diretamente à fábrica. Relembrando o exemplo da publicação anterior, vamos criar uma propriedade estática na fábrica <code>Person</code> para armazenar a quantidade de objetos já criados por ele ou qualquer descendente.</p><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> surname</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  Person<span class="token punctuation">.</span>count <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span><br>  <span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br>  person<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span><br>  person<span class="token punctuation">.</span>surname <span class="token operator">=</span> surname<span class="token punctuation">;</span><br>  person<span class="token punctuation">.</span><span class="token function-variable function">getFullName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> person<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> person<span class="token punctuation">.</span>surname<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br>  person<span class="token punctuation">.</span><span class="token function-variable function">print</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Person [name: '</span> <span class="token operator">+</span> person<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">']'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> person<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br>Person<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></code></pre><p>Assim, podemos agora verificar quantas instâncias já foram criadas, veja:</p><pre class="language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// → 0</span><br><br><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">'Pedremildo'</span><span class="token punctuation">,</span> <span class="token string">'Escavadeira'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// → 1</span><br><br><span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">'Testerson'</span><span class="token punctuation">,</span> <span class="token string">'Trunk'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// → 2</span></code></pre><h2>Garantias de instanciação</h2><p>Como as fábricas não utilizam a cadeia de protótipos, não há como determinar se um objeto foi criado ou não por uma fábrica por meio do operador <code>instanceof</code>.</p><p>No entanto, também não temos a necessidade de verificar se uma função foi chamada da forma correta, uma vez que a própria fábrica detém o controle da criação do objeto.</p><h2>Conclusões</h2><p>Utilizar fábricas traz várias vantagens alternativas e atacam os pontos onde construtores deixam a desejar:</p><ul><li>Herança simplificada: basta chamar a fábrica que se deseja herdar e modificar seus métodos;</li><li>Polimorfismo simplificado: não há contratos entre as fábricas;</li><li>Encapsulamento verdadeiro: o <em>closure</em> mantém o escopo completamente isolado e inacessível de efeitos externos.</li><li>O não compartilhamento de métodos traz vantagens uma vez que não precisamos nos preocupar em qual contexto um método será executado, eliminando os riscos com o uso incorreto do <code>this</code>.</li></ul><p>Porém, há um preço a se pagar:</p><ul><li>Uso ineficiente da memória: cada método é alocado para cada objeto criado. Não há compartilhamento entre todos os objetos através do uso de protótipos e, por isso, fábricas tendem a consumir muito mais memória do que construtores;</li><li>Não é possível estabelecer se um objeto foi criado por uma fábrica por meio do <code>instanceof</code>.</li></ul><p>A tabela abaixo resume bem as características dos construtores e fábricas:</p><table><thead><tr><th style="text-align:left">Característica</th><th style="text-align:center">Construtores</th><th style="text-align:center">Fábricas</th></tr></thead><tbody><tr><td style="text-align:left">Herança</td><td style="text-align:center">✓</td><td style="text-align:center">✓</td></tr><tr><td style="text-align:left">Encapsulamento</td><td style="text-align:center">✗</td><td style="text-align:center">✓</td></tr><tr><td style="text-align:left">Verificação de instâncias</td><td style="text-align:center">✓</td><td style="text-align:center">✗</td></tr><tr><td style="text-align:left">Consistência do <code>this</code></td><td style="text-align:center">✗</td><td style="text-align:center">✓</td></tr><tr><td style="text-align:left">Uso eficiente de memória</td><td style="text-align:center">✓</td><td style="text-align:center">✗</td></tr><tr><td style="text-align:left">Propriedades estáticas</td><td style="text-align:center">✓</td><td style="text-align:center">✓</td></tr></tbody></table><p>Note que, apesar das vantagens que as fábricas trazem, alguns pontos negativos impactam a sua escolha.</p><p>Num geral, os desenvolvedores JavaScript preferem utilizar construtores ao invés de fábricas porque os próprios ambientes de execução preferem utilizar esse padrão. Mas, mesmo sendo menos populares, é importante entender as fábricas pois elas permitem compreender as limitações que os construtores possuem e vice-versa.</p><p>No entanto, construtores contam com algumas simplificações sintáticas que facilitam ainda mais seu uso, como é o caso da estrutura <code>class</code> no ES6, mas isso é um assunto para a próxima publicação!</p><p>Até mais!</p></section><footer class="personal personal--small"><div class="avatar avatar--small"><div class="avatar-photo"></div></div><h2 class="personal__name personal__name--small">Max Naegeler Roecker</h2><p class="personal__bio personal__bio--small">Mestre em Ciência da Computação & Desenvolvedor de Software</p><ul class="personal__links personal__links--small"><li><a href="https://github.com/MaxRoecker"><span class="fab fa-github-square"></span></a></li><li><a href="https://twitter.com/maxrkr"><span class="fab fa-twitter-square"></span></a></li><li><a href="https://www.linkedin.com/in/maxroecker"><span class="fab fa-linkedin"></span></a></li></ul></footer></main><footer class="footer"><p class="footer__disclaimer">Exceto explicíto, todo o conteúdo deste site está licenciado sob <a rel="nofollow" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0</a> e os códigos publicados ou utilizados para a geração do próprio site estão sob <a rel="nofollow" href="https://unlicense.org/">Domínio Publico</a>.</p><p class="footer__log">Atualizado às <time datetime="2021-11-11T22:52:13-03:00">22h52 de 11 de novembro de 2021</time></p><p class="footer__acknowledgment">Feito com <strong>❤️</strong> e provido por <a rel="nofollow" href="https://www.11ty.dev/">11ty</a></p></footer></div><script></script></body></html>