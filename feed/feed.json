{
	"version": "https://jsonfeed.org/version/1.1",
	"title": "Max N. Roecker",
	"language": "pt-br",
	"home_page_url": "https://maxroecker.github.io/",
	"feed_url": "https://maxroecker.github.io/feed/feed.json",
	"description": "P√°gina e Blog de Max Naegeler Roecker",
	"author": {
		"name": "Max Naegeler Roecker",
		"url": "https://maxroecker.github.io"
	},
	"items": [
		{
			"id": "https://maxroecker.github.io/blog/cruxhash",
			"url": "https://maxroecker.github.io/blog/cruxhash",
			"title": "Apresentando: CRUXHash",
			"content_html": "<p><em>Hash</em> √©, provavelmente, um dos conceitos mais importantes que um programador\ndeve conhecer. √â por meio de <em>hashes</em> que conseguimos criar as\n<a href=\"https://en.wikipedia.org/wiki/Hash_table\">tabelas <em>hash</em></a>, <a href=\"https://auth0.com/blog/hashing-passwords-one-way-road-to-security/\">armazenar senhas de\nforma\nsegura</a>,\n<a href=\"https://en.wikipedia.org/wiki/Checksum\">fazer detec√ß√£o de erros</a> e tamb√©m\n<a href=\"https://en.wikipedia.org/wiki/One-way_compression_function\">compress√£o de dados</a>.\nS√£o <em>hashes</em> que tamb√©m permitem criar <a href=\"https://en.wikipedia.org/wiki/Bloom_filter#Cache_filtering\">sistemas de cache globais em redes de\nfornecimento de\nconte√∫do</a>,\npopularmente conhecidas como CDNs.</p>\n<p>Formalmente, uma fun√ß√£o <em>hash</em>, traduzida em portugu√™s como ‚Äúfun√ß√£o de\nespalhamento‚Äù, √© uma fun√ß√£o que mapeia um conjunto de dados de tamanho\narbitr√°rio em um conjunto de dados de tamanho fixo. Veja, por exemplo, a fun√ß√£o\nabaixo:</p>\n<figure>\n<math display=\"block\">\n  <mrow>\n    <mi>f</mi>\n    <mo>:</mo>\n    <mi>‚Ñ§</mi>\n    <mo>‚Üí</mo>\n    <mi>‚Ñ§</mi>\n    <mtext>&#x00A0;&#x00A0;tal que&#x00A0;&#x00A0;</mtext>\n    <mi>f</mi>\n    <mo stretchy=\"false\">(</mo>\n    <mi>x</mi>\n    <mo stretchy=\"false\">)</mo>\n    <mo>=</mo>\n    <mi>x</mi>\n    <mo>mod</mo>\n    <mn>10</mn>\n  </mrow>\n</math>\n</figure>\n<p>Essa fun√ß√£o pode ser considerada uma fun√ß√£o <em>hash</em>. Ela receber√° um n√∫mero\ninteiro qualquer e ir√° retornar o resto da divis√£o por dez. Qualquer resto de\ndivis√£o por um n√∫mero <math display=\"inline\"><mi>n</mi></math>, ser√° um n√∫mero entre\n<math display=\"inline\"><mn>0</mn></math> e <math display=\"inline\"><mo stretchy=\"false\">(</mo><mi>n</mi><mo>-</mo><mn>1</mn><mo stretchy=\"false\">)</mo>\n</math>, ou seja, um intervalo fixo. Veja outra fun√ß√£o\nabaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">hashStr</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> hashed <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">&lt;</span> str<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    hashed <span class=\"token operator\">=</span> hashed <span class=\"token operator\">^</span> str<span class=\"token punctuation\">.</span><span class=\"token function\">charCodeAt</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    i <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> hashed<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>A fun√ß√£o <code>hashStr</code> acima, escrita em JavaScript, tamb√©m pode ser considerada uma\nfun√ß√£o <em>hash</em>. Afinal, ela converte uma <em>string</em> de tamanho arbitr√°rio em um\nn√∫mero, combinando caractere a caractere. O operador <code>^</code>, nesse exemplo, est√°\nfazendo um\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_XOR\">‚Äúou-exclusivo bin√°rio‚Äù</a>,\nque sempre retorna um n√∫mero de 32 bits.</p>\n<p>Os resultados de uma fun√ß√£o <em>hash</em> s√£o chamados de <em>hash codes</em>, <em>digests</em> ou\nsimplesmente <em>hashes</em>. Boas fun√ß√µes <em>hash</em> s√£o r√°pidas e puras, ou seja, a mesma\nentrada sempre ir√° retornar a mesma sa√≠da.</p>\n<h2 id=\"diferenciando-objetos\" tabindex=\"-1\">Diferenciando objetos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/cruxhash\">#</a></h2>\n<p>Outro uso bastante comum √© a possibilidade de diferenciar rapidamente objetos\ncom m√∫ltiplas propriedades. Suponha que voc√™ queira comparar dois objetos por\nmeio das propriedades que comp√µem cada um deles. Uma solu√ß√£o trivial seria\ncomparar cada propriedade, par-√†-par, e, se todas forem equivalentes, os objetos\nser√£o considerados iguais. No entanto, caso alguma propriedade for diferente, os\nobjetos ser√£o diferentes. Veja a tabela abaixo, onde comparamos dois objetos,\n<code>A</code> e <code>B</code>:</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Propriedade</th>\n<th><code>A</code></th>\n<th><code>B</code></th>\n<th style=\"text-align:center\">Iguais?</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\"><code>nome</code></td>\n<td><code>Pedremildo</code></td>\n<td><code>Pedremildo</code></td>\n<td style=\"text-align:center\">‚úì</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>sobrenome</code></td>\n<td><code>Trunk</code></td>\n<td><code>Trunk</code></td>\n<td style=\"text-align:center\">‚úì</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>nascimento</code></td>\n<td><code>1991-08-14</code></td>\n<td><code>1991-08-04</code></td>\n<td style=\"text-align:center\">‚úó</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>email</code></td>\n<td><code>email@exemplo.com</code></td>\n<td><code>email@exemplo.com</code></td>\n<td style=\"text-align:center\">‚óå</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><strong>Resultado</strong></td>\n<td></td>\n<td></td>\n<td style=\"text-align:center\">Diferentes</td>\n</tr>\n</tbody>\n</table>\n<p>Se compararmos <code>A</code> e <code>B</code>, vemos que os objetos n√£o s√£o iguais porque a\npropriedade <code>nascimento</code> √© diferente. Note que, precisamos comparar at√© o\nmomento em que uma propriedade possua valores diferentes. Por isso, a\npropriedade <code>email</code> sequer √© verificada. Assim, esse algoritmo √© linearmente\nproporcional √† quantidade de propriedades que devemos comparar.</p>\n<p>Essa solu√ß√£o acima pode ser utilizada para objetos pequenos, com algumas dezenas\nde propriedades. No entanto, imagine um objeto mais complexo, com centenas de\npropriedades. Ou ainda que seja aninhado, com objetos internos e precisam ser\ncomparados entre si da mesma forma. Voc√™ pode ver que, nesse cen√°rio, comparar\npropriedade por propriedade pode demorar um pouco‚Ä¶</p>\n<p>Para nos ajudar com essa tarefa, podemos utilizar <em>hash</em> que sirva como uma\n‚Äúassinatura‚Äù para o objeto. Esse <em>hash</em> pode ser criado por meio das\npropriedades do pr√≥prio objeto. Assim, quando compararmos a igualdade de um\nobjeto com outro, podemos verificar primeiro a assinatura. Se a assinatura for\ndiferente, n√£o precisamos verificar nenhuma outra propriedade, porque alguma\ndelas ser√° diferente.</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Propriedade</th>\n<th><code>A</code></th>\n<th><code>B</code></th>\n<th style=\"text-align:center\">Iguais?</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\"><code>hash</code></td>\n<td><code>19735</code></td>\n<td><code>28465</code></td>\n<td style=\"text-align:center\">‚úó</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>nome</code></td>\n<td><code>Pedremildo</code></td>\n<td><code>Pedremildo</code></td>\n<td style=\"text-align:center\">‚óå</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>sobrenome</code></td>\n<td><code>Trunk</code></td>\n<td><code>Trunk</code></td>\n<td style=\"text-align:center\">‚óå</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>nascimento</code></td>\n<td><code>1991-08-14</code></td>\n<td><code>1991-08-04</code></td>\n<td style=\"text-align:center\">‚óå</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><code>email</code></td>\n<td><code>email@exemplo.com</code></td>\n<td><code>email@exemplo.com</code></td>\n<td style=\"text-align:center\">‚óå</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><strong>Resultado</strong></td>\n<td></td>\n<td></td>\n<td style=\"text-align:center\">Diferentes</td>\n</tr>\n</tbody>\n</table>\n<p>Veja que agora, quando comparamos a propriedade <code>hash</code>, que foi constru√≠da a\npartir das propriedades do objeto, temos imediatamente um valor diferente, sem\nprecisar consultar as outras propriedades. No entanto, se as assinaturas forem\niguais, isso significa que os objetos s√£o iguais?</p>\n<h2 id=\"colisoes\" tabindex=\"-1\">Colis√µes <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/cruxhash\">#</a></h2>\n<p>Como j√° vimos, uma fun√ß√£o <em>hash</em> mapeia um conjunto de tamanho arbitr√°rio em um\nconjunto de tamanho fixo. Como voc√™ est√° mapeando um conjunto de dados\npossivelmente maior em um conjunto de dados fixo, pelo\n<a href=\"https://pt.wikipedia.org/wiki/Princ%C3%ADpio_da_casa_dos_pombos\">princ√≠pio da casa dos pombos</a>,\nalguns valores diferentes na entrada v√£o ser mapeados para uma mesma sa√≠da.\nQuando isso acontece, temos uma <strong>colis√£o</strong>.</p>\n<p>Colis√µes s√£o problem√°ticas para fun√ß√µes <em>hash</em>. Em tabelas <em>hash</em>, <a href=\"https://en.wikipedia.org/wiki/Hash_table#Collision_resolution\">colis√µes\ndiminuem o\ndesempenho</a>. Em\ncriptografia,\n<a href=\"https://en.wikipedia.org/wiki/Collision_attack\">colis√µes diminuem a seguran√ßa</a>.\nEm compress√£o de dados,\n<a href=\"https://en.wikipedia.org/wiki/One-way_compression_function\">colis√µes diminuem a taxa de compacta√ß√£o</a>.\nBoas fun√ß√µes <em>hash</em> desejam diminuir a taxa de colis√£o tentando seguir uma\ndistribui√ß√£o uniforme. Assim, nenhum intervalo ter√° mais ou menos chances de\nsofrer colis√£o.</p>\n<p>Em nosso caso de compara√ß√£o de objetos, colis√µes nos obrigam a ter que comparar,\ninevitavelmente, todas as propriedades. Afinal, mesmo que dois objetos tenham o\nmesmo <em>hash</em>, eles ainda podem ser diferentes. S√≥ conferindo todas as\npropriedades que temos a garantia que os objetos s√£o realmente iguais. Agora, se\nassinatura for diferente, temos a garantia de que o objeto n√£o √© igual. Por\nisso, utilizar <em>hashes</em> √© uma forma de agilizar o processo de diferenciar\nobjetos.</p>\n<aside>\n<p>\n  <a href=\"https://en.wikipedia.org/wiki/Bloom_filter\">Bloom filter</a> √© uma\n  estrutura de dados probabil√≠stica que utiliza <em lang=\"en\">hash</em> e que\n  possui um fundamento parecido. Ela permite verificar se um elemento est√° no\n  conjunto ou n√£o.\n</p>\n<p>\n  Falsos positivos podem acontecer, mas falsos negativos n√£o. Portanto, a\n  estrutura √© capaz de responder sobre a pertin√™ncia de um elemento de duas\n  formas: ‚Äúpode estar no conjunto‚Äù ou ‚Äún√£o est√° no conjunto‚Äú.\n</p>\n</aside>\n<h2 id=\"apresentando-cruxhash\" tabindex=\"-1\">Apresentando: CRUXHash <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/cruxhash\">#</a></h2>\n<p>Para facilitar a cria√ß√£o de <em>hashes</em> de valores primitivos ou objetos em\nJavaScript, criei uma pequena biblioteca: a\n<a href=\"https://github.com/MaxRoecker/cruxhash\"><strong>CRUXHash</strong></a>. Para instalar, utilize o\nnpm.</p>\n<pre class=\"language-bash\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"token function\">npm</span> i cruxhash</code></pre>\n<p>A CRUXHash √© uma biblioteca que prov√™ um conjunto de fun√ß√µes simples para criar\n<em>hashes</em> inteiros e sem sinal para valores em JavaScript. Veja o exemplo abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> hash<span class=\"token punctuation\">,</span> getSeed <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'cruxhash'</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hash</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Smile, my dear!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 897319059</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hash</span><span class=\"token punctuation\">(</span><span class=\"token number\">42</span><span class=\"token punctuation\">,</span> <span class=\"token function\">getSeed</span><span class=\"token punctuation\">(</span><span class=\"token string\">'my seed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1866919164</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hash</span><span class=\"token punctuation\">(</span><span class=\"token string\">'„Ç≥„É≥„Éã„ÉÅ„Éè, Hello world, ŒöŒ±ŒªŒ∑Œº·Ω≥œÅŒ± Œ∫·ΩπœÉŒºŒµ üòÄ'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1149923829</span></code></pre>\n<p>A sua principal fun√ß√£o, <code>hash</code>, permite criar um <em>hash</em> de qualquer valor\nprimitivo JavaScript: uma <em>string</em>, um booleano, um n√∫mero‚Ä¶ Al√©m disso, permite\nque voc√™ passe, como segundo par√¢metro, um <code>seed</code>, um n√∫mero que inicializa o\nprocesso e que pode trazer resultados diferentes de acordo com sua necessidade.</p>\n<aside>\n  <p>\n    A implementa√ß√£o de <em lang=\"en\">hash</em> de <em lange=\"en\">strings</em>\n    √© baseada no algoritmo\n    <a href=\"https://github.com/aappleby/smhasher/blob/master/src/MurmurHash3.cpp\">Murmur3.</a>\n    J√° o <em lang=\"en\">hash</em> de n√∫meros √© baseado no algoritmo de\n    <a href=\"http://burtleburtle.net/bob/hash/integer.html\">\n      sete saltos de <em lang=\"en\">bits</em> de Thomas Wang.\n    </a>\n  </p>\n</aside>\n<p>Para tratar de objetos, a fun√ß√£o <code>hash</code> trabalha de uma forma especial. Primeiro\nela verifica se o objeto possui um m√©todo <code>hashCode</code> e passa, recursivamente,\nseu resultado para o <code>hash</code>. Esse comportamento √© √∫til para reutilizar objetos\ncom um processo de <em>hash</em> j√° definido. Veja:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> hash <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'cruxhash'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">hashCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hash</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1858670630</span>\n\nobj<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hash</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 796438301</span></code></pre>\n<p>Se o objeto possuir o m√©todo <code>valueOf</code> sobrescrito, como √© o caso de objetos\ninst√¢ncias de <code>Date</code>, <code>Number</code>, <code>Boolean</code>, etc‚Ä¶ a fun√ß√£o <code>hash</code> ir√°\nconsider√°-lo.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> hash <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'cruxhash'</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hash</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2014-07-08'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 271363852</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hash</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2014-07-08'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 271363852</span></code></pre>\n<p>Todo objeto que herde <code>Object.prototype</code>, ter√° o <code>valueOf</code> implementado. No\nentanto, essa implementa√ß√£o sempre retorna o pr√≥prio objeto. Para evitar uma\nrecurs√£o infinita, o m√©todo obriga que o <code>valueOf</code> seja sobrescrito.</p>\n<p>Agora, se o objeto implementar o\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#the_iterable_protocol\">Protocolo Iter√°vel</a>,\num <em>hash</em> ser√° criado a partir de cada elemento do iter√°vel e, ao final, todos\nser√£o combinados em um <em>hash</em> s√≥. Veja:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> hash <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'cruxhash'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> objA <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">yield</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">yield</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">yield</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> objB <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">yield</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">yield</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">yield</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> objC <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">yield</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">yield</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">yield</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hash</span><span class=\"token punctuation\">(</span>objA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 2974883921</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hash</span><span class=\"token punctuation\">(</span>objB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 2974883921</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hash</span><span class=\"token punctuation\">(</span>objC<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 473105883</span></code></pre>\n<p>Veja que, os iter√°veis <code>objA</code> e <code>objB</code> possuem uma sequ√™ncia com os mesmos\nelementos na mesma ordem e, por isso, seus <em>hashes</em> s√£o id√™nticos. Veja, tamb√©m,\nque a ordem faz diferen√ßa. A mudan√ßa de ordem dos elementos nos iter√°veis <code>objA</code>\ne <code>objC</code> resulta em um <em>hash</em> completamente diferente.</p>\n<aside>\n  <p>\n    Em fun√ß√µes <em>hash</em>, √© desej√°vel que pequenas mudan√ßas na entrada que\n    causem grandes diferen√ßas na sa√≠da. Esse comportamento √© conhecido como\n    <a href=\"https://en.wikipedia.org/wiki/Avalanche_effect\">efeito avalanche.</a>\n  </p>\n</aside>\n<p>No entanto, a fun√ß√£o <code>hash</code> vai tratar de forma especial estruturas onde a ordem\ndos elementos n√£o importa, como √© o caso do <code>Set</code> ou <code>Map</code>. Veja:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> hash <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./index'</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hash</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1421611346</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hash</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1421611346</span></code></pre>\n<p>E por fim, caso voc√™ passe um objeto simples, o <em>hash</em> ser√° criado com base no\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries\"><code>Object.entries</code>,</a>\nou seja, objetos que possu√≠rem mesmas propriedades com mesmos valores, ter√£o\n<em>hashes</em> iguais.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> hash <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./index'</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hash</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">b</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1418113148</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">hash</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">b</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1418113148</span></code></pre>\n<h2 id=\"conclusoes\" tabindex=\"-1\">Conclus√µes <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/cruxhash\">#</a></h2>\n<p>Finalizo por aqui a apresenta√ß√£o da CRUXHash. A biblioteca disponibiliza outras\nfun√ß√µes para usos em casos mais espec√≠ficos. Por isso, recomendo que voc√™ veja\nno <a href=\"https://github.com/MaxRoecker/cruxhash\">reposit√≥rio oficial</a> a documenta√ß√£o\nda API dispon√≠vel.</p>\n<p>Criei essa biblioteca de acordo com minha necessidade em projetos pessoais e\nprofissionais. Caso voc√™ queira adicionar algum comportamento, entre em contato\ncomigo. PRs s√£o sempre bem vindos!</p>\n<h2 id=\"agradecimentos\" tabindex=\"-1\">Agradecimentos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/cruxhash\">#</a></h2>\n<p>Agrade√ßo meu amigo\n<a href=\"https://www.linkedin.com/in/henrique-neves-da-silva-5a93a660/\">Henrique Neves</a>\npela revis√£o e pelas considera√ß√µes importantes no texto!</p>\n",
			"date_published": "2021-05-14T23:33:49Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/web-components-2",
			"url": "https://maxroecker.github.io/blog/web-components-2",
			"title": "Web Components #2",
			"content_html": "<p>Como vimos <a href=\"https://maxroecker.github.io/blog/web-components-1/\">na publica√ß√£o anterior</a>, o termo <em>web\ncomponents</em> se refere ao conjunto de APIs disponibilizadas na plataforma <em>web</em>\nque permitem a cria√ß√£o de elementos personalizados que podem ser instanciados de\nforma declarativa como qualquer <em>tag</em> HTML.</p>\n<p>Com a API de\n<a href=\"https://html.spec.whatwg.org/#custom-elements\"><strong>elementos personalizados</strong></a>,\nos desenvolvedores s√£o capazes de criar novas <em>tags</em> HTML. √â a API fundamental\npara os <em>web components</em> e traz uma forma padronizada de criar componentes\nreutiliz√°veis com nada mais que HTML, CSS e JavaScript. Sem a necessidade de\nutilizar uma bibliotecas ou <em>frameworks</em>. Dessa forma, temos menos c√≥digo, mais\ncompatibilidade e mais reutiliza√ß√£o.</p>\n<h2 id=\"introducao\" tabindex=\"-1\">Introdu√ß√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/web-components-2\">#</a></h2>\n<p><a href=\"https://maxroecker.github.io/blog/web-components-1/\">Como j√° vimos</a>, para definir um elemento personalizado\nbasta voc√™ estender a classe <code>HTMLElement</code> e associar ela √† uma <em>tag</em>,\nutilizando o m√©todo <code>define</code> do global <code>customElements</code>. Para exemplificar,\nvamos criar um componente chamado <code>wc-counter</code>, que ir√° ser um simples contador.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">WCCounter</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HTMLElement</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\nwindow<span class=\"token punctuation\">.</span>customElements<span class=\"token punctuation\">.</span><span class=\"token function\">define</span><span class=\"token punctuation\">(</span><span class=\"token string\">'wc-counter'</span><span class=\"token punctuation\">,</span> WCCounter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Assim, podemos utilizar nosso elemento da seguinte forma:</p>\n<pre class=\"language-html\" tabindex=\"0\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>wc-counter</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>wc-counter</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>√â importante lembrar que utilizar um elemento personalizado n√£o √© diferente de\nutilizar um <code>div</code> ou qualquer outro elemento do HTML. No entanto, algumas regras\nde nomenclatura precisam ser seguidas:</p>\n<ol>\n<li>O nome precisa conter um h√≠fen (<code>-</code>). Dessa forma o analisador sint√°tico pode\ndistinguir um elemento personalizado de elementos padr√µes. Al√©m disso,\nprevine conflitos caso novas <em>tags</em> forem adicionadas ao HTML no futuro.</li>\n<li>Voc√™ n√£o pode registrar uma mesma <em>tag</em> mais uma vez. Fazer isso ir√° lan√ßar\num <code>DOMException</code>. Uma vez que uma <em>tag</em> est√° associada √† uma classe, n√£o h√°\nvolta.</li>\n<li>Elementos personalizados s√≥ podem ser utilizados em par. Ou seja, se voc√™\ndeclarou um elemento como <code>meu-elemento</code>, voc√™ deve escrev√™-lo como\n<code>&lt;meu-elemento&gt;&lt;/meu-elemento&gt;</code>. Escrever <code>&lt;meu-elemento /&gt;</code> n√£o funciona.</li>\n</ol>\n<h2 id=\"definindo-a-api-do-elemento\" tabindex=\"-1\">Definindo a API do elemento <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/web-components-2\">#</a></h2>\n<p>Como utilizamos a <a href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-4/\">sintaxe <code>class</code></a>\npara definir o construtor do elemento, j√° utilizamos o <code>extends</code> para estender o\ncomportamento do <code>HTMLElement</code>. Estender o comportamento do <code>HTMLElement</code>\ngarante que seu elemento ir√° seguir a API do DOM e significa que qualquer\npropriedade ou m√©todos que voc√™ adicione √† classe se tornam parte da interface\nDOM do elemento. Ou seja, podemos utilizar a classe para definir a API p√∫blica\nda sua <em>tag</em>.</p>\n<p>Imagine que queremos adicionar duas propriedades: <code>value</code> e <code>disabled</code>, que\nindica o valor atual do contador e se est√° desabilitado ou n√£o, respectivamente.\nVamos adicionar tamb√©m dois m√©todos: <code>increment</code> e <code>decrement</code>, que aumentam e\ndiminuem o contador em uma unidade. Veja:</p>\n<p><playground-ide project-src=\"/projects/2018-04-02-web-components-2/1/project.json\" line-numbers=\"\" resizable=\"\">\n</playground-ide></p>\n<p>Nesse exemplo estamos criando as propriedades <code>value</code> e <code>disabled</code> utilizando\n<em>getters</em> e <em>setters</em> de objetos do JavaScript. Al√©m disso, estamos refletindo\nseus valores em atributos no DOM por meio dos m√©todos <code>setAttribute</code> e\n<code>removeAttribute</code>.</p>\n<aside>\n<p>\n  Como qualquer elemento personalizado estende a classe\n  <code>HTMLElement</code>, toda a API do DOM est√° dispon√≠vel no c√≥digo do\n  pr√≥prio elemento. Ou seja, √© poss√≠vel manipular atributos com\n  <code>setAttribute</code> e <code>removeAttribute</code>, adicionar ouvintes\n  de eventos com <code>addEventListener</code>, acessar os descendentes com\n  <code>children</code> ou selecionar elementos com <code>querySelector</code>.\n</p>\n</aside>\n<h2 id=\"definindo-o-comportamento-do-elemento\" tabindex=\"-1\">Definindo o comportamento do elemento <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/web-components-2\">#</a></h2>\n<p><a href=\"https://maxroecker.github.io/blog/web-components-1/\">Na publica√ß√£o anterior</a>, vimos que √© poss√≠vel\nadicionar conte√∫do ao elemento manipulando o DOM. Tamb√©m vimos que para garantir\no encapsulamento do elemento, √© importante utilizar um <em>shadow</em> DOM. Vamos\nadicionar, ao <em>shadow</em> DOM, tr√™s elementos: um <code>button</code> para decrementar o\nvalor, um <code>span</code> para exibir o valor e outro <code>button</code> para incrementar o valor.</p>\n<p>Podemos exibir os valor no <code>span</code> apropriado e adicionar ouvintes para reagir as\nintera√ß√µes do usu√°rio quando o elemento for conectado √† √°rvore principal do DOM,\npor meio do m√©todo <code>connectedCallback</code>. Al√©m disso, podemos reagir √†s mudan√ßas\nnas propriedades <code>value</code>, assim, quando <code>value</code> for alterado, vamos alterar o\nconte√∫do do elemento. Podemos fazer isso alterando os <em>setters</em> de cada\npropriedade. Veja abaixo:</p>\n<p><playground-ide project-src=\"/projects/2018-04-02-web-components-2/2/project.json\" line-numbers=\"\" resizable=\"\">\n</playground-ide></p>\n<p>E se eu quiser instanciar nosso <code>wc-counter</code> com um valor definido? Relembrando\ncomo outros elementos do HTML funcionam, bastaria eu adicionar o nome da\npropriedade e o valor na marca√ß√£o, como abaixo:</p>\n<pre class=\"language-html\" tabindex=\"0\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>wc-counter</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>wc-counter</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>No entanto, voc√™ vai perceber que isso n√£o tem efeito algum. N√£o funciona porque\nainda n√£o sincronizamos o atributo <code>value</code> √† propriedade <code>value</code>. Atributos e\npropriedades s√£o\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes#content_versus_idl_attributes\">mecanismos distintos</a>\nno DOM e n√£o necessariamente sincronizados. Um atributo indica uma marca√ß√£o no\ndocumento e serializado em uma <em>string</em>, j√° uma propriedade √© um valor no objeto\ne pode ter qualquer tipo de valor do JavaScript.</p>\n<aside>\n  <p>\n    O elemento <code>input</code>, por exemplo, possui o atributo\n    <code>value</code> que inicializa a propriedade hom√¥nima. No entanto, ap√≥s a\n    instancia√ß√£o, n√£o h√° reflex√£o entre o atributo e propriedade. Mudan√ßas na\n    propriedade n√£o alteram o atributo e mudan√ßas no atributo n√£o alteram a\n    propriedade.\n  </p>\n</aside>\n<h2 id=\"reagindo-a-mudancas-nos-atributos\" tabindex=\"-1\">Reagindo a mudan√ßas nos atributos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/web-components-2\">#</a></h2>\n<p>Para reagir a mudan√ßas nos atributos precisamos definir quais atributos ser√£o\nobservados. Para isso, crie a propriedade est√°tica <code>observedAttributes</code>, que\nretorne o nome dos atributos que queira observar. Ap√≥s isso, sobrescreva o\nm√©todo <code>attributeChangedCallback</code>, que recebe como argumento tr√™s valores: o\nnome, o valor anterior e o valor atual do atributo. O m√©todo\n<code>attributeChangedCallback</code> sempre √© chamado quando um atributo observado for\nalterado. Veja:</p>\n<p><playground-ide project-src=\"/projects/2018-04-02-web-components-2/3/project.json\" line-numbers=\"\" resizable=\"\">\n</playground-ide></p>\n<p>Veja que o qualquer mudan√ßa no atributo ir√° ser refletida na propriedade. A\nmarca√ß√£o no HTML funciona como o esperado e inicializa a propriedade com o valor\n<code>8</code>. Tamb√©m adicionamos a rea√ß√£o de desativar os bot√µes caso o atributo\n<code>disabled</code> esteja definido.</p>\n<aside>\n  <p>\n    Tome cuidado com os efeitos colaterais dentro do\n    <code>attributeChangedCallback</code>. Poder√≠amos, por exemplo, ser tentados\n    a adicionar essa rea√ß√£o ao <i lang=\"en\">setter</i> da propriedade\n    <code>disabled</code>. No entanto, este <i lang=\"en\">setter</i> manipula o\n    pr√≥prio atributo <code>disabled</code>, que dispara novamente o\n    <code>attributeChangedCallback</code>‚Ä¶ causando um <i lang=\"en\">loop</i>\n    infinito.\n  </p>\n</aside>\n<h2 id=\"estilizando-de-acordo-com-o-estado\" tabindex=\"-1\">Estilizando de acordo com o estado <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/web-components-2\">#</a></h2>\n<p>Como tamb√©m j√° vimos, podemos estilizar o elemento utilizando um <code>&lt;style&gt;</code>\nencapsulado pelo <em>shadow</em> DOM. Suponha que voc√™ queira estilizar o texto do\n<code>span</code> para negrito, bastaria mudar a marca√ß√£o atribu√≠da no <em>shadow</em> DOM. No\nentanto, se voc√™ estilizar o ‚Äúpr√≥prio‚Äù elemento hospedeiro do <em>shadow</em> DOM, voc√™\nutiliza o pseudo-seletor <code>:host</code>. Vamos mudar para que elemento hospedeiro se\ncomporte tal como um <code>block</code>:</p>\n<p><playground-ide project-src=\"/projects/2018-04-02-web-components-2/4/project.json\" line-numbers=\"\" resizable=\"\">\n</playground-ide></p>\n<p>Veja que tamb√©m diminu√≠mos a opacidade caso o elemento esteja desabilitado. Uma\nvez que nosso elemento reflete a propriedade no atributo <code>disabled</code>, podemos\nutilizar seletores de atributos para reagir a essa mudan√ßa.</p>\n<aside>\n  <p>\n    Por padr√£o, qualquer elemento personalizado possui a propriedade\n    <code>display</code> como <code>inline-block</code>.\n  </p>\n</aside>\n<p>Elementos personalizados podem ser estilizados utilizando CSS como qualquer\noutro elemento HTML. Ou seja, se o usu√°rio do nosso elemento <code>wc-counter</code> quiser\nmudar o elemento, ele pode. Lembre-se, o encapsulamento s√≥ impede que os estilos\nda <em>shadow</em> DOM ‚Äúvazem‚Äù para o DOM principal, no entanto o efeito cascata do CSS\ncontinua valendo.</p>\n<p><playground-ide project-src=\"/projects/2018-04-02-web-components-2/5/project.json\" line-numbers=\"\" resizable=\"\">\n</playground-ide></p>\n<p>Veja tamb√©m que ‚Äúadicionamos‚Äù um delay na defini√ß√£o do elemento, e, enquanto ele\nn√£o √© definido, aplicou-se um estilo tempor√°rio com o uso da pseudo-classe\n<code>:defined</code>. Caso n√£o tenha visto, recarregue o resultado clicando no bot√£o ‚Äú‚Üª‚Äù.</p>\n<h2 id=\"elementos-nao-definidos-e-desconhecidos\" tabindex=\"-1\">Elementos n√£o definidos e desconhecidos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/web-components-2\">#</a></h2>\n<p>O HTML √© bastante flex√≠vel. Por exemplo, ao declarar uma <em>tag</em> <code>&lt;accordion&gt;</code> em\num documento, o navegador vai aceit√°-la sem problemas, mesmo que <code>&lt;accordion&gt;</code>\nn√£o fa√ßa parte do vocabul√°rio. Esse comportamento √© previsto pela <a href=\"https://html.spec.whatwg.org/multipage/dom.html#htmlunknownelement\">pr√≥pria\nespecifica√ß√£o do\nHTML</a>.\nElementos desconhecidos s√£o inst√¢ncias de <code>HTMLUnknownElement</code>.</p>\n<p>O mesmo n√£o vale para elementos personalizados. Elementos personalizados\n‚Äúpotenciais‚Äù s√£o sempre inst√¢ncias de <code>HTMLElement</code>, mesmo que ainda n√£o foram\ndefinidos. Ou seja, se voc√™ criar um elemento com uma <em>tag</em> que cont√©m um <code>-</code>,\nesse elemento ser√° inst√¢ncia de <code>HTMLElement</code>. Veja:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token comment\">// \"accordion\" n√£o √© um elemento conhecido do HTML nem um elemento personalizado</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'accordion'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">HTMLUnknownElement</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\n\n<span class=\"token comment\">// \"wc-accordion\" √© um nome v√°lido para elemento personalizado</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'wc-accordion'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">HTMLUnknownElement</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí false</span></code></pre>\n<p>O global <code>customElements</code> tamb√©m cont√©m alguns m√©todos √∫teis. Por exemplo, caso\nvoc√™ j√° tenha registrado um elemento personalizado, voc√™ pode pegar uma\nrefer√™ncia do construtor utilizando o m√©todo <code>get</code> e passando a <em>tag</em>. Caso o\nelemento n√£o tenha sido registrado ainda, <code>get</code> retorna <code>undefined</code>.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">let</span> WCCounter <span class=\"token operator\">=</span> customElements<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'wc-counter'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> counter <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">WCCounter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Voc√™ tamb√©m pode definir <em>callbacks</em> para futuras defini√ß√µes de elementos com o\nm√©todo <code>whenDefined</code>. Este m√©todo retorna uma inst√¢ncia de <code>Promise</code> que\nresolve-se quando o elemento for definido ou rejeita-se quando o nome passado\nn√£o for um nome de elemento personalizado v√°lido.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\">customElements<span class=\"token punctuation\">.</span><span class=\"token function\">whenDefined</span><span class=\"token punctuation\">(</span><span class=\"token string\">'wc-counter'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\"wc-counter\" est√° pronto!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<h2 id=\"conclusao\" tabindex=\"-1\">Conclus√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/web-components-2\">#</a></h2>\n<p>Elementos personalizados s√£o uma forma de definir novas <em>tags</em> HTML e permitem a\ncria√ß√£o de componentes reutiliz√°veis quando combinado com outras tecnologias,\ncomo o <em>shadow</em> DOM. Eles fornecem v√°rias vantagens:</p>\n<ul>\n<li>Interoperabilidade entre os navegadores;</li>\n<li>S√£o bem integrados √† ferramentas de <em>debug</em> j√° presentes nos navegadores e\nconhecidas pelos desenvolvedores;</li>\n<li>N√£o precisam de qualquer biblioteca ou <em>framework</em> para iniciar e prov√™m um\nmodelo de programa√ß√£o familiar ao DOM. Voc√™ precisa apenas de HTML, CSS e\nJavaScript.</li>\n</ul>\n<p>Mas essa s√©rie de publica√ß√µes ainda n√£o acabou. Ainda temos que falar sobre\noutras especifica√ß√µes que pertencem ao ‚Äúecossistema‚Äù de <em>web components</em>. At√© a\npr√≥xima!</p>\n",
			"date_published": "2018-04-02T19:49:13Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/ids-globais",
			"url": "https://maxroecker.github.io/blog/ids-globais",
			"title": "IDs s√£o globais",
			"content_html": "<p>Voc√™ sabia que se voc√™ precisar acessar um elemento de um documento HTML marcado\ncom um <code>id</code>, basta voc√™ acessar a vari√°vel com o mesmo nome? Ou seja, se voc√™\ntiver uma marca√ß√£o assim:</p>\n<pre class=\"language-html\" tabindex=\"0\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>foo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>No console do navegador voc√™ pode digitar <code>foo</code> e ter√° acesso ao elemento DOM.\n<strong>Mas, por qu√™?</strong> √â um comportamento padr√£o dos navegadores para\nfacilitar o <em>debug</em> ou isso √© o padr√£o esperado?</p>\n<p>Na verdade, o comportamento acima √© previsto pelo pr√≥prio HTML. A\n<a href=\"https://html.spec.whatwg.org/#named-access-on-the-window-object\">especifica√ß√£o do HTML</a>\ndetermina que o objeto <code>window</code> deve conter uma propriedade que referencia um\nelemento da √°rvore DOM se:</p>\n<ul>\n<li>H√° apenas um elemento no documento o qual o nome da propriedade seja igual ao\natributo <code>id</code>.</li>\n<li>H√° apenas um elemento no documento o qual o nome da propriedade seja igual ao\natributo <code>name</code> e este elemento for um <code>a</code>, <code>applet</code>, <code>embed</code>, <code>form</code>,\n<code>frame</code>, <code>frameset</code>, <code>iframe</code>, <code>img</code> ou <code>object</code>.</li>\n</ul>\n<p>Em certos casos onde h√° mais de um elemento que satisfa√ßa as condi√ß√µes acima,\noutras regras s√£o aplicadas e um\n<a href=\"https://developer.mozilla.org/pt-BR/docs/Web/API/HTMLCollection\"><code>HTMLCollection</code></a>\npode ser retornado ao acessar a vari√°vel. No entanto, a ideia principal √©\nmantida: uma vari√°vel representando elementos no DOM ser√° criada no escopo\nglobal. Assim, o c√≥digo abaixo funciona tal como o esperado, afinal, acessar uma\nvari√°vel global √© acessar uma propriedade do <code>window</code>:</p>\n<pre class=\"language-html\" tabindex=\"0\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>btn<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Clique aqui!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  btn<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    btn<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token string\">'Voc√™ clicou!'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>No entanto, √© preciso de aten√ß√£o. Se j√° existir uma vari√°vel com o valor, ela\nn√£o ser√° substitu√≠da pela refer√™ncia do elemento. Por exemplo, se escrever o\natributo <code>id=&quot;fetch&quot;</code> ele n√£o ir√° substituir a\n<a href=\"https://developer.mozilla.org/pt-BR/docs/Web/API/Fetch_API\">fun√ß√£o <code>fetch</code></a>\npresente nos navegadores modernos.</p>\n<p>Como a pr√≥pria especifica√ß√£o diz, este √© um comportamento para manter a\nretrocompatibilidade e n√£o recomendam se apoiar nele para desenvolver seus\nc√≥digos. Al√©m disso, conforme novas funcionalidades v√£o sendo adicionadas √†\nplataforma <em>web</em>, aumentam as chances de haver um conflito de nomes e seu c√≥digo\ndeixar de funcionar. Por isso, quando precisar selecionar um elemento na √°rvore\nDOM, utilize as fun√ß√µes\n<a href=\"https://developer.mozilla.org/pt-BR/docs/Web/API/Document/getElementById\"><code>document.getElementById</code></a>\nou\n<a href=\"https://developer.mozilla.org/pt-BR/docs/Web/API/Document/querySelector\"><code>document.querySelector</code></a>.</p>\n",
			"date_published": "2018-02-22T10:34:01Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/web-components-1",
			"url": "https://maxroecker.github.io/blog/web-components-1",
			"title": "Web Components #1",
			"content_html": "<p>Voc√™ j√° deve conhecer o HTML, certo? Uma √≥tima ferramenta para construir\naplica√ß√µes na <em>web</em>. O HTML √© declarativo, port√°vel, bem suportado e f√°cil de\ntrabalhar. Quando voc√™ est√° construindo um documento ou uma aplica√ß√£o com HTML\nvoc√™ tem algumas op√ß√µes dispon√≠veis. Voc√™ quer criar uma √¢ncora? Utilize a <em>tag</em>\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a\"><code>&lt;a&gt;</code></a>. Quer criar\num par√°grafo? Utilize a <em>tag</em>\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/p\"><code>&lt;p&gt;</code></a>. Um bot√£o?\nVoc√™ pode utilizar a <em>tag</em>\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button\"><code>&lt;button&gt;</code></a>\nou a\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/button\"><code>&lt;input type=&quot;button&quot;&gt;</code></a>.</p>\n<p>Mas e se, por exemplo, voc√™ quiser criar uma\n<a href=\"https://en.wikipedia.org/wiki/Tab_(interface)\">aba</a>? Que <em>tag</em> do HTML voc√™ vai\nusar? E se for um <a href=\"https://en.wikipedia.org/wiki/Tooltip\"><em>tooltip</em></a> ou um\n<a href=\"https://en.wikipedia.org/wiki/Accordion_(GUI)\"><em>accordion</em></a>? O vocabul√°rio do\nHTML √© limitado e n√£o existe uma <em>tag</em> que descreva completamente cada um dos\nelementos de interface anteriores. Normalmente, tais componentes envolvem\nutilizar mais de uma <em>tag</em> HTML associado √† um pouco de comportamento dado em um\n<em>script</em>. Isso n√£o √© uma tarefa simples. E fica cada vez mais complexa quanto\nmais elementos em tela voc√™ precisar controlar. N√£o seria mais f√°cil uma forma\nde voc√™ poder ‚Äúestender‚Äù o HTML e poder criar elementos personalizados para a\nsua necessidade, encapsulando estilo, comportamento e marca√ß√£o em uma s√≥\n‚Äúentidade‚Äù?</p>\n<figure>\n  <img src=\"https://maxroecker.github.io/img/illustrations/lock.svg\" alt=\"Um le√£o her√°ldico.\" decoding=\"async\" loading=\"lazy\">\n</figure>\n<p>Os <a href=\"https://en.wikipedia.org/wiki/Web_Components\"><em>web components</em></a> s√£o a\nresposta da plataforma <em>web</em> para este problema. Com eles, voc√™ pode criar\nelementos personalizados e fazer uma extens√£o do HTML, preenchendo as lacunas e\nligando a estrutura declarativa com o comportamento via c√≥digo. Se voc√™ est√° com\num problema que o HTML n√£o pode resolver, talvez a cria√ß√£o de um elemento\npersonalizado pode. Elementos personalizados permitem que os navegadores\nadicionem comportamento ao HTML e preservando os benef√≠cios que j√° possui.</p>\n<p>Os <em>web components</em> s√£o, na verdade, um termo ‚Äúguarda-chuva‚Äù para um conjunto de\nAPIs e tecnologias disponibilizadas nos navegadores que, quando utilizadas em\nconjunto, permitem a cria√ß√£o de componentes completos. Se fundamentam em tr√™s\nprincipais especifica√ß√µes:</p>\n<ul>\n<li><a href=\"https://html.spec.whatwg.org/#custom-elements\">Elementos personalizados</a>;</li>\n<li><a href=\"https://dom.spec.whatwg.org/#shadow-trees\"><em>Shadow</em> DOM</a>;</li>\n<li><a href=\"https://html.spec.whatwg.org/multipage/scripting.html#the-template-element\">O elemento <em>template</em></a>.</li>\n</ul>\n<p>Antes de detalhar cada uma dessas especifica√ß√µes, vamos fazer um apanhado geral\nde como <em>web components</em> trabalham e como voc√™ pode utiliz√°-los.</p>\n<h2 id=\"como-definir-e-instanciar-um-web-component\" tabindex=\"-1\">Como definir e instanciar um <em>web component</em> <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/web-components-1\">#</a></h2>\n<p>Para criar um <em>web component</em> basta voc√™ estender a classe\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement\"><code>HTMLElement</code></a> e\nregistrar uma tag associada a essa classe por meio do m√©todo <code>define</code> do objeto\nglobal <code>customElements</code>. Simples assim! Veja um exemplo no c√≥digo abaixo que\nest√° utilizando a <a href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-4\">sintaxe de classes</a>\ndo ES2015.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">HelloWorld</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HTMLElement</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\nwindow<span class=\"token punctuation\">.</span>customElements<span class=\"token punctuation\">.</span><span class=\"token function\">define</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hello-world'</span><span class=\"token punctuation\">,</span> HelloWorld<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>A partir de agora, utilizar o elemento <code>hello-world</code> n√£o √© diferente de utilizar\num <code>div</code>. Voc√™ pode utilizar a tag de forma declarativa no HTML. Ou criar um\nelemento de forma imperativa por meio do DOM. Voc√™ tamb√©m pode utilizar as APIs\ndo DOM para selecionar e manipular seu elemento personalizado como qualquer\noutro. Veja abaixo:</p>\n<p><playground-ide project-src=\"/projects/2018-01-30-web-components-1/1/project.json\" editable-filesystem=\"\" line-numbers=\"\" resizable=\"\">\n</playground-ide></p>\n<p>Voc√™ pode ver que, como com seu elemento personalizado presente na √°rvore DOM,\nnada √© exibido no navegador. Isso acontece porque ainda n√£o adicionamos conte√∫do\nao <em>web component</em>.</p>\n<h2 id=\"adicionando-conteudo-ao-web-component\" tabindex=\"-1\">Adicionando conte√∫do ao <em>web component</em> <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/web-components-1\">#</a></h2>\n<p>Todo e qualquer comportamento do componente √© dado pela a classe associada √†\n<em>tag</em>. No nosso caso, se queremos adicionar um conte√∫do ao <code>hello-world</code>,\nprecisamos defini-lo na classe <code>HelloWorld</code>. Como o pr√≥prio nome do componente\nsugere, vamos exibir a frase ‚ÄúHello, World!‚Äù em um <code>h1</code> no nosso componente.\nPara fazer isso, sobreescrevemos o m√©todo <code>connectedCallback</code>. Veja:</p>\n<p><playground-ide project-src=\"/projects/2018-01-30-web-components-1/2/project.json\" editable-filesystem=\"\" line-numbers=\"\" resizable=\"\">\n</playground-ide></p>\n<aside>\n  <p>\n    O m√©todo <code>connectedCallback</code> √© executado quando o elemento √©\n    ‚Äúconectado‚Äù √† √°rvore DOM. Outros m√©todos tamb√©m s√£o disponibilizados pela\n    API de elementos personalizados e formam o ‚Äúciclo de vida‚Äù de um\n    <i>web component</i>, veja <a href=\"https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements#using_the_lifecycle_callbacks\">aqui</a>.\n  </p>\n</aside>\n<h2 id=\"adicionando-estilos-ao-web-component\" tabindex=\"-1\">Adicionando estilos ao <em>web component</em> <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/web-components-1\">#</a></h2>\n<p>Bom, agora que temos nosso componente, vamos estiliz√°-lo para que o <code>h1</code> tenha\numa cor azul. Podemos fazer isso com CSS utilizando o elemento <code>style</code> e\natribu√≠mos ao <code>head</code> do documento. Veja:</p>\n<p><playground-ide project-src=\"/projects/2018-01-30-web-components-1/3/project.json\" editable-filesystem=\"\" line-numbers=\"\" resizable=\"\">\n</playground-ide></p>\n<p>No entanto voc√™ vai perceber que outros elementos <code>h1</code> foram estilizados tamb√©m.\nIsso acontece porque o comportamento padr√£o do CSS √© global. Uma folha de\nestilos afeta todos os elementos de um documento. No entanto, para solucionar\neste problema, temos em m√£os a API <strong><em>Shadow</em> DOM</strong>.</p>\n<h2 id=\"encapsulando-o-web-component\" tabindex=\"-1\">Encapsulando o <em>web component</em> <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/web-components-1\">#</a></h2>\n<p>A <em>Shadow</em> DOM √© uma API que permite criar sub√°rvores DOM encapsuladas da √°rvore\nDOM principal. Assim, qualquer marca√ß√£o, estilo ou <em>script</em> que seja definido no\n<em>shadow</em> DOM s√≥ afeta o pr√≥prio <em>shadow</em> DOM. N√≥s podemos fazer isso por meio\ndo m√©todo <code>attachShadow</code>. Veja:</p>\n<p><playground-ide project-src=\"/projects/2018-01-30-web-components-1/4/project.json\" editable-filesystem=\"\" line-numbers=\"\" resizable=\"\">\n</playground-ide></p>\n<p>Se voc√™ ver o resultado, agora somente o <code>h1</code> do <em>web component</em> est√° estilizado\ne, gra√ßas ao <em>shadow</em> DOM, n√£o temos efeitos colaterais em outros elementos da\n√°rvore DOM.</p>\n<h2 id=\"conclusao\" tabindex=\"-1\">Conclus√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/web-components-1\">#</a></h2>\n<p>O termo <em>web components</em> define um conjunto de especifica√ß√µes de baixo n√≠vel\nque, quando utilizadas em conjunto, permitem criar verdadeiros componentes que\npodem ser reutilizados em uma aplica√ß√£o sem a necessidade de conven√ß√£o,\nbiblioteca ou <em>framework</em>.</p>\n<p>Existem outras especifica√ß√µes abrangidas pelo termo <em>web components</em> e que n√£o\nvimos nesta introdu√ß√£o; como o elemento <code>template</code>, o elemento slot ou os\nm√≥dulos de CSS. Meu objetivo √© criar uma s√©rie de publica√ß√µes abordando os\ndetalhes de cada uma dessas especifica√ß√µes. Al√©m disso, vamos ver algumas boas\npr√°ticas quando estamos trabalhando com componentes e como podemos utiliz√°-los\npara solucionar problemas durante o desenvolvimento de aplica√ß√µes para a <em>web</em>.</p>\n<p>Conforme o desenvolvimento <em>web</em> se torna mais complexo, desenvolvedores ir√£o\n‚Äúrepassar‚Äù mais responsabilidades para a plataforma, que amadurece e evolui.\nEste √© o caso dos <em>web components</em> que, atualmente, j√° s√£o suportados na grande\nmaioria dos grandes navegadores.</p>\n<p>No entanto, essa √© uma tecnologia ainda em fase de constru√ß√£o. Certas\nespecifica√ß√µes ainda est√£o em fase inicial ou com suporte bastante limitado, mas\nque ilustram um futuro promissor para a tecnologia.</p>\n",
			"date_published": "2018-01-30T01:00:55Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/captura-e-borbulhamento-de-eventos",
			"url": "https://maxroecker.github.io/blog/captura-e-borbulhamento-de-eventos",
			"title": "Captura e borbulhamento de eventos",
			"content_html": "<p>Um dos aspectos mais confusos quando estamos trabalhando com eventos s√£o os\nest√°gios que um evento passa enquanto √© propagado pela √°rvore DOM: a <strong>captura</strong>\ne o <strong>borbulhamento</strong>. N√£o √© sempre que temos problemas, mas voc√™ pode ter uma\nbaita dor de cabe√ßa se voc√™ n√£o entender o que cada um dessas etapas faz e como\nelas funcionam.</p>\n<p>A captura e o borbulhamento de eventos s√£o mecanismos de propaga√ß√£o que\ndescrevem o que acontece quando um mesmo evento √© ‚Äúescutado‚Äù por dois elementos\nque s√£o descendentes. Antes de prosseguir, d√™ uma olhada neste √≥timo\n<a href=\"https://mdn.github.io/learning-area/javascript/building-blocks/events/show-video-box.html\">exemplo do MDN</a>,\nque tamb√©m pode ser visto abaixo:</p>\n<iframe src=\"https://mdn.github.io/learning-area/javascript/building-blocks/events/show-video-box.html\" loading=\"lazy\" width=\"100%\" height=\"512\"></iframe>\n<p>Nesse exemplo, o HTML tem a seguinte marca√ß√£o:</p>\n<pre class=\"language-html\" tabindex=\"0\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span><span class=\"token punctuation\">></span></span>Display video<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>hidden<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>video</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>source</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>rabbit320.mp4<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>video/mp4<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>source</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>rabbit320.webm<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>video/webm<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>video</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Quando h√° um clique em <code>&lt;button&gt;</code>, o v√≠deo √© exibido mudando a classe do <code>&lt;div&gt;</code>\nde <code>hidden</code> para <code>showing</code> (h√° um CSS para isso tamb√©m). Al√©m disso, se voc√™\nclicar no <code>div</code> do v√≠deo, ela ir√° automaticamente fechar e, se voc√™ clicar no\nv√≠deo, ele ir√° iniciar a execu√ß√£o. Veja o script abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> button <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'button'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> div <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'div'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> video <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'video'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nbutton<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  div<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'class'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'showing'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ndiv<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  div<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'class'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'hidden'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nvideo<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  video<span class=\"token punctuation\">.</span><span class=\"token function\">play</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Entretanto, temos um problema com essa implementa√ß√£o e voc√™ j√° deve ter\npercebido: se voc√™ abre o v√≠deo e clica para iniciar a execu√ß√£o, o v√≠deo ‚Äúsome‚Äù\ne voc√™ precisa abrir de novo pelo bot√£o. Isso acontece porque o <code>&lt;video&gt;</code>, que\nouve eventos de clique √© descendente de <code>&lt;div&gt;</code>, que tamb√©m ouve eventos de\nclique. Ou seja, quando voc√™ clica no v√≠deo para iniciar a execu√ß√£o, ambos os\nouvintes s√£o executados e, por isso, o v√≠deo fecha.</p>\n<h2 id=\"captura-e-borbulhamento\" tabindex=\"-1\">Captura e borbulhamento <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/captura-e-borbulhamento-de-eventos\">#</a></h2>\n<p>Quando um evento √© disparado por um elemento que possui algum antecessor (no\nexemplo acima, <code>&lt;video&gt;</code> tem <code>&lt;div&gt;</code> como antecessor), os navegadores podem\npropag√°-lo em dois est√°gios: a captura e o borbulhamento.</p>\n<p>No est√°gio de captura, o navegador verifica se o antecessor mais distante do\nelemento (normalmente, o <code>&lt;html&gt;</code>) possui um ouvinte do evento, e, se existir,\nele o executa. E ent√£o ele passa para o pr√≥ximo antecessor, e faz a mesma coisa;\ne assim por diante at√© que atinja o elemento que foi efetivamente clicado.</p>\n<p>J√° no est√°gio de borbulhamento, o contr√°rio √© feito: o navegador verifica se o\nelemento que foi efetivamente clicado tem um ouvinte para o evento e, em caso\nafirmativo, executa o c√≥digo associado; ent√£o ele vai para antecessor mais\npr√≥ximo e faz a mesma coisa, e assim por diante at√© chegar no antecessor mais\ndistante, o <code>&lt;html&gt;</code>.</p>\n<p>Voc√™ pode ver os dois fluxos sumarizados na imagem abaixo:</p>\n<figure>  \n  <img alt=\"Diagrama representado a captura e o borbulhamento de eventos no DOM\" title=\"undefined\" loading=\"lazy\" decoding=\"async\" src=\"https://maxroecker.github.io/img/3yTE12NbwG-800.svg\" width=\"800\" height=\"400\">\n</figure>\n<p>Nas vers√µes atuais do DOM, todos os ouvintes de eventos s√£o registrados somente\npara o est√°gio de borbulhamento por padr√£o. Por isso, em nosso exemplo, o evento\nde clique borbulha de <code>&lt;video&gt;</code> para o antecessor <code>&lt;div&gt;</code>. Assim, ele ir√°\nencontrar o ouvinte de clique em <code>&lt;video&gt;</code> e vai come√ßar a rodar o v√≠deo. Logo\nem seguida, ele vai encontrar o ouvinte em <code>&lt;div&gt;</code> e vai ocultar o v√≠deo.</p>\n<h3 id=\"parando-a-propagacao-dos-eventos\" tabindex=\"-1\">Parando a propaga√ß√£o dos eventos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/captura-e-borbulhamento-de-eventos\">#</a></h3>\n<p>O comportamento do exemplo acima √© bastante chato, mas pode ser consertado. O\nDOM, por meio da classe <code>Event</code>, fornece o m√©todo <code>stopPropagation</code> que pode ser\nchamado em um ouvinte quando queremos parar qualquer uma das propaga√ß√µes.</p>\n<p>Dessa forma, podemos fazer nosso ouvinte de clique no <code>&lt;video&gt;</code> parar a\npropaga√ß√£o caso o v√≠deo n√£o esteja sendo executado. Assim, se <code>stopPropagation</code>\nfor chamado, o ouvinte em <code>&lt;div&gt;</code> n√£o √© executado. Veja:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\">video<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>video<span class=\"token punctuation\">.</span>played<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    event<span class=\"token punctuation\">.</span><span class=\"token function\">stopPropagation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    video<span class=\"token punctuation\">.</span><span class=\"token function\">play</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    video<span class=\"token punctuation\">.</span><span class=\"token function\">pause</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Como mencionei acima, os eventos s√£o sempre propagados, por padr√£o, no est√°gio\nde borbulhamento. No entanto, voc√™ pode alterar esse comportamento ao registrar\no ouvinte configurando o terceiro par√¢metro da fun√ß√£o <code>addEventListener</code>, por\nexemplo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\">div<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>\n  <span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    div<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'class'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'hidden'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">capture</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>No entanto, √© importante lembrar que, se um evento √© escutado nos dois\nest√°gios de propaga√ß√£o, o est√°gio de captura ser√° sempre executado primeiro e,\ndepois, seguido do est√°gio de borbulhamento.</p>\n<aside>\n  <p>\n    Porque existem dois est√°gios de propaga√ß√£o de eventos? Isso se deve aos dias\n    onde os navegadores n√£o eram muito compat√≠veis entre si. O Netscape\n    utilizava somente a propaga√ß√£o por captura, j√° o Internet Explorer, usava\n    somente a propaga√ß√£o por borbulhamento. Quando o W3C resolveu padronizar\n    esse comportamento e fazer os navegadores entrarem em consenso, resolveu-se\n    utilizar um sistema com as duas formas de propaga√ß√£o, que √© implementado\n    pelos navegadores atualmente.\n  </p>\n</aside>\n<h2 id=\"delegacao-de-eventos\" tabindex=\"-1\">Delega√ß√£o de eventos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/captura-e-borbulhamento-de-eventos\">#</a></h2>\n<p>Imagine que voc√™ tem v√°rios elementos <code>&lt;li&gt;</code> em uma lista <code>&lt;ul&gt;</code>, como na\nmarca√ß√£o abaixo:</p>\n<pre class=\"language-html\" tabindex=\"0\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>list<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item-a<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Item A<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item-b<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Item B<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item-c<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Item C<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n  ‚Ä¶\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Imagine que quando um elemento dessa lista sofrer um clique, voc√™ quer exibir um\nalerta para o usu√°rio com o <code>id</code> do elemento clicado. Voc√™ pode adicionar um\nouvinte em cada elemento, como voc√™ pode ver abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> items <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#list li'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> item <span class=\"token keyword\">of</span> items<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  item<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// target √© o elemento que foi clicado</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>E se essa lista for din√¢mica? Imagine que seja comum adicionar e remover itens,\nvoc√™ ter√° que ficar adicionando e removendo ouvintes toda vez para garantir o\nfuncionamento do seu c√≥digo. Isso parece trabalhoso‚Ä¶</p>\n<p>No entanto, podemos utilizar a propaga√ß√£o de eventos a nosso favor para fazer\numa <strong>delega√ß√£o de eventos</strong>. Esse conceito √© bastante utilizado quando voc√™\nquer que um mesmo trecho de c√≥digo seja executado em um grande n√∫mero de\ndescendentes. Ou seja, √© mais f√°cil voc√™ apenas adicionar um ouvinte no\nantecessor direto e esperar que os eventos sejam propagados por borbulhamento\nat√© ele. Com a propaga√ß√£o de eventos, podemos atingir o mesmo resultado acima\ncom o seguinte c√≥digo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> list <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#list'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nlist<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// target ainda √© o elemento que foi clicado</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Com o c√≥digo acima, as preocupa√ß√µes com a adi√ß√£o ou remo√ß√£o de itens deixam de\nexistir porque s√≥ temos um ouvinte para toda a lista.</p>\n<h2 id=\"conclusao\" tabindex=\"-1\">Conclus√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/captura-e-borbulhamento-de-eventos\">#</a></h2>\n<p>Com o que vimos at√© agora, voc√™ j√° tem um bom fundamento sobre os diferentes\nest√°gios de propaga√ß√£o de eventos: a captura e o borbulhamento. Apesar de um\ndeles raramente ser utilizado, √© importante conhecer como o DOM funciona para\nque voc√™ saiba resolver problemas quando eles surgirem.</p>\n<p>Um bom desenvolvedor de <em>software</em> deve conhecer as ferramentas com que\ntrabalha, e se voc√™ trabalha com <em>web</em>, deve conhecer o DOM.</p>\n",
			"date_published": "2018-01-14T02:02:00Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/o-que-e-o-dom",
			"url": "https://maxroecker.github.io/blog/o-que-e-o-dom",
			"title": "O que √© o DOM?",
			"content_html": "<p>O <strong>Modelo Objeto de Documento</strong> (DOM, do ingl√™s <em lang=\"en\">Document Object\nModel</em>) √© uma estrutura de dados que representa a estrutura e o conte√∫do de\num documento <em>web</em>. T√©cnicamente, o DOM √© uma representa√ß√£o orientada a objetos\nde documentos HTML e XML, e fornece fun√ß√µes e m√©todos para que um programa possa\ninteragir com eles.</p>\n<p>O DOM √© definido pelas especifica√ß√µes da <a href=\"https://www.w3.org/DOM/\">W3C</a> e da\n<a href=\"https://dom.spec.whatwg.org/\">WHATWG</a>, e implementado pelos navegadores. Muitos\nnavegadores podem estender essa especifica√ß√£o e disponibilizar funcionalidades\nque n√£o s√£o adotadas por todos os navegadores, ent√£o √© preciso cuidado e √©\nsempre recomendado seguir o padr√£o das especifica√ß√µes.</p>\n<p>Como dito, o DOM representa um documento <em>web</em> como uma API orientada a objetos.\nTodas as propriedades, m√©todos e eventos dispon√≠veis para manipular e criar\np√°ginas <em>web</em> s√£o organizadas em objetos. Uma p√°gina HTML, por exemplo, ser√°\nrepresentada pela classe <code>Document</code>. J√° uma tabela, escrita com a tag <code>&lt;table&gt;</code>,\nser√° representada pela classe <code>HTMLTableElement</code>.</p>\n<p>O DOM define m√©todos que servem para buscar elementos tamb√©m. Um exemplo √© o\n<code>querySelectorAll</code>, que recebe um seletor CSS em uma <em>string</em> e retornar\nelementos descendentes que casam com o seletor dado.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> paragraphs <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">'p'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> paragraph <span class=\"token keyword\">of</span> paragraphs<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>paragraph<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"o-dom-e-o-javascript\" tabindex=\"-1\">O DOM e o JavaScript <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/o-que-e-o-dom\">#</a></h2>\n<p>No exemplo anterior, e em quase todos os exemplos que voc√™ vai encontrar quando\npesquisar e trabalhar com DOM, voc√™ utilizar√° o JavaScript. No entanto, √©\nimportante entender e separar o DOM e o JavaScript. DOM n√£o √© uma linguagem de\nprograma√ß√£o, mas sem o DOM o JavaScript n√£o seria capaz de compreender p√°ginas\n<em>web</em> e adicionar intera√ß√£o √† elas.</p>\n<p>No in√≠cio da <em>web</em>, o JavaScript e o DOM eram muito interligados. Mas, com o\ndesenvolvimento das especifica√ß√µes e da tecnologia <em>web</em>, eles se desenvolveram\nem duas entidades distintas. O DOM moderno √© projetado para ser implementado em\nqualquer linguagem de programa√ß√£o. Veja um exemplo de utiliza√ß√£o do DOM em\nPython usando a biblioteca\n<a href=\"https://docs.python.org/3/library/xml.dom.minidom.html\"><code>minidom</code></a>.</p>\n<pre class=\"language-py\" tabindex=\"0\"><code class=\"language-py\"><span class=\"token keyword\">import</span> xml<span class=\"token punctuation\">.</span>dom<span class=\"token punctuation\">.</span>minidom <span class=\"token keyword\">as</span> dom\n\ndocument <span class=\"token operator\">=</span> dom<span class=\"token punctuation\">.</span>parse<span class=\"token punctuation\">(</span><span class=\"token string\">'./index.html'</span><span class=\"token punctuation\">)</span>\np_list <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>getElementsByTagName<span class=\"token punctuation\">(</span><span class=\"token string\">'p'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">for</span> p <span class=\"token keyword\">in</span> p_list<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"acessando-o-dom\" tabindex=\"-1\">Acessando o DOM <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/o-que-e-o-dom\">#</a></h2>\n<p>Nos navegadores n√£o √© necess√°rio adicionar uma biblioteca para utilizar o DOM,\nqualquer <code>script</code> JavaScript executado no ambiente dos navegadores tem acesso\na ele. Veja um exemplo abaixo de um documento HTML que utiliza o DOM para\nconstruir um cabe√ßalho com a frase ‚ÄúOl√° Mundo!‚Äù.</p>\n<pre class=\"language-html\" tabindex=\"0\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">doctype</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n      window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'load'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> header <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'h1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createTextNode</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Ol√° Mundo!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        header<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>header<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Grande parte do conte√∫do do <em>script</em> utiliza o DOM nesse exemplo: o m√©todo\n<code>addEventListener</code> do <code>window</code>; os m√©todo <code>createElement</code> do <code>document</code> ou o\n<code>appendChild</code> do <code>header</code>. Todos esses m√©todos s√£o definidos pelo DOM e\ndisponibilizados pelo navegador.</p>\n<h2 id=\"algumas-interfaces-fundamentais\" tabindex=\"-1\">Algumas interfaces fundamentais <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/o-que-e-o-dom\">#</a></h2>\n<p>Como j√° dito anteriormente, o DOM √© uma API orientada a objetos que representa\num documento <em>web</em>. Um documento HTML, por exemplo, √© representado no DOM como\num objeto que segue a interface\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document\"><code>Document</code></a> e\napresenta uma estrutura similar com uma\n<a href=\"https://pt.wikipedia.org/wiki/%C3%81rvore_(estrutura_de_dados)\">√°rvore</a>. Muitas\nvezes esse objeto √© chamado de ‚Äú√Årvore DOM‚Äù. Nos navegadores voc√™ pode acessar a\ninst√¢ncia desse objeto pela vari√°vel <code>document</code> (como fizemos no exemplo\nanterior).</p>\n<p>No entanto, a interface <code>Document</code> estende outra interface ainda mais gen√©rica,\na <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Node\"><code>Node</code></a>. <code>Node</code> √© uma\ninterface gen√©rica que muitas outras APIs do DOM s√£o baseadas. Qualquer ‚Äún√≥‚Äù no\nDOM implementa <code>Node</code>. Alguns exemplos incluem o j√° mencionado <code>Document</code>, mas\ntemos tamb√©m\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element\"><code>Element</code></a>, interface\nque todas as tags HTML seguem; ou tamb√©m a\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Text\"><code>Text</code></a>, interface\nimplementada pelos n√≥s de texto do documento; e at√© mesmo a\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Comment\"><code>Comment</code></a>, que\nrepresenta um coment√°rio denotado pela marca√ß√£o <code>&lt;!-- --&gt;</code> no HTML.</p>\n<p>Outra interface importante √© a\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget\"><code>EventTarget</code></a>.\nTodos os n√≥s DOM implementam essa interface, pois <code>Node</code> √© uma extens√£o de\n<code>EventTarget</code>. A <code>EventTarget</code> permite a cria√ß√£o de objetos capazes de ouvir e\ndisparar eventos. Por exemplo, se voc√™ tem a necessidade de executar um trecho\nde c√≥digo quando um usu√°rio clica em um elemento, voc√™ provavelmente utilizar√°\num evento e o m√©todo <code>addEventListener</code> da interface <code>EventTarget</code>.</p>\n<aside>\n  <p>\n    <code>EventTarget</code> √© uma interface t√£o ub√≠qua que, inclusive, √©\n    implementada por classes fora do documento <em>web</em>, como √© o caso do\n    <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window\"><code>Window</code></a>\n  </p>\n</aside>\n<h2 id=\"conclusoes\" tabindex=\"-1\">Conclus√µes <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/o-que-e-o-dom\">#</a></h2>\n<p>Voc√™ pode ver que quase todas as caracter√≠sticas de um documento HTML s√£o\nrepresentadas de alguma forma no DOM. Existem muitas classes e interfaces que\ncont√©m diversos m√©todos e propriedades. √â colossal o tamanho da especifica√ß√£o do\nDOM.</p>\n<p>Voc√™ pode achar que isso √© muito para aprender de uma vez e realmente √©. No\nentanto, em um primeiro momento voc√™ n√£o precisa entender tudo nos m√≠nimos\ndetalhes, o importante √© voc√™ ter no√ß√£o geral de como essa tecnologia <em>web</em>\nfunciona. Eu acredito que, conforme voc√™ adquire experi√™ncia, voc√™ deve entender\no funcionamento dessa API para que voc√™ seja um bom desenvolvedor de <em>software</em>\npara a <em>web</em>.</p>\n",
			"date_published": "2016-08-05T22:15:22Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/javascript-orientado-a-objetos-4",
			"url": "https://maxroecker.github.io/blog/javascript-orientado-a-objetos-4",
			"title": "JavaScript Orientado a Objetos #4",
			"content_html": "<p>Hoje iremos voltar a ver sobre Construtores no contexto do JavaScript\nOrientado a Objetos, e as principais funcionalidades que a vers√£o 2015 adicionou\n√† linguagem.</p>\n<p>Para que voc√™ aproveite melhor o texto √© recomendado que voc√™ tenha conhecimento\ndos conceitos b√°sicos de orienta√ß√£o a objetos. Voc√™ pode ler uma pequena\nintrodu√ß√£o\n<a href=\"http://maxroecker.github.io/blog/javascript-orientado-a-objetos-1/\">no texto anterior dessa s√©rie</a>\ne tamb√©m ver o como criar objetos com\n<a href=\"http://maxroecker.github.io/blog/javascript-orientado-a-objetos-2/\">construtores</a>\ne a alternativa √† ele, as\n<a href=\"http://maxroecker.github.io/blog/javascript-orientado-a-objetos-3/\">f√°bricas</a>.</p>\n<h2 id=\"introducao\" tabindex=\"-1\">Introdu√ß√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-4\">#</a></h2>\n<p>J√° vimos que construtores s√£o feitos por meio de fun√ß√µes que recebem um contexto\nespecial em <code>this</code> e que s√£o chamadas junto ao operador <code>new</code>. Vimos tamb√©m que\nconstrutores adicionam m√©todos ao prot√≥tipo dos objetos criados e, por isso, s√£o\ncapazes de compartilhar o mesmo m√©todo para qualquer inst√¢ncia. Relembrando o\nexemplo das publica√ß√µes anteriores, temos, abaixo, o construtor <code>Person</code>:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> surname</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>surname <span class=\"token operator\">=</span> surname<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token class-name\">Person</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getFullName</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>surname<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Podemos utiliz√°-lo com o operador <code>new</code>, veja:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Pedremildo'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Escavadeira'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span><span class=\"token function\">getFullName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 'Pedremildo Escavadeira'</span></code></pre>\n<h2 id=\"classes-do-es2015\" tabindex=\"-1\">Classes do ES2015 <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-4\">#</a></h2>\n<p>No entanto, essa nota√ß√£o para escrever construtores √© bastante diferente de\noutras linguagens de programa√ß√£o, o que sempre causou um pouco de receio em\ndesenvolvedores. Com o advento do ECMA2015, o JavaScript adicionou outra forma\nde escrever construtores, muito similar a outras linguagens de programa√ß√£o, com\na utiliza√ß√£o de <strong>classes</strong>. Podemos reescrever o construtor <code>Person</code> anterior\nda seguinte forma:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> surname</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>surname <span class=\"token operator\">=</span> surname<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">getFullName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>surname<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Essa nota√ß√£o √© bastante similar ao Java, C++ ou Python e utiliza a palavra-chave\n<code>class</code>. No entanto, n√£o confunda a classe do JavaScript com a classe de outras\nlinguagens. A palavra-chave <code>class</code> nada mais √© que um\n‚Äú<a href=\"https://pt.wikipedia.org/wiki/A%C3%A7%C3%BAcar_sint%C3%A1tico\">a√ß√∫car sint√°tico</a>‚Äù\npara os construtores feitos com fun√ß√µes. Sua utiliza√ß√£o √©, tamb√©m, id√™ntica aos\nconstrutores:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Pedremildo'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Escavadeira'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Testerson'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Trunk'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Pedremildo</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">.</span>surname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Trunk</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span><span class=\"token function\">getFullName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 'Pedremildo Escavadeira'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>getFullName <span class=\"token operator\">===</span> b<span class=\"token punctuation\">.</span>getFullName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span></code></pre>\n<p>De forma resumida, o c√≥digo que antes ficava no construtor agora √© colocado\ndentro do <code>constructor</code>, e os m√©todos que antes eram adicionados no <code>prototype</code>\ndo construtor agora s√£o definidos no corpo da classe. Essa mudan√ßa sint√°tica\naproxima o JavaScript de outras linguagens e torna mais f√°cil para pessoas com\noutras experi√™ncias animem-se com ele.</p>\n<h2 id=\"heranca\" tabindex=\"-1\">Heran√ßa <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-4\">#</a></h2>\n<p>A heran√ßa, com as classes, possuem as mesmas vantagens e desvantagens da heran√ßa\ncom construtores, mas possuem uma sintaxe mais simples utilizando a\npalavra-chave <code>extends</code>. Vamos relembrar o exemplo da publica√ß√£o anterior e\ncriar a classe <code>Employee</code>, que estende <code>Person</code> e adiciona a propriedade\n<code>salary</code> e o m√©todo <code>getTax</code>. Veja, abaixo, como essa heran√ßa √© implementada com\nclasses:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Employee</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> surname<span class=\"token punctuation\">,</span> salary</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> surname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>salary <span class=\"token operator\">=</span> salary<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">getTax</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>salary <span class=\"token operator\">*</span> <span class=\"token number\">0.08</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Veja que o m√©todo <code>apply</code>, utilizado nos construtores, foi substitu√≠do pela\nchamada <code>super</code>. Al√©m disso, ao utilizarmos <code>extends</code>, n√£o precisamos adequar a\ncadeia de prot√≥tipos. Toda essa parte j√° √© feita pelo JavaScript\nautomaticamente. A instancia√ß√£o de objetos continua id√™ntica.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Employee</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Pedremildo'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Escavadeira'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Testerson'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Trunk'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Pedremildo</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">.</span>surname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Trunk</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span><span class=\"token function\">getFullName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 'Pedremildo Escavadeira'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>getFullName <span class=\"token operator\">===</span> b<span class=\"token punctuation\">.</span>getFullName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span><span class=\"token function\">getTax</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 8</span></code></pre>\n<h2 id=\"encapsulamento-e-polimorfismo\" tabindex=\"-1\">Encapsulamento e polimorfismo <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-4\">#</a></h2>\n<p>Como os objetos s√£o estruturas de dados muito parecidos com uma\n<a href=\"https://en.wikipedia.org/wiki/Associative_array\">tabela <em>hash</em></a>, todas as\npropriedades do objeto s√£o acess√≠veis. As classes, at√© o ES2015, n√£o\npossuem uma forma de definir que uma propriedade seja oculta ou n√£o.</p>\n<p>Mas, assim como com os construtores, se queremos que uma propriedade do objeto\nseja ‚Äúprotegida‚Äù do meio externo, fazemos isso por meio de uma nota√ß√£o padr√£o,\nnormalmente prefixando o nome da propriedade com <code>_</code>.</p>\n<p>J√° com rela√ß√£o ao polimorfismo, as mesmas regras dos construtores s√£o aplicadas\ne √© dado por meio do <a href=\"https://pt.wikipedia.org/wiki/Duck_typing\"><em lang=\"en\">duck typing</em></a>.</p>\n<h2 id=\"propriedades-e-metodos-estaticos\" tabindex=\"-1\">Propriedades e m√©todos est√°ticos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-4\">#</a></h2>\n<p>Nas classes, propriedades est√°ticas podem ser adicionadas com prefixando-a com\na declara√ß√£o <code>static</code>. Quando uma propriedade ou m√©todo √© prefixado com <code>static</code>,\no JavaScript adiciona esse essa propriedade ou m√©todo na pr√≥pria classe e n√£o\nno prot√≥tipo ou nas inst√¢ncias dos objetos.</p>\n<p>Vamos exemplificar relembrando o exemplo das publica√ß√µes anteriores, onde\nutilizamos uma propriedade est√°tica para armazenar a quantidade de objetos j√°\ncriados pela classe ou qualquer descendente.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">static</span> count <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> surname</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    Person<span class=\"token punctuation\">.</span>count <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>surname <span class=\"token operator\">=</span> surname<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">getFullName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>surname<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Assim, podemos agora verificar quantas inst√¢ncias j√° foram criadas de forma\nid√™ntica aos construtores, veja:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>Person<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 0</span>\n\n<span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Pedremildo'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Escavadeira'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>Person<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 1</span>\n\n<span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Testerson'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Trunk'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>Person<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 2</span></code></pre>\n<h2 id=\"garantias-de-instanciacao\" tabindex=\"-1\">Garantias de instancia√ß√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-4\">#</a></h2>\n<p>√â poss√≠vel verificar se um objeto √© uma inst√¢ncia de uma classe por meio do\noperador <code>instanceof</code>. Veja abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Employee</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Pedremildo'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Escavadeira'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Testerson'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Trunk'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Employee</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Employee</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí false</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span></code></pre>\n<p>Assim como nos construtores, o operador <code>instanceof</code> testa se a o prot√≥tipo dos\nobjetos criados pela classe √† direita est√° na cadeia de prot√≥tipos do objeto √†\nesquerda, e, com isso, determina se um objeto foi constru√≠do por aquele.</p>\n<p>No entanto, diferente dos construtores, n√£o √© necess√°rio testar um objeto\ncriado por uma classe para saber se a classe foi chamada com <code>new</code>. Caso algu√©m\ntente chamar uma classe como uma fun√ß√£o sem o <code>new</code>, o pr√≥prio JavaScript\ndispara um erro.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Pedremildo'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Escavadeira'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí erro!</span>\n<span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Testerson'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Trunk'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí sucesso</span></code></pre>\n<h2 id=\"conclusoes\" tabindex=\"-1\">Conclus√µes <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-4\">#</a></h2>\n<p>Utilizar construtores traz v√°rias vantagens que os construtores j√° possuem, como\na heran√ßa e polimorfismo simplificados e o uso eficiente de mem√≥ria por meio do\ncompartilhamento de c√≥digo via prot√≥tipos. Al√©m disso, a utiliza√ß√£o de classes\nj√° mitiga o cuidado que temos que ter com operadores <code>new</code> nos construtores. No\nentanto, √© alguns pontos ainda permanecem no ES2015:</p>\n<ul>\n<li>N√£o permite um verdadeiro encapsulamento, todas as propriedades s√£o\nacess√≠veis;</li>\n<li>Justamente porque os m√©todos s√£o compartilhados e dependem de um contexto\nespec√≠fico, √© necess√°rio uma aten√ß√£o especial quando os m√©todos s√£o chamados\npara evitar\n<a href=\"https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Operators/this\">problemas com o <code>this</code></a>.</li>\n</ul>\n<p>Podemos dizer que as classes s√£o ‚Äúconstrutores melhorados‚Äù e que √© prudente\nfavorecer o uso de classes ao inv√©s de construtores na medida do poss√≠vel. No\nentanto, mesmo com classes dispon√≠veis, grande parte de c√≥digo escrito em\nJavaScript ainda cont√©m construtores e, por isso, √© importante saber como\nfuncionam caso voc√™ precise lidar com eles em algum momento.</p>\n<p>Essa publica√ß√£o encerra, por enquanto, a s√©rie de introdu√ß√£o ao JavaScript\norientado a objetos. Esse n√£o √© um final definitivo. Podem existir mais\npublica√ß√µes futuras com novas funcionalidades que podem ser adicionadas √†\nlinguagem ou evolu√ß√µes nas t√©cnicas de desenvolvimento OO.</p>\n<p>At√© mais!</p>\n",
			"date_published": "2016-04-30T17:23:39Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/javascript-orientado-a-objetos-3",
			"url": "https://maxroecker.github.io/blog/javascript-orientado-a-objetos-3",
			"title": "JavaScript Orientado a Objetos #3",
			"content_html": "<p>Hoje iremos compreender um pouco sobre as F√°bricas no contexto do JavaScript\nOrientado a Objetos, um padr√£o de projeto alternativos aos construtores para a\ncria√ß√£o de objetos que possui muita similaridade com programa√ß√£o funcional.</p>\n<aside>\n  <p>\n    <strong>f√°.bri.ca:</strong> (1) estabelecimento onde ocorre a\n    fabrica√ß√£o ou manufatura de produtos; (2) um mecanismo que produz ou cria\n    algo.\n  </p>\n</aside>\n<p>Para que voc√™ aproveite melhor o texto √© recomendado que voc√™ tenha conhecimento\ndos conceitos b√°sicos de orienta√ß√£o a objetos. Voc√™ pode ler uma pequena\nintrodu√ß√£o\n<a href=\"http://maxroecker.github.io/blog/javascript-orientado-a-objetos-1/\">no texto anterior dessa s√©rie</a>\ne tamb√©m ver o como criar objetos com\n<a href=\"http://maxroecker.github.io/blog/javascript-orientado-a-objetos-2/\">construtores</a>.\nTamb√©m √© recomendado que voc√™ conhe√ßa o comportamento e caracter√≠sticas dos\n<a href=\"http://maxroecker.github.io/blog/javascript-intermediario-4/\"><em>closures</em></a> em\nJavaScript. O texto hoje √© um pouco longo porque achei importante unir os\nprincipais t√≥picos de cada padr√£o em uma s√≥ publica√ß√£o.</p>\n<h2 id=\"introducao\" tabindex=\"-1\">Introdu√ß√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-3\">#</a></h2>\n<p>J√° vimos, na publica√ß√£o anterior, que construtores, em JavaScript, s√£o fun√ß√µes\nque inicializam um objeto o qual a mem√≥ria j√° foi alocada. Revisitando nosso\nexemplo do construtor <code>Person</code>, visto abaixo, vemos que todas as propriedades\ns√£o acess√≠veis e que os m√©todos s√£o compartilhados entre todos os objetos por\nmeio da cadeia de prot√≥tipos.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> surname</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>surname <span class=\"token operator\">=</span> surname<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token class-name\">Person</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getFullName</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>surname<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Para nosso exemplo, vamos adicionar um novo m√©todo √† <code>Person</code> chamado <code>print</code> e\nque exibe, na sa√≠da padr√£o, uma <em>string</em> representando o objeto.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token class-name\">Person</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">print</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Person [name: '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">']'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Suponha que queremos chamar o m√©todo <code>print</code> duas vezes: a primeira\nimediatamente ap√≥s a cria√ß√£o do objeto e a segunda 3 segundos depois. Podemos\nutilizar a fun√ß√£o <code>setTimeout</code>, que recebe uma fun√ß√£o e um n√∫mero de\nmilissegundos, para fazer essa tarefa. Veja:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> person <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Pedremildo'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Escavadeira'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nperson<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 'Person [name: Pedremildo]'</span>\n\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">.</span>print<span class=\"token punctuation\">,</span> <span class=\"token number\">5000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 'Person [name: undefined]'</span></code></pre>\n<p>O que aconteceu com o m√©todo? Porque, ap√≥s 5 segundos, o resultado foi\ndiferente? Na realidade, o m√©todo perdeu o contexto de onde deveria ser\nexecutado, ou seja, que objeto <code>this</code> se refere. Quando chamamos um m√©todo\ndiretamente no objeto com <code>objeto.m√©todo()</code>, o JavaScript automaticamente define\no <code>this</code> do m√©todo como o pr√≥prio objeto. Como repassamos o m√©todo para outro\nobjeto eventualmente execut√°-lo, o <code>this</code> do m√©todo n√£o referencia mais <code>person</code>\ne, por isso, temos problemas.</p>\n<p>A fun√ß√£o <code>print</code> n√£o est√° amarrada ao objeto <code>person</code>, ela √© compartilhada por\ntodos os objetos constru√≠dos por <code>Person</code>. E, justamente porque os m√©todos s√£o\ncompartilhados √© que, em certos casos, podemos ter problemas com a utiliza√ß√£o\ndesses m√©todos me outros contextos, como vimos acima. H√° v√°rios problemas</p>\n<p>Uma forma de resolver esse problema √© explicitamente pedir para seja criada uma\nnova fun√ß√£o, id√™ntica a anterior, mas que esteja amarrada √† vari√°vel <code>person</code>\npor meio do m√©todo\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\"><code>bind</code></a>.\nVeja:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> person <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Pedremildo'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Escavadeira'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nperson<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 'Person [name: Pedremildo]'</span>\n\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 'Person [name: Pedremildo]'</span></code></pre>\n<p>Resolvemos o problema criando uma c√≥pia da fun√ß√£o com um contexto amarrado, no\nentanto, essa n√£o √© uma das vantagens dos construtores? Porque vamos\ncompartilhar se, dependendo do caso de uso, teremos que criar c√≥pias com\ncontexto amarrado.</p>\n<p>Este exemplo mostra bem as desvantagens que construtores possuem. O uso\nincorreto do <code>this</code> √© um dos\n<a href=\"https://www.toptal.com/javascript/10-most-common-javascript-mistakes\">erros mais comuns</a>\nentre desenvolvedores JavaScript em qualquer n√≠vel de experi√™ncia e √© fonte de\nmuitos <em>bugs</em>. No entanto, h√° uma alternativa: as <strong>f√°bricas</strong>.</p>\n<h2 id=\"fabricas\" tabindex=\"-1\">F√°bricas <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-3\">#</a></h2>\n<p>F√°bricas s√£o, como construtores, fun√ß√µes que inicializam objetos. No entanto,\nf√°bricas n√£o s√≥ inicializam o objeto, como tamb√©m s√£o respons√°veis por\ncriar a √°rea de mem√≥ria associada √† ele; diferente dos construtores, que passam\nessa responsabilidade para o operador <code>new</code>. Vamos refatorar nosso construtor\npara que ele seja uma f√°brica. Veja:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> surname</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> person <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  person<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n  person<span class=\"token punctuation\">.</span>surname <span class=\"token operator\">=</span> surname<span class=\"token punctuation\">;</span>\n  person<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getFullName</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> person<span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> person<span class=\"token punctuation\">.</span>surname<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  person<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">print</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Person [name: '</span> <span class=\"token operator\">+</span> person<span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">']'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> person<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Veja que nossa fun√ß√£o agora, al√©m de inicializar, cria o objeto. Al√©m disso, n√£o\natribu√≠mos mais as fun√ß√µes no prot√≥tipo, mas no pr√≥prio objeto. Como <code>Person</code>\nn√£o √© um construtor e sim uma fun√ß√£o comum, invocamos-a sem o <code>new</code>. Podemos\ntamb√©m fazer o exemplo anterior sem a necessidade do <code>bind</code>.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Pedremildo'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Escavadeira'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Testerson'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Trunk'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Pedremildo</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">.</span>surname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Trunk</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span><span class=\"token function\">getFullName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 'Pedremildo Escavadeira'</span>\n\nb<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 'Person [name: Testerson]'</span>\n\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">.</span>print<span class=\"token punctuation\">,</span> <span class=\"token number\">5000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 'Person [name: Testerson]'</span></code></pre>\n<p>Note que, como criamos o objeto, n√£o precisamos mais utilizar <code>this</code>. Sempre\ntemos a refer√™ncia do objeto criado. Isso acontece porque os m√©todos\n<code>getFullName</code> e <code>print</code> s√£o <em>closures</em> e, assim, mant√©m a refer√™ncia do escopo\nda f√°brica e podem acess√°-lo a qualquer momento.</p>\n<p>Entretanto, temos um pre√ßo a pagar: todos os m√©todos dos objetos criados s√£o\nc√≥pias e n√£o s√£o compartilhados. A cada vez que a f√°brica <code>Person</code> √© chamada, ela\ncria um objeto e c√≥pias dos m√©todos amarrados a esse objeto. Veja:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>getFullName <span class=\"token operator\">===</span> b<span class=\"token punctuation\">.</span>getFullName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí false</span></code></pre>\n<h2 id=\"heranca\" tabindex=\"-1\">Heran√ßa <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-3\">#</a></h2>\n<p>F√°bricas tamb√©m podem utilizar a heran√ßa. Vamos relembrar o exemplo da\npublica√ß√£o anterior, criando uma f√°brica <code>Employee</code>, que estende <code>Person</code> e\nadiciona a propriedade <code>salary</code> e o m√©todo <code>getTax</code>.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Employee</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> surname<span class=\"token punctuation\">,</span> salary</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> employee <span class=\"token operator\">=</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> surname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  employee<span class=\"token punctuation\">.</span>salary <span class=\"token operator\">=</span> salary<span class=\"token punctuation\">;</span>\n  employee<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getTax</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> employee<span class=\"token punctuation\">.</span>salary <span class=\"token operator\">*</span> <span class=\"token number\">0.08</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> employee<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>De forma geral, n√£o precisamos mais utilizar o m√©todo <code>apply</code> e, como n√£o usamos\nprot√≥tipos, n√£o h√° necessidade de utilizar o <code>Object.create</code>, como nos\nconstrutores. No entanto, ‚Äúterceirizamos‚Äù a cria√ß√£o do objeto para outra f√°brica\nque queremos estender as propriedades e m√©todos.</p>\n<p>Veja que a utiliza√ß√£o √© exatamente igual √† <code>Person</code>, no entanto, mais propriedades\ne m√©todos est√£o dispon√≠veis.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token function\">Employee</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Pedremildo'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Escavadeira'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Testerson'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Trunk'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Pedremildo</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">.</span>surname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Trunk</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span><span class=\"token function\">getFullName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 'Pedremildo Escavadeira'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>getFullName <span class=\"token operator\">===</span> b<span class=\"token punctuation\">.</span>getFullName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí false</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span><span class=\"token function\">getTax</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 8</span></code></pre>\n<h2 id=\"encapsulamento\" tabindex=\"-1\">Encapsulamento <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-3\">#</a></h2>\n<p>Apesar dos objetos serem estruturas de dados muito parecidos com uma\n<a href=\"https://en.wikipedia.org/wiki/Associative_array\">tabela <em>hash</em></a>, onde todas as\npropriedades do objeto s√£o acess√≠veis. O conceito de encapsulamento, com\nf√°bricas, pode ser atingido por meio do <em>closure</em>.</p>\n<p>O <em>closure</em> √© protegido de qualquer mudan√ßa externa al√©m das pr√≥prias vari√°veis\nretornadas. N√£o h√° necessidade de conven√ß√£o. Com f√°bricas, temos encapsulamento\nverdadeiro. Vamos refatorar o exemplo acima para adicionar uma propriedade\n‚Äúprivada‚Äù que armazena a taxa do imposto de um empregado.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Employee</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> surname<span class=\"token punctuation\">,</span> salary</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> employee <span class=\"token operator\">=</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> surname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> rate <span class=\"token operator\">=</span> <span class=\"token number\">0.08</span><span class=\"token punctuation\">;</span>\n  employee<span class=\"token punctuation\">.</span>salary <span class=\"token operator\">=</span> salary<span class=\"token punctuation\">;</span>\n  employee<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getTax</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> employee<span class=\"token punctuation\">.</span>salary <span class=\"token operator\">*</span> rate<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> employee<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Veja que <code>rate</code> √© uma vari√°vel que est√° no <code>closure</code> de <code>getTax</code>. N√£o h√° outra\nforma de acessar <code>rate</code> sen√£o pelo m√©todo <code>getTax</code>. Ou seja, <code>rate</code> est√°\nencapsulada de qualquer efeito externo que n√£o seja gerado pelo pr√≥prio objeto.</p>\n<h2 id=\"polimorfismo\" tabindex=\"-1\">Polimorfismo <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-3\">#</a></h2>\n<p>Assim como em construtores, devido √†s caracter√≠sticas do JavaScript, o\npolimorfismo pode ser realizado sem muitos problemas, uma vez que fun√ß√µes s√£o\nobjetos, objetos s√£o mut√°veis e vari√°veis n√£o possuem tipos definidos.\nNormalmente o polimorfismo se d√° por meio do <a href=\"https://pt.wikipedia.org/wiki/Duck_typing\"><em lang=\"en\">duck\ntyping</em></a> e que fazem o <strong>Teste do Pato</strong>.</p>\n<blockquote>\n  <p>\n    Se algo parece com um pato, nada como um pato e grasna como um pato, ent√£o\n    provavelmente √© um pato\n  </p>\n</blockquote>\n<p>No contexto de programa√ß√£o, isso significa que n√£o √© o tipo do objeto que ir√°\ndefinir sua sem√¢ntica, mas sim suas propriedades e m√©todos. Se um conjunto de\nobjetos cont√©m um m√©todo com o nome <code>foo</code>, voc√™ pode cham√°-los sem problema.</p>\n<p>N√£o h√° um contrato pr√©-definido entre as objetos ‚Äî como √© o caso das interfaces\nem Java ou classes abstratas em C++ ‚Äî e por isso fica a cargo do codificador\nutilizar a mesmo protocolo nos objetos em que deve-se estabelecer um\npolimorfismo.</p>\n<figure>\n  <img src=\"https://maxroecker.github.io/img/illustrations/automata-duck.svg\" alt=\"Um autom√¢to de pato com sistema alimenta√ß√£o similar ao trato digestivo\" title=\"Pato Mec√¢nico de Jacques de Vaucanson, 1738\" decoding=\"async\" loading=\"lazy\">\n</figure>\n<h2 id=\"propriedades-e-metodos-estaticos\" tabindex=\"-1\">Propriedades e m√©todos est√°ticos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-3\">#</a></h2>\n<p>De forma similar aos construtores, propriedades e m√©todos est√°ticos podem ser\ncriados atribuindo-os diretamente √† f√°brica. Relembrando o exemplo da publica√ß√£o\nanterior, vamos criar uma propriedade est√°tica na f√°brica <code>Person</code> para\narmazenar a quantidade de objetos j√° criados por ele ou qualquer descendente.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> surname</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  Person<span class=\"token punctuation\">.</span>count <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> person <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  person<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n  person<span class=\"token punctuation\">.</span>surname <span class=\"token operator\">=</span> surname<span class=\"token punctuation\">;</span>\n  person<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getFullName</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> person<span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> person<span class=\"token punctuation\">.</span>surname<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  person<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">print</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Person [name: '</span> <span class=\"token operator\">+</span> person<span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">']'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> person<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nPerson<span class=\"token punctuation\">.</span>count <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Assim, podemos agora verificar quantas inst√¢ncias j√° foram criadas, veja:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>Person<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 0</span>\n\n<span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Pedremildo'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Escavadeira'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>Person<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 1</span>\n\n<span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Testerson'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Trunk'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>Person<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 2</span></code></pre>\n<h2 id=\"garantias-de-instanciacao\" tabindex=\"-1\">Garantias de instancia√ß√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-3\">#</a></h2>\n<p>Como as f√°bricas n√£o utilizam a cadeia de prot√≥tipos, n√£o h√° como determinar se um\nobjeto foi criado ou n√£o por uma f√°brica por meio do operador <code>instanceof</code>.</p>\n<p>No entanto, tamb√©m n√£o temos a necessidade de verificar se uma fun√ß√£o foi\nchamada da forma correta, uma vez que a pr√≥pria f√°brica det√©m o controle da\ncria√ß√£o do objeto.</p>\n<h2 id=\"conclusoes\" tabindex=\"-1\">Conclus√µes <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-3\">#</a></h2>\n<p>Utilizar f√°bricas traz v√°rias vantagens alternativas e atacam os pontos onde\nconstrutores deixam a desejar:</p>\n<ul>\n<li>Heran√ßa simplificada: basta chamar a f√°brica que se deseja herdar e modificar\nseus m√©todos;</li>\n<li>Polimorfismo simplificado: n√£o h√° contratos entre as f√°bricas;</li>\n<li>Encapsulamento verdadeiro: o <em>closure</em> mant√©m o escopo completamente isolado e\ninacess√≠vel de efeitos externos.</li>\n<li>O n√£o compartilhamento de m√©todos traz vantagens uma vez que n√£o precisamos\nnos preocupar em qual contexto um m√©todo ser√° executado, eliminando os riscos\ncom o uso incorreto do <code>this</code>.</li>\n</ul>\n<p>Por√©m, h√° um pre√ßo a se pagar:</p>\n<ul>\n<li>Uso ineficiente da mem√≥ria: cada m√©todo √© alocado para cada objeto criado. N√£o\nh√° compartilhamento entre todos os objetos atrav√©s do uso de prot√≥tipos e, por\nisso, f√°bricas tendem a consumir muito mais mem√≥ria do que construtores;</li>\n<li>N√£o √© poss√≠vel estabelecer se um objeto foi criado por uma f√°brica por meio do\n<code>instanceof</code>.</li>\n</ul>\n<p>A tabela abaixo resume bem as caracter√≠sticas dos construtores e f√°bricas:</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Caracter√≠stica</th>\n<th style=\"text-align:center\">Construtores</th>\n<th style=\"text-align:center\">F√°bricas</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">Heran√ßa</td>\n<td style=\"text-align:center\">‚úì</td>\n<td style=\"text-align:center\">‚úì</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Encapsulamento</td>\n<td style=\"text-align:center\">‚úó</td>\n<td style=\"text-align:center\">‚úì</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Verifica√ß√£o de inst√¢ncias</td>\n<td style=\"text-align:center\">‚úì</td>\n<td style=\"text-align:center\">‚úó</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Consist√™ncia do <code>this</code></td>\n<td style=\"text-align:center\">‚úó</td>\n<td style=\"text-align:center\">‚úì</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Uso eficiente de mem√≥ria</td>\n<td style=\"text-align:center\">‚úì</td>\n<td style=\"text-align:center\">‚úó</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Propriedades est√°ticas</td>\n<td style=\"text-align:center\">‚úì</td>\n<td style=\"text-align:center\">‚úì</td>\n</tr>\n</tbody>\n</table>\n<p>Note que, apesar das vantagens que as f√°bricas trazem, alguns pontos negativos\nimpactam a sua escolha.</p>\n<p>Num geral, os desenvolvedores JavaScript preferem utilizar construtores ao inv√©s\nde f√°bricas porque os pr√≥prios ambientes de execu√ß√£o preferem utilizar esse\npadr√£o. Mas, mesmo sendo menos populares, √© importante entender as f√°bricas pois\nelas permitem compreender as limita√ß√µes que os construtores possuem e\nvice-versa.</p>\n<p>No entanto, construtores contam com algumas simplifica√ß√µes sint√°ticas que\nfacilitam ainda mais seu uso, como √© o caso da estrutura <code>class</code> no ES6, mas\nisso √© um assunto para a pr√≥xima publica√ß√£o!</p>\n<p>At√© mais!</p>\n",
			"date_published": "2016-04-27T05:16:01Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/javascript-orientado-a-objetos-2",
			"url": "https://maxroecker.github.io/blog/javascript-orientado-a-objetos-2",
			"title": "JavaScript Orientado a Objetos #2",
			"content_html": "<p>Hoje iremos compreender um pouco sobre Construtores no contexto do JavaScript\nOrientado a Objetos, um padr√£o de projeto para a cria√ß√£o de objetos que possui\nmuita similaridade com a orienta√ß√£o a objetos com classes.</p>\n<aside>\n  <p>\n    <strong>cons.tru.tor:</strong> (1) que ou aquele que constr√≥i; (2) o que\n    domina o saber de construir.\n  </p>\n</aside>\n<p>Para que voc√™ aproveite melhor o texto √© recomendado que voc√™ tenha conhecimento\ndos conceitos b√°sicos de orienta√ß√£o a objetos. Voc√™ pode ler uma pequena\nintrodu√ß√£o\n<a href=\"http://maxroecker.github.io/blog/javascript-orientado-a-objetos-1/\">no texto anterior dessa s√©rie</a>.\nTamb√©m √© recomendado que voc√™ conhe√ßa o comportamento e caracter√≠sticas dos\n<a href=\"http://maxroecker.github.io/blog/javascript-basico-5/\">objetos</a> e\n<a href=\"http://maxroecker.github.io/blog/javascript-basico-6/\">fun√ß√µes</a> em\nJavaScript. O texto hoje √© um pouco longo porque achei importante unir os\nprincipais t√≥picos de cada padr√£o em uma s√≥ publica√ß√£o.</p>\n<h2 id=\"introducao\" tabindex=\"-1\">Introdu√ß√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-2\">#</a></h2>\n<p>Na orienta√ß√£o a objetos, um <strong>construtor</strong> √© uma rotina utilizada para\ninicializar um objeto cuja a mem√≥ria para ele j√° foi alocada. Em linguagens com\norienta√ß√£o a objetos baseada em classes, como √© o caso do Java e do C++, o\nconstrutor √© definido na pr√≥pria classe e √© invocado toda vez que uma inst√¢ncia\ndessa classe √© criada.</p>\n<p>O JavaScript n√£o possui classes, mas o conceito de construtores √© feito por meio\nde fun√ß√µes que inicializam objetos. Por exemplo, veja a fun√ß√£o <code>Person</code> abaixo,\nque recebe um objeto <code>target</code>, al√©m de um nome junto e um sobrenome em <code>name</code> e\n<code>surname</code>.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">target<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> surname</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  target<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n  target<span class=\"token punctuation\">.</span>surname <span class=\"token operator\">=</span> surname<span class=\"token punctuation\">;</span>\n  target<span class=\"token punctuation\">.</span>getFullName <span class=\"token operator\">=</span> getFullName<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> target<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">getFullName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>surname<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Veja que a fun√ß√£o <code>Person</code> recebe o objeto alvo e inicializa-o,\natribuindo as propriedades e m√©todos que definem o objeto.</p>\n<aside>\n  <p>\n    Mesmo que a fun√ß√£o <code>Person</code> seja definida antes da fun√ß√£o\n    <code>getFullName</code>, ela ainda pode referenci√°-la, pois suas\n    declara√ß√µes passaram por um processo de <a href=\"https://maxroecker.github.io/blog/javascript-intermediario-4/\"><em lang=\"en\">hoist</em></a>.\n  </p>\n</aside>\n<p>Veja que podemos utiliz√°-la como um construtor, uma vez que ela inicializa um\nobjeto e permite a intera√ß√£o por meio de m√©todos e acesso √†s propriedades.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Pedremildo'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Escavadeira'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Testerson'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Trunk'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Pedremildo</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">.</span>surname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Trunk</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span><span class=\"token function\">getFullName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 'Pedremildo Escavadeira'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>getFullName <span class=\"token operator\">===</span> b<span class=\"token punctuation\">.</span>getFullName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span></code></pre>\n<h2 id=\"construtores\" tabindex=\"-1\">Construtores <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-2\">#</a></h2>\n<p>O exemplo anterior de um construtor est√° ‚Äúbem comportado‚Äù, uma vez que estamos\npassando objetos ‚Äúvazios‚Äù com o literal <code>{‚Ä¶}</code>. Quando estamos falando de\nconstrutores, normalmente estamos falando de inicializar objetos rec√©m-criados,\nmas nada garante que algu√©m passe qualquer objeto como o <code>target</code> do nosso\nconstrutor.</p>\n<p>Para isso, o JavaScript fornece o operador\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new\"><code>new</code></a>.\nO <code>new</code> √© um operador utilizado antes da chamada de fun√ß√µes e que muda alguns\ndetalhes da sua execu√ß√£o. Ao executar <code>new ‚ü®fun√ß√£o‚ü©(‚ü®argumentos‚ü©)</code>, o JavaScript\nfaz os seguintes passos:</p>\n<ol>\n<li>Cria um objeto vazio com prot√≥tipo igual a propriedade <code>prototype</code> da fun√ß√£o;</li>\n<li>‚ÄúAmarra‚Äù o contexto <code>this</code> da fun√ß√£o ao objeto criado no passo 1;</li>\n<li>Retorna o objeto criado no passo 1 caso a fun√ß√£o retorne <code>undefined</code>.</li>\n</ol>\n<p>Assim, podemos reescrever a fun√ß√£o <code>Person</code> acima de maneira mais simples e\nintuitiva:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> surname</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>surname <span class=\"token operator\">=</span> surname<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token class-name\">Person</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getFullName</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>surname<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Veja que n√£o √© mais necess√°rio receber um objeto como par√¢metro, pois o <code>this</code> √©\nimplicitamente definido como o objeto rec√©m criado pelo operador <code>new</code>. Tamb√©m\nn√£o h√° necessidade de retornar um objeto, j√° que o <code>new</code> implicitamente far√°\nisso. Al√©m disso, n√£o precisamos mais atribuir os m√©todos diretamente no objeto\ncomo antes, uma vez que utilizamos a cadeia de prot√≥tipos. O operador <code>new</code> ir√°\ncriar um objeto com prot√≥tipo igual a <code>Person.prototype</code>, onde nossos m√©todos\ns√£o definidos.</p>\n<p>O operador <code>new</code> garante que um objeto ‚Äúnovo‚Äù √© fornecido, ent√£o, precisamos\ninst√¢nciar nossos objetos utilizando ele. Veja que podemos fazer exatamente os\nmesmos testes que o exemplo anterior.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Pedremildo'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Escavadeira'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Testerson'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Trunk'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Pedremildo</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">.</span>surname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Trunk</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span><span class=\"token function\">getFullName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 'Pedremildo Escavadeira'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>getFullName <span class=\"token operator\">===</span> b<span class=\"token punctuation\">.</span>getFullName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span></code></pre>\n<p>Utilizar construtores com o operador <code>new</code> e a cadeia de prot√≥tipos √©\nconsiderado a t√©cnica mais comum e recomendada de desenvolver c√≥digo orientado a\nobjetos em JavaScript, e √© nela que iremos nos aprofundar nos pr√≥ximos t√≥picos.</p>\n<h2 id=\"heranca\" tabindex=\"-1\">Heran√ßa <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-2\">#</a></h2>\n<p>Podemos alcan√ßar a heran√ßa ao utilizar uma chamada ao construtor qual se quer\nherdar as caracter√≠sticas com o aux√≠lio do m√©todo\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply\"><code>apply</code></a>.\nO <code>apply</code> √© um m√©todo de fun√ß√µes (lembre-se que fun√ß√µes, no JavaScript, tamb√©m\ns√£o objetos), que recebe dois par√¢metros: o primeiro, um objeto, indica contexto\nem que a fun√ß√£o deve ser aplicada, ou seja, que <code>this</code> se refere; e o segundo,\num arranjo, que recebe os argumentos que devem ser passados a fun√ß√£o a ser\nexecutada.</p>\n<p>Vamos criar um novo construtor, <code>Employee</code>, que estende <code>Person</code> e adiciona uma\npropriedade e um m√©todo: <code>salary</code> e <code>getTax</code>, respectivamente. Veja como essa\nheran√ßa √© implementada abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Employee</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> surname<span class=\"token punctuation\">,</span> salary</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">Person</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">,</span> surname<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>salary <span class=\"token operator\">=</span> salary<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token class-name\">Employee</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Person</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\">Employee</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getTax</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>salary <span class=\"token operator\">*</span> <span class=\"token number\">0.08</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>De forma geral, o que o m√©todo <code>apply</code> est√° fazendo √© executar a fun√ß√£o <code>Person</code>\nno objeto <code>this</code> da fun√ß√£o <code>Employee</code>, algo muito similar √† chamada <code>super</code> em\nlinguagens com orienta√ß√£o a objetos baseada em classes. Al√©m disso, precisamos\nadequar o prot√≥tipo de <code>Employee</code> para estender o prot√≥tipo de <code>Person</code> e,\nassim, herdar os m√©todos por meio da cadeia de prot√≥tipos. Para fazer isso,\nutilizamos a fun√ß√£o <code>Object.create</code>, que cria um objeto com um prot√≥tipo\ndefinido.</p>\n<p>Veja que a utiliza√ß√£o √© exatamente igual √† <code>Person</code>, no entanto, mais propriedades\ne m√©todos est√£o dispon√≠veis.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Employee</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Pedremildo'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Escavadeira'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Testerson'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Trunk'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Pedremildo</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">.</span>surname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Trunk</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span><span class=\"token function\">getFullName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 'Pedremildo Escavadeira'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>getFullName <span class=\"token operator\">===</span> b<span class=\"token punctuation\">.</span>getFullName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span><span class=\"token function\">getTax</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 8</span></code></pre>\n<h2 id=\"encapsulamento\" tabindex=\"-1\">Encapsulamento <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-2\">#</a></h2>\n<p>Como os objetos s√£o estruturas de dados muito parecidos com uma\n<a href=\"https://en.wikipedia.org/wiki/Associative_array\">tabela <em>hash</em></a>, todas as\npropriedades do objeto podem ser acessadas. O conceito de encapsulamento, com\nconstrutores, n√£o √© regido pela linguagem, mas sim por conven√ß√£o.</p>\n<p>Normalmente se queremos que uma propriedade do objeto seja ‚Äúprotegida‚Äù do meio\nexterno, fazemos isso por meio de uma nota√ß√£o padr√£o, normalmente prefixando o\nnome da propriedade com <code>_</code>. Vamos refatorar o exemplo acima para adicionar\numa propriedade ‚Äúprivada‚Äù que armazena a taxa do imposto de um empregado.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Employee</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> surname<span class=\"token punctuation\">,</span> salary</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">Person</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">,</span> surname<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_rate <span class=\"token operator\">=</span> <span class=\"token number\">0.08</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>salary <span class=\"token operator\">=</span> salary<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token class-name\">Employee</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Person</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\">Employee</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getTax</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>salary <span class=\"token operator\">*</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_rate<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Veja que a propriedade <code>_rate</code> √© adicionada ao objeto como qualquer outra, no\nentanto, como prefixamos o nome com <code>_</code>, quem utiliza esse objeto sabe que essa\npropriedade n√£o deve ser manipulada, pois o comportamento do objeto pode se\ntornar imprevis√≠vel.</p>\n<p>Relembrando: a propriedade <code>_rate</code> √© exibida e pode ser acessada como qualquer\noutra propriedade do objeto, mas, por conven√ß√£o, indica-se que ela n√£o deve ser\nmanipulada fora do pr√≥prio objeto. Esse tipo de conven√ß√£o n√£o √© √∫nico da\nlinguagem JavaScript, outras linguagens din√¢micas, como o Python,\n<a href=\"https://docs.python.org/3/tutorial/classes.html#private-variables\">adotam regras similares</a>.</p>\n<h2 id=\"polimorfismo\" tabindex=\"-1\">Polimorfismo <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-2\">#</a></h2>\n<p>Em JavaScript o polimorfismo pode ser realizado sem muitos problemas, uma vez\nque fun√ß√µes s√£o objetos, objetos s√£o mut√°veis e vari√°veis n√£o possuem tipos\ndefinidos. Normalmente o polimorfismo se d√° por meio do <a href=\"https://pt.wikipedia.org/wiki/Duck_typing\"><em lang=\"en\">duck\ntyping</em></a> e que fazem o <strong>Teste do Pato</strong>.</p>\n<blockquote>\n  <p>\n    Se algo parece com um pato, nada como um pato e grasna como um pato, ent√£o\n    provavelmente √© um pato\n  </p>\n</blockquote>\n<p>No contexto de programa√ß√£o, isso significa que n√£o √© o tipo nem a cadeia de\nheran√ßa de do objeto que ir√° definir sua sem√¢ntica, mas sim suas propriedades e\nm√©todos. Se um conjunto de objetos cont√©m um m√©todo com o nome <code>foo</code>, voc√™ pode\ncham√°-los sem problema.</p>\n<p>N√£o h√° um contrato pr√©-definido entre as objetos ‚Äî como √© o caso das interfaces\nem Java ou classes abstratas em C++ ‚Äî e por isso fica a cargo do codificador\nutilizar a mesmo protocolo nos objetos em que deve-se estabelecer um\npolimorfismo.</p>\n<figure>\n  <img src=\"https://maxroecker.github.io/img/illustrations/automata-duck.svg\" alt=\"Um autom√¢to de pato com sistema alimenta√ß√£o similar ao trato digestivo\" title=\"Pato Mec√¢nico de Jacques de Vaucanson, 1738\" decoding=\"async\" loading=\"lazy\">\n</figure>\n<h2 id=\"propriedades-e-metodos-estaticos\" tabindex=\"-1\">Propriedades e m√©todos est√°ticos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-2\">#</a></h2>\n<p>Propriedades est√°ticas s√£o atributos/m√©todos que pertencem ao construtor e n√£o a\ncada um dos objetos constru√≠dos por ele. Propriedades est√°ticas dos construtores\npodem ser criadas atribuindo propriedades aos pr√≥prios construtores.</p>\n<p>Vamos exemplificar a utiliza√ß√£o de propriedades est√°ticas no construtor <code>Person</code>\npara armazenar a quantidade de objetos j√° criados por ele ou qualquer\ndescendente.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> surname</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  Person<span class=\"token punctuation\">.</span>count <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>surname <span class=\"token operator\">=</span> surname<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nPerson<span class=\"token punctuation\">.</span>count <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\">Person</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getFullName</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>surname<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Assim, podemos agora verificar quantas inst√¢ncias j√° foram criadas, veja:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>Person<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 0</span>\n\n<span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Pedremildo'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Escavadeira'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>Person<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 1</span>\n\n<span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Testerson'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Trunk'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>Person<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 2</span></code></pre>\n<h2 id=\"garantias-de-instanciacao\" tabindex=\"-1\">Garantias de instancia√ß√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-2\">#</a></h2>\n<p>O JavaScript tamb√©m permite verificar se um objeto √© uma inst√¢ncia de um\nconstrutor por meio do operador <code>instanceof</code>. Veja abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Employee</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Pedremildo'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Escavadeira'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Testerson'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Trunk'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Employee</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Employee</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí false</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span></code></pre>\n<p>O operador <code>instanceof</code> testa se a propriedade <code>prototype</code> do construtor √†\ndireita est√° na cadeia de prot√≥tipos do objeto √† esquerda, e, com isso, determina\nse um objeto foi constru√≠do por aquele.</p>\n<p>O uso do <code>instanceof</code> √© bastante utilizado para garantir a seguran√ßa de um\nconstrutor. Uma vez que um construtor √© uma fun√ß√£o qualquer que utiliza o\ncontexto <code>this</code>, o que acontece se chamar a fun√ß√£o sem o <code>new</code>?</p>\n<p>Nesse caso, n√£o cria-se um objeto novo e o <code>this</code> no construtor passa a ser o\ncontexto atual de onde a fun√ß√£o foi executada. Assim, o construtor, que espera\nque o <code>this</code> seja um objeto rec√©m-criado na verdade recebe outro e isso pode\ncausar efeitos colaterais imprevis√≠veis e <em lang=\"en\">bugs</em> de dif√≠cil\nlocaliza√ß√£o. Para garantir que o construtor sempre receba no <code>this</code> o objeto\nesperado, podemos adicionar o seguinte teste:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> surname</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TypeError</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>surname <span class=\"token operator\">=</span> surname<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token class-name\">Person</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getFullName</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>surname<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Assim, se caso algu√©m chame <code>Person</code> sem o <code>new</code>, teremos um erro.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Pedremildo'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Escavadeira'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí erro!</span>\n<span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Testerson'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Trunk'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí sucesso</span></code></pre>\n<h2 id=\"conclusoes\" tabindex=\"-1\">Conclus√µes <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-2\">#</a></h2>\n<p>Utilizar construtores traz v√°rias vantagens que incluem:</p>\n<ul>\n<li>Heran√ßa simplificada: basta chamar o construtor em outro e adequar a cadeia\nherdar as propriedades;</li>\n<li>Polimorfismo simplificado: n√£o h√° contratos entre diferentes construtores.</li>\n<li>Uso eficiente da mem√≥ria: cada m√©todo √© somente alocado uma vez e\ncompartilhado entre todos os objetos atrav√©s do uso de prot√≥tipos;</li>\n</ul>\n<p>Por√©m, alguns pontos devem ser considerados:</p>\n<ul>\n<li>N√£o permite um verdadeiro encapsulamento, todas as propriedades s√£o\nacess√≠veis;</li>\n<li>√â necess√°rio sempre tomar cuidado ou tratar a chamada de construtores sem o\noperador <code>new</code>;</li>\n<li>Justamente porque os m√©todos s√£o compartilhados e dependem de um contexto\nespec√≠fico, √© necess√°rio uma aten√ß√£o especial quando os m√©todos s√£o chamados\npara evitar\n<a href=\"https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Operators/this\">problemas com o <code>this</code></a>.</li>\n</ul>\n<p>Apesar dos pontos ‚Äúnegativos‚Äù, a utiliza√ß√£o de construtores em JavaScript √© t√£o\ncomum que grande parte das APIs fornecidas pelos ambientes de execu√ß√£o utilizam\nesse padr√£o. No entanto, h√° uma outro padr√£o para programarmos JavaScript\norientado a objetos: as F√°bricas, que mitigam os pontos negativos vistos acima\nao custo de alguns dos positivos. Mas, esse assunto fica para a pr√≥xima\npublica√ß√£o.</p>\n<p>At√© a pr√≥xima!</p>\n",
			"date_published": "2016-04-22T21:05:36Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/javascript-orientado-a-objetos-1",
			"url": "https://maxroecker.github.io/blog/javascript-orientado-a-objetos-1",
			"title": "JavaScript Orientado a Objetos #1",
			"content_html": "<p>Hoje vamos iniciar uma nova s√©rie de publica√ß√µes sobre a linguagem JavaScript\ncom foco na programa√ß√£o orientada a objetos. Nessa s√©rie, espero que voc√™\ncompreenda conceitos importantes como o encapsulamento de dados, heran√ßa e\npolimorfismo em seu c√≥digo. Vamos tamb√©m entender mais a fundo a estrutura dos\nobjetos e compreender o estilo de programa√ß√£o baseado em prot√≥tipos do\nJavaScript.</p>\n<h2 id=\"introducao-rapida-a-programacao-orientada-a-objetos\" tabindex=\"-1\">Introdu√ß√£o r√°pida √† Programa√ß√£o Orientada a Objetos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-1\">#</a></h2>\n<p>A\n<a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\">Programa√ß√£o Orientada a Objetos</a>\n(POO) √© um paradigma de programa√ß√£o que favorece o uso de <strong>objetos</strong>, unidades\nde computa√ß√£o que cont√©m uma combina√ß√£o de vari√°veis e fun√ß√µes. Idealmente, esse\nparadigma tem o objetivo de separar um problema complexo em pequenos problemas\nisolados que s√£o resolvidos por objetos, e fornecem um protocolo ao mundo\nexterior pelo qual o objeto pode fornecer informa√ß√µes.</p>\n<aside>\n  <p>\n    <strong>pa.ra.dig.ma:</strong> Exemplo, norma ou padr√£o estabelecido ou a\n    ser seguido.\n  </p>\n</aside>\n<p>O grande triunfo da Orienta√ß√£o a Objetos √© que os dados e as fun√ß√µes que\nmanipulam esses dados est√£o agregados em uma mesma estrutura e podem proteger-se\ndo acesso e da manipula√ß√£o direta do ‚Äúmundo externo‚Äù. Os dados ficam em um\nescopo interno do objeto e s√£o chamados de <strong>atributos</strong>. Os atributos armazenam\no <strong>estado</strong> do objeto, ou seja, o conjunto de valores que o objeto cont√©m. Toda\nvez que o valor de algum atributo √© alterado, o objeto muda de estado. Por sua\nvez, para que um objeto possa ser usado pelo mundo externo, ele deve fornecer\num protocolo. Protocolos de acesso √† objetos s√£o, em sua maioria, compostos por\n<strong>m√©todos</strong>. M√©todos s√£o propriedades funcionais dos objetos e que podem ser\nexecutadas para alterar ou retornar algum valor no estado de um objeto.</p>\n<p>Construir aplica√ß√µes com objetos permite que os desenvolvedores adotem algumas\nt√©cnicas valiosas:</p>\n<ul>\n<li><strong>Heran√ßa</strong>: A heran√ßa √© a capacidade de objetos poderem ‚Äúcopiar‚Äù\ncaracter√≠sticas de outros objetos, ou seja, seus m√©todos os m√©todos e\npropriedades. √â um recurso bastante poderoso e que permite um grande reuso de\nc√≥digo.</li>\n<li><strong>Encasulamento</strong>: o encasulamento √© a capacidade de objetos ‚Äúesconderem‚Äù suas\npropriedades do mundo externo ou restringir o acesso a eles, permitindo que\nningu√©m que n√£o saiba os efeitos colaterais de uma altera√ß√£o num objeto possa\ninterferir em seu funcionamento.</li>\n<li><strong>Polimorfismo</strong>: O polimorfismo pode ser definido como a habilidade de chamar\nm√©todos de diferentes objetos de forma id√™ntica. Quando dizemos que um\nconjunto de objetos √© polim√≥rfico, significa que os objetos desse conjunto\npossuem protocolos id√™nticos, ou seja, aceitam as mesmas entradas e\nproporcionam a mesma sa√≠da. No entanto, sua implementa√ß√£o interna pode ser\ndrasticamente diferente.</li>\n</ul>\n<p>A Programa√ß√£o Orientada a Objetos √© destinada a promover uma maior flexibilidade\ne facilidade na manuten√ß√£o de c√≥digo e √© muito popular em aplica√ß√µes de grande\nescala. Atualmente, muitas linguagens populares ‚Äî como Java, C++, Python, Ruby,\nPHP entre outras ‚Äî permitem programa√ß√£o orientada a objetos. O JavaScript tamb√©m\nest√° incluso nesse grupo, no entanto, possui algumas peculiaridades que em um\nprimeiro momento podem ser estranhas para a grande maioria dos desenvolvedores\nacostumados com outras linguagens.</p>\n<figure>\n  <img alt=\"Um homem opera um ve√≠culo de uma roda sentado dentro da grande roda, protegido do mau tempo por um guarda-chuva fixado no dispositivo.\" title=\"J. O. Lose of Patterson, N. J. Ve√≠culo de uma Roda. N¬∞ 325,548.\" loading=\"lazy\" decoding=\"async\" src=\"https://maxroecker.github.io/img/-E-Ftz6x5P-800.svg\" width=\"800\" height=\"600\">\n</figure>\n<h2 id=\"revisando-os-objetos-em-javascript\" tabindex=\"-1\">Revisando os Objetos em JavaScript <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-1\">#</a></h2>\n<p>A grande maioria das linguagens que utilizam Orienta√ß√£o a Objetos se baseiam em\n<strong>classes</strong>. Uma classe √© um ‚Äúmodelo‚Äù ou um ‚Äú<a href=\"https://pt.wikipedia.org/wiki/Blueprint\"><em lang=\"en\">blueprint</em></a>‚Äù\npara a cria√ß√£o de objetos. √â responsabilidade da classe definir os atributos e a\ninterface dos objetos por ela criados. Objetos em uma linguagem baseada em\nclasses s√£o <strong>inst√¢ncias das classes</strong>.</p>\n<p>Em Javascript, os objetos n√£o s√£o inst√¢ncias de classes. Como j√° vimos em\n<a href=\"http://maxroecker.github.io/blog/javascript-basico-5/\">posts anteriores</a>, um\nobjeto √© uma estrutura de dados da linguagem que se assemelha a uma\n<a href=\"https://en.wikipedia.org/wiki/Associative_array\">tabela <em>hash</em></a>. Podemos\ndefinir um objeto, seus atributos e seus m√©todos com o literal <code>{‚Ä¶}</code>.\nVeja:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> pessoa <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Pedro'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">email</span><span class=\"token operator\">:</span> <span class=\"token string\">'pedro@email.com'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">getUsername</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>pessoa<span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Pedro</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>pessoa<span class=\"token punctuation\">.</span><span class=\"token function\">getUsername</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí pedro</span>\npessoa<span class=\"token punctuation\">.</span>email <span class=\"token operator\">=</span> <span class=\"token string\">'joao@exemplo.com'</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>pessoa<span class=\"token punctuation\">.</span><span class=\"token function\">getUsername</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí joao</span></code></pre>\n<p>Podemos acessar as propriedades de um objeto atrav√©s do operador <code>.</code> seguido da\npropriedade ou atrav√©s do operador <code>[]</code> passando a chave como uma <em lang=\"en\">string</em>. A palavra <code>this</code>, quando utilizada em um objeto,\nrefere-se ao pr√≥prio objeto, dessa forma podemos utilizar o atributo <code>email</code> do\nobjeto criado anteriormente dentro do m√©todo <code>getUsername</code>.</p>\n<p>Entretanto, objetos literais do JavaScript n√£o possuem o conceito de\nencapsulamento como pregado pela Orienta√ß√£o a Objeto. Todos os atributos s√£o\nacess√≠veis e vis√≠veis pelo lado de fora do objeto.</p>\n<h2 id=\"prototipos\" tabindex=\"-1\">Prot√≥tipos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-1\">#</a></h2>\n<p><a href=\"http://maxroecker.github.io/blog/javascript-intermediario-6/\">Como visto anteriormente</a>,\no JavaScript n√£o possui Orienta√ß√£o a Objetos baseado em Classes (OOC). Na\nverdade, a linguagem implementa outro ‚Äúestilo‚Äù de programa√ß√£o orientada a\nobjetos, a <strong>Orienta√ß√£o a Objetos baseada em Prot√≥tipos (OOP)</strong>.</p>\n<p>Prot√≥tipos s√£o, de forma bem simples, objetos que servem de ‚Äúreserva‚Äù para outro\nobjeto. Dessa forma, quando buscamos uma propriedade em um objeto e ela n√£o est√°\npresente nele, a m√°quina virtual vai at√© o prot√≥tipo desse objeto buscar essa\npropriedade. Caso o resultado seja negativo novamente, busca-se no prot√≥tipo do\nprot√≥tipo e assim por diante at√© que um objeto n√£o tenha protot√≥tipo ou a\npropriedade seja encontrada.</p>\n<p>Compreender como os prot√≥tipos funcionam √© essencial para compreender como\nprogramar em JavaScript orientado a objetos. Caso voc√™ queira se saber mais\nsobre o que s√£o prot√≥tipos de objetos, recomendo a leitura\n<a href=\"http://maxroecker.github.io/blog/javascript-intermediario-6/\">desse texto</a> onde\ndescrevo com mais detalhes o comportamento de prot√≥tipos e suas principais\ncaracter√≠sticas.</p>\n<h2 id=\"orientacao-a-objetos-em-javascript\" tabindex=\"-1\">Orienta√ß√£o a Objetos em JavaScript <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-orientado-a-objetos-1\">#</a></h2>\n<p>O JavaScript √© uma linguagem muito flex√≠vel e permite que os desenvolvedores\ntenham liberdade para construir diversas solu√ß√µes para problemas e objetivos que\nqueiram alcan√ßar. Quando estamos programando em um paradigma orientado a objetos\nisso n√£o √© diferente. H√° m√∫ltiplas maneiras e padr√µes para se programar\norientado a objetos dentro da linguagem.</p>\n<p>Cada t√©cnica possui sua vantagem e sua desvantagem caracter√≠stica, e essa\nflexibilidade permite que o desenvolvedor escolha qual √© a solu√ß√£o mais adequada\nao seu problema. Essa s√©rie de publica√ß√µes pretende passar a voc√™ alguns\nconceitos e t√©cnicas utilizadas em JavaScript para que os programas garantam as\nprincipais caracter√≠sticas da programa√ß√£o orientada a objetos. E justamente por\nisso iremos nos focar em dois padr√µes utilizados quando queremos desenvolver\naplica√ß√µes em JavaScript orientado a objetos: os <strong>construtores</strong> e as\n<strong>f√°bricas</strong>. Ao final, tamb√©m veremos as novidades do ES2015 para esse\nparadigma.</p>\n<p>At√© mais!</p>\n",
			"date_published": "2016-04-15T08:49:56Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/javascript-intermediario-6",
			"url": "https://maxroecker.github.io/blog/javascript-intermediario-6",
			"title": "JavaScript Intermedi√°rio #6",
			"content_html": "<p>No √∫ltimo texto da s√©rie, iremos abordar um dos conceitos que mais causam\nconfus√£o em desenvolvedores que est√£o iniciando na linguagem, os <strong>prot√≥tipos</strong>.\nNo entanto, espero que ao fim dessa publica√ß√£o, voc√™ compreenda que o mecanismo\nde prot√≥tipos √© simples, mas muito poderoso.</p>\n<aside> <p> <strong>pro¬∑t√≥¬∑ti¬∑po</strong>: (1) Primeiro tipo criado, original;\n(2) Algo feito pela primeira vez e, muitas vezes, copiado ou imitado; (3)\nNodelo, padr√£o, c√¢none. </p> </aside>\n<h2 id=\"metodos-de-objetos\" tabindex=\"-1\">M√©todos de objetos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-intermediario-6\">#</a></h2>\n<p>Em JavaScript, objetos s√£o estruturas de dados que agrupam duplas de chave-valor\ndenominadas de propriedades. A chave de uma propriedade √© um nome que aponta\npara um valor √∫nico. No entanto, um valor pode ser apontado por v√°rias\npropriedades, do mesmo ou diferentes objetos. As propriedades de um objeto podem\nser acessadas por meio dos operadores <code>.</code> ou <code>[‚Ä¶]</code>. Objetos s√£o,\nfundamentalmente, implementa√ß√µes de\n<a href=\"https://en.wikipedia.org/wiki/Associative_array\">arranjos associativos</a>.</p>\n<aside> <p> Se voc√™ quer compreender melhor os fundamentos de objetos em\nJavaScript, recomendo tamb√©m a leitura <a href=\"http://maxroecker.github.io/blog/javascript-basico-5/\">dessa outra\npublica√ß√£o do blog</a>. </p> </aside>\n<p>Mas se objetos s√£o implementa√ß√µes de arranjos associativos, porque eles s√£o\nchamados de ‚Äúobjetos‚Äù e n√£o de\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Map.html\">mapas</a>,\n<a href=\"https://docs.python.org/3/tutorial/datastructures.html#dictionaries\">dicion√°rios</a>\nou\n<a href=\"https://doc.rust-lang.org/std/collections/struct.HashMap.html\">tabelas hash</a>,\ncomo em outras linguagens de programa√ß√£o?</p>\n<p>Objetos tem um comportamento bem diferente de outras implementa√ß√µes de arranjos\nassociativos quando estamos tratando de propriedades que apontam para fun√ß√µes.\nQuando uma propriedade aponta para uma fun√ß√£o, ela recebe, inclusive, um nome\nespecial: <strong>m√©todo</strong>.</p>\n<p>M√©todos s√£o propriedades de um objeto que apontam para fun√ß√µes e podem\ndeclarados como uma fun√ß√£o qualquer por meio da palavra-chave <code>function</code>. No\nentanto, m√©todos tem a possibilidade de utilizar um par√¢metro impl√≠cito: o\n<code>this</code>, uma refer√™ncia para o pr√≥prio objeto o qual o m√©todo ‚Äúfaz parte‚Äù. O\n<code>this</code> e n√£o precisa ser declarado ou passado como par√¢metro quando o utilizamos\nno corpo da fun√ß√£o. Vamos ver exemplo simples de objeto com m√©todos no c√≥digo\nabaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> person <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">firstName</span><span class=\"token operator\">:</span> <span class=\"token string\">'Pedro'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">lastName</span><span class=\"token operator\">:</span> <span class=\"token string\">'Pipoca'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">getFullName</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>firstName <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>lastName<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">toString</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> fullname <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getFullName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">'[Person: '</span> <span class=\"token operator\">+</span> fullname <span class=\"token operator\">+</span> <span class=\"token string\">']'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Como se pode ver, o objeto <code>person</code> possui duas propriedades, <code>firstName</code> e\n<code>lastName</code>, e dois m√©todos, <code>getFullName</code> e <code>toString</code>. As propriedades\n<code>firstName</code> e <code>lastName</code>, que indicam o nome e o sobrenome, s√£o simples strings.\nO m√©todo <code>getFullName</code> √© uma fun√ß√£o que utiliza o <code>this</code> para acessar as\npropriedades <code>firstName</code> e <code>lastName</code> e retornar o nome completo da pessoa por\nmeio de uma concatena√ß√£o de strings. J√° o m√©todo <code>toString</code> √© uma outra fun√ß√£o\nque retorna o objeto uma vers√£o serializada como string.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">.</span>firstName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Pedro</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">[</span><span class=\"token string\">'lastName'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Pipoca</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">.</span>getFullName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí [Function: getFullName]</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">[</span><span class=\"token string\">'toString'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí [Function: toString]</span></code></pre>\n<p>Para acessar tanto propriedades quanto m√©todos, utilizamos o operador <code>.</code> ou\n<code>[‚Ä¶]</code>. No entanto, acessar um m√©todo n√£o significa execut√°-lo, significa apenas\nreceber uma refer√™ncia para o m√©todo. Quando queremos executar um m√©todo,\nprecisamos, al√©m de acess√°-lo, utilizar um par de par√™nteses.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">[</span><span class=\"token string\">'getFullName'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Pedro Pipoca</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí [Person: Pedro Pipoca]</span></code></pre>\n<p>Assim como qualquer propriedade, podemos verificar a exist√™ncia de um m√©todo com\no operador <code>in</code>:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'getFullName'</span> <span class=\"token keyword\">in</span> person<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'toString'</span> <span class=\"token keyword\">in</span> person<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span></code></pre>\n<p>E podemos excluir m√©todos com o operador <code>delete</code>:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'getFullName'</span> <span class=\"token keyword\">in</span> person<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'toString'</span> <span class=\"token keyword\">in</span> person<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\n\n<span class=\"token keyword\">delete</span> person<span class=\"token punctuation\">.</span>getFullName<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">delete</span> person<span class=\"token punctuation\">.</span>toString<span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'getFullName'</span> <span class=\"token keyword\">in</span> person<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí false</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'toString'</span> <span class=\"token keyword\">in</span> person<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span></code></pre>\n<p>Mas o que? N√≥s n√£o exclu√≠mos o m√©todo <code>toString</code>? Porque o operador <code>in</code> ainda\nacusa que ele existe no objeto <code>person</code>? Bem, se ele ainda existe no objeto\nent√£o podemos execut√°-lo. Assim, temos:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí [object Object]</span></code></pre>\n<p>Mas que m√©todo √© esse? Essa sa√≠da n√£o condiz com a implementa√ß√£o que fizemos\npara o <code>toString</code> acima‚Ä¶ Chega de mist√©rios! O que temos aqui √© um efeito dos\n<strong>prot√≥tipos</strong> em plena a√ß√£o.</p>\n<figure>\n  <img src=\"https://maxroecker.github.io/img/illustrations/airship.svg\" alt=\"Prot√≥tipo de aeronave contendo bal√µes preenchidos com v√°cuo.\" title=\"Aeronave imaginada pelo italiano Francesco Lana de Terzi (1631‚Äì1687)\" decoding=\"async\" loading=\"lazy\">\n</figure>\n<h2 id=\"prototipos-de-objetos\" tabindex=\"-1\">Prot√≥tipos de objetos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-intermediario-6\">#</a></h2>\n<p>Todo objeto em JavaScript pode ter um prot√≥tipo. Um prot√≥tipo √©, informalmente,\num ‚Äúobjeto reserva‚Äù que cont√©m propriedades e m√©todos e que podem ser acessadas\na partir do objeto inicial. Assim, ao acessar uma propriedade que n√£o existe no\nobjeto prim√°rio, o JavaScript automaticamente busca a propriedade no prot√≥tipo\nantes de resultar <code>undefined</code>.</p>\n<p>Como o prot√≥tipo tamb√©m √© um objeto, caso a propriedade n√£o seja encontrada no\nprot√≥tipo ent√£o o JavaScript busca no prot√≥tipo do prot√≥tipo, e assim por\ndiante. Uma hora ou outra o prot√≥tipo de um objeto ser√° <code>null</code> e a busca √©\nencerrada. A busca pela propriedade percorre toda a <strong>cadeia de prot√≥tipos</strong>\nantes de resultar em <code>undefined</code>.</p>\n<p>Na verdade, o m√©todo <code>toString</code> misterioso que vimos acima realmente n√£o faz\nparte do objeto <code>person</code> que declaramos, mas do prot√≥tipo dele: o\n<code>Object.prototype</code>.</p>\n<aside> <p> Todo objeto declarado com o literal <code>{‚Ä¶}</code> possui o\n<code>Object.prototype</code> como prot√≥tipo; <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object#Object_instances_and_Object_prototype_object\">que\npossui v√°rios m√©todos</a>, incluindo o <code>toString</code>. </p> </aside>\n<p>Como n√≥s definimos um m√©todo <code>toString</code> em <code>person</code>, ao acessarmos o JavaScript\nlogo o encontra no primeiro objeto, nem necessitando iniciar a busca pela cadeia\nde prot√≥tipos. No entando esse comportamento muda a partir do momento que\nexclu√≠mos o m√©todo <code>toString</code> de <code>person</code>. Caso acessemos o <code>toString</code>\nnovamente, o JavaScript vai encontr√°-la no <code>Object.prototype</code> por meio da cadeia\nde prot√≥tipos.</p>\n<figure>  \n  <img alt=\"Ilustra√ß√£o do objeto person e do prot√≥tipo Object.prototype\" title=\"undefined\" loading=\"lazy\" decoding=\"async\" src=\"https://maxroecker.github.io/img/6XuHkqp03p-800.svg\" width=\"800\" height=\"450\">\n</figure>\n<p>A implementa√ß√£o do <code>toString</code> no <code>Object.prototype</code> √© totalmente independente da\nimplementa√ß√£o que fizemos em <code>person</code> e isso explica a diverg√™ncia na sa√≠da que\ntivemos acima.</p>\n<p>Voc√™ pode identificar o prot√≥tipo de um objeto por meio da fun√ß√£o\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf\"><code>Object.getPrototypeOf</code></a>.\nJ√° vimos que o prot√≥tipo de um objeto criado com o literal <code>{‚Ä¶}</code> √© o\n<code>Object.prototype</code> e que prot√≥tipos s√£o opcionais. O <code>Object.prototype</code> √© um\nexemplo de objeto que n√£o tem prot√≥tipos. Podemos vamos confirmar essas\nsenten√ßas com o exemplo abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> p <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">getPrototypeOf</span><span class=\"token punctuation\">(</span>o<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>p <span class=\"token operator\">==</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\n\n<span class=\"token keyword\">const</span> pp <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">getPrototypeOf</span><span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>pp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí null</span></code></pre>\n<p>Voc√™ pode criar um objeto com qualquer prot√≥tipo por meio da fun√ß√£o\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\"><code>Object.create</code></a>,\nque recebe como primeiro par√¢metro um objeto que ser√° o prot√≥tipo do objeto\ncriado. Veja no exemplo a seguir onde definimos um prot√≥tipo para objetos que\nrepresentam um ponto com coordenadas em duas dimens√µes:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> pointPrototype <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">getDistanceFrom</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">other</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> dx <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">abs</span><span class=\"token punctuation\">(</span>other<span class=\"token punctuation\">.</span>x <span class=\"token operator\">-</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> dy <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">abs</span><span class=\"token punctuation\">(</span>other<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> distance <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sqrt</span><span class=\"token punctuation\">(</span>dx <span class=\"token operator\">*</span> dx <span class=\"token operator\">+</span> dy <span class=\"token operator\">*</span> dy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> distance<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> origin <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>pointPrototype<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\norigin<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\norigin<span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> point <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>pointPrototype<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\npoint<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\npoint<span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>point<span class=\"token punctuation\">.</span><span class=\"token function\">getDistanceFrom</span><span class=\"token punctuation\">(</span>point<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 0</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>point<span class=\"token punctuation\">.</span><span class=\"token function\">getDistanceFrom</span><span class=\"token punctuation\">(</span>origin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 5</span></code></pre>\n<p>Veja que o prot√≥tipo possui a fun√ß√£o <code>getDistanceFrom</code>, que recebe outro ponto\ncom par√¢metro em <code>other</code> e calcula a dist√¢ncia entre o <code>this</code>. Por causa da\ndelega√ß√£o de propriedades, o <code>this</code> de um m√©todo chamado pelo objeto prim√°rio\ninicia a busca pelo objeto prim√°rio. Por isso que o <code>this.x</code> refer√™ncia o valor\nde <code>origin.x</code> ou <code>point.x</code> mas n√£o de <code>pointPrototype.x</code>.</p>\n<aside> <p> <a href=\"https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Math/abs\"><code>Math.abs</code></a>\ne <a href=\"https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Math/sqrt\"><code>Math.sqrt</code></a>\ns√£o fun√ß√µes padr√£o do JavaScript que retornam, respectivamente, o valor absoluto\ne a raiz quadrada de um n√∫mero. </p> </aside>\n<p>Devido a busca na cadeia de prot√≥tipos, n√£o √© preciso definir a fun√ß√£o\n<code>getDistanceFrom</code> duas vezes. Ou seja, uma fun√ß√£o definida apenas uma vez pode\nser utilizada por qualquer objeto que tenha <code>pointPrototype</code> como prot√≥tipo.\nIsso permite uma reutiliza√ß√£o de c√≥digo bastante poderosa. A figura abaixo\napresenta uma ilustra√ß√£o do prot√≥tipo compartilhado:</p>\n<figure>  \n  <img alt=\"Ilustra√ß√£o de objetos compartilhando um mesmo prot√≥tipo.\" title=\"undefined\" loading=\"lazy\" decoding=\"async\" src=\"https://maxroecker.github.io/img/ObN4dpWhOT-800.svg\" width=\"800\" height=\"500\">\n</figure>\n<p>Voc√™ tamb√©m pode criar objetos que n√£o tenham prot√≥tipos passando <code>null</code> para o\nprimeiro par√¢metro do <code>Object.create</code>. No entanto, algumas funcionalidades\nb√°sicas n√£o estar√£o dispon√≠veis, como √© o caso da fun√ß√£o <code>toString</code>:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\na<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\nb<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 1</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 2</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí [object Object]</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Erro! \"toString\" n√£o √© uma fun√ß√£o</span></code></pre>\n<p>√â poss√≠vel alterar o prot√≥tipo de um objeto ap√≥s ele ser criado com a fun√ß√£o <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf\"><code>Object.setPrototypeOf</code></a>.\nNo entanto, a forma com que as m√°quinas virtuais JavaScript otimizam o acesso a\npropriedades, alterar o prot√≥tipo ap√≥s a cria√ß√£o do objeto √© uma opera√ß√£o muito\nlenta. Al√©m disso, os efeitos colaterais que envolvem a mudan√ßa da cadeia de\nprot√≥tipos podem ser bastante imprevis√≠veis e fonte de bugs com dif√≠cil\nidentifica√ß√£o. Por tudo isso, alterar o prot√≥tipo de um objeto √© considerado uma\nm√° pr√°tica na maioria das vezes.</p>\n<h2 id=\"conclusoes\" tabindex=\"-1\">Conclus√µes <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-intermediario-6\">#</a></h2>\n<p>A grande vantagem dos prot√≥tipos √© que eles oferecem um consider√°vel ganho de\ndesempenho e se apresentam como uma forma eficiente de utiliza√ß√£o da mem√≥ria\nquando queremos distribuir c√≥digo repetido para v√°rios objetos. Afinal, quando\nv√°rios objetos compartilham um mesmo prot√≥tipo, h√° somente uma inst√¢ncia desse\nprot√≥tipo na mem√≥ria. No entanto, assim como qualquer recurso compartilhado, √©\nnecess√°rio ter uma aten√ß√£o extra as muta√ß√µes feita a um prot√≥tipo. Qualquer\nmudan√ßa no protot√≥tipo afeta todos os objetos que o referenciam.</p>\n<p>Os prot√≥tipos s√£o utilizados principalmente para reutiliza√ß√£o e compartilhamento\nde c√≥digo entre diversos objetos. Eles tamb√©m s√£o fundamentais para alguns\npadr√µes que seguem o paradigma de programa√ß√£o orientado a objetos.</p>\n<p>Os prot√≥tipos s√£o respons√°veis por boa parte do poder de expressividade que\nlinguagem JavaScript oferece. Sua utiliza√ß√£o se torna ainda mais mais\nsignificativa quando aliada a outras funcionalidades presentes na linguagem,\ncomo fun√ß√µes de alta ordem, as <i lang=\"en\">closures</i> e a programa√ß√£o\norientada a eventos.</p>\n",
			"date_published": "2016-04-06T15:54:33Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/javascript-intermediario-5",
			"url": "https://maxroecker.github.io/blog/javascript-intermediario-5",
			"title": "JavaScript Intermedi√°rio #5",
			"content_html": "<p>Hoje iremos abordar a IIFE, uma pr√°tica muito utilizada no JavaScript quando\nestamos desenvolvendo aplica√ß√µes ou m√≥dulos na linguagem j√° que ela garante um\nc√≥digo que n√£o cause ou seja afetado por efeitos colaterais externos.</p>\n<h2 id=\"introducao\" tabindex=\"-1\">Introdu√ß√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-intermediario-5\">#</a></h2>\n<p>Para entender a IIFE, precisamos relembrar o que s√£o express√µes funcionais e <i lang=\"en\">closures</i> em JavaScript.</p>\n<p>Fun√ß√µes s√£o tratadas como qualquer outro valor em JavaScript, e, por isso, podem\nser atribu√≠das em vari√°veis, passadas como par√¢metro ou retornadas como\nresultado. Toda vez que uma express√£o resulta em uma fun√ß√£o, dizemos que temos\numa <strong>express√£o funcional</strong>. Uma declara√ß√£o de fun√ß√£o utilizando a palavra-chave\n<code>function</code> sempre retorna como valor uma refer√™ncia para a fun√ß√£o definida e,\npor isso, tamb√©m √© considerada uma express√£o funcional. Uma vari√°vel pode\nexecutar uma fun√ß√£o que ela referencia utilizando um par de par√™nteses <code>(‚Ä¶)</code>\nentre os par√¢metros da fun√ß√£o.</p>\n<aside> <p> Caso voc√™ queira ler mais sobre o comportamento de express√µes\nfuncionais em JavaScript, recomendo a leitura <a href=\"https://maxroecker.github.io/blog/javascript-basico-6/\">dessa\npublica√ß√£o</a> no blog. </p> </aside>\n<p>Al√©m disso, toda vez que uma fun√ß√£o √© definida internamente de um escopo de\noutra fun√ß√£o e, al√©m disso, referencia vari√°veis locais da fun√ß√£o externa; temos\numa <i lang=\"en\">closure</i>. Uma <strong><i lang=\"en\">closure</i></strong>\narmazena o escopo l√©xico da fun√ß√£o externa e √© capaz de acess√°-lo mesmo quando a\nsua execu√ß√£o j√° tenha sido finalizada. O <i lang=\"en\">closure</i> √© um estado\nprivado da fun√ß√£o e nada mais tem acesso a esse estado exceto outras fun√ß√µes\ndefinidas no mesmo <i lang=\"en\">closure</i>.</p>\n<aside> <p> Se voc√™ quiser entender melhor sobre o que s√£o <i lang=\"en\">closures</i>, <a href=\"https://maxroecker.github.io/blog/javascript-intermediario-2/\">essa outra\npublica√ß√£o</a> do blog pode lhe ajudar. </p> </aside>\n<h2 id=\"o-padrao-iife\" tabindex=\"-1\">O Padr√£o IIFE <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-intermediario-5\">#</a></h2>\n<p>Com os conceitos relembrados na introdu√ß√£o, podemos criar uma IIFE. <strong>IIFE √© uma\nexpress√£o funcional que √© executada imediatamente ap√≥s ser definida</strong>.\nNormalmente, uma IIFE (do ingl√™s, <i lang=\"en\">Immediately-Invoked Function\nExpression</i>) √© escrita como uma a defini√ß√£o de uma fun√ß√£o ‚Äî e sua consequente\nexpress√£o funcional ‚Äî seguida da sua imediata execu√ß√£o. Voc√™ pode utilizar o\npadr√£o IIFE utilizando a palavra chave <code>function</code> na seguinte forma:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Veja que entre o primeiro par de par√™nteses externos estamos definindo uma\nfun√ß√£o ‚Äî que retorna uma express√£o funcional ‚Äî e, logo em seguida, no segundo\npar de par√™nteses externos, estamos invocando-a.</p>\n<p>Vamos aplicar a IIFE em um exemplo pr√°tico. Suponha que queremos definir um\ncontador global e √∫nico que somente seja acess√≠vel via tr√™s fun√ß√µes: <code>read</code>, que\nretorna o estado atual do contador; <code>count</code> que incrementa e retorna o valor do\ncontador e <code>reset</code> que reinicializa o contador. Voc√™ poderia implementar uma\nsolu√ß√£o tal como o c√≥digo abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> state <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">read</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> state<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">count</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  state <span class=\"token operator\">=</span> state <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> state<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">reset</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  state <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> state<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">count</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">count</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 2</span>\n<span class=\"token function\">reset</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 0</span></code></pre>\n<p>Apesar da vari√°vel <code>state</code>, que armazena o estado atual do contador, ser global\ne √∫nica, essa solu√ß√£o possui problemas: a vari√°vel <code>state</code> est√° dispon√≠vel para\ntodo e qualquer subrotina uma vez que ela √© definida globalmente. Al√©m disso, a\nvari√°vel <code>state</code> ‚Äúpolui‚Äù o escopo global do c√≥digo, o que pode levar a conflito\nde nomes e bugs dif√≠ceis de serem encontrados.</p>\n<p>Podemos proteger a vari√°vel <code>state</code> de efeitos colaterais externos utilizando\numa IIFE. Vamos ent√£o refatorar o c√≥digo acima utilizando essa pr√°tica:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> counter <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> state <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">read</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> state<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function-variable function\">count</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      state <span class=\"token operator\">=</span> state <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span> state<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token function-variable function\">reset</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      state <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span> state<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ncounter<span class=\"token punctuation\">.</span><span class=\"token function\">count</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ncounter<span class=\"token punctuation\">.</span><span class=\"token function\">count</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>counter<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 2</span>\ncounter<span class=\"token punctuation\">.</span><span class=\"token function\">reset</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>counter<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 0</span></code></pre>\n<p>Agora, no c√≥digo acima, a vari√°vel <code>state</code> est√° protegida por uma <i lang=\"en\">closure</i> e, dessa forma, n√£o √© mais acess√≠vel por nenhuma fun√ß√£o\nexceto a <code>read</code>, <code>count</code> e <code>reset</code>. Para que tenhamos acesso a essas fun√ß√µes, o\nretorno da IIFE √© um objeto que cont√©m refer√™ncias para as fun√ß√µes que acessam\n<code>state</code>. Por isso que a utiliza√ß√£o delas √© um pouco modificada na refatora√ß√£o\nfinal.</p>\n<aside> <p> A IIFE tamb√©m pode ser encontrado pelo nome de SEAF (do ingl√™s, <i lang=\"en\">Self-Executing Anonymous Function</i>). No entanto, o termo IIFE, <a href=\"http://benalman.com/news/2010/11/immediately-invoked-function-expression/#iife\">introduzido\npor Ben Alman</a>, √© considerado semanticamente mais adequado. Afinal, a pr√°tica\nn√£o requer utilizar somente fun√ß√µes an√¥nimas. </p> </aside>\n<h2 id=\"conclusoes\" tabindex=\"-1\">Conclus√µes <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-intermediario-5\">#</a></h2>\n<p>A IIFE √© uma pr√°tica muito utilizada para proteger o escopo global da polui√ß√£o e\nconflito de nomes de vari√°veis. Al√©m disso, permite aliviar um pouco a confus√£o\nde escopos de bloco/fun√ß√£o dados pelo\n<a href=\"http://maxroecker.github.io/blog/javascript-intermediario-4/\">mecanismo de hasteamento de vari√°veis e fun√ß√µes do JavaScript</a>.</p>\n<p>Outra comum utiliza√ß√£o da IIFE √© o constru√ß√£o de um estado privado e\nencapsulado, uma vez que as vari√°veis que s√£o utilizadas pelas fun√ß√µes\nretornadas da IIFE ficam alocadas em uma <i lang=\"en\">closure</i> e somente\nessas fun√ß√µes possuem acesso a elas, como vimos no exemplo.</p>\n<p>O post de hoje ficou mais curto, mas, lembre-se, as IIFEs eram uma das poucas\nalternativas para a simula√ß√£o de m√≥dulos em JavaScript em uma √©poca anterior ao\nES2015. √â sempre bom ter esse conhecimento no seu invent√°rio.</p>\n",
			"date_published": "2016-04-04T14:22:21Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/javascript-intermediario-4",
			"url": "https://maxroecker.github.io/blog/javascript-intermediario-4",
			"title": "JavaScript Intermedi√°rio #4",
			"content_html": "<p>Hoje veremos uma caracter√≠stica bastante peculiar do JavaScript e que\nnormalmente √© causa de pequenos erros quanto estamos trabalhando com a\nlinguagem: o hasteamento de vari√°veis, comumente chamado de <i lang=\"en\">hoisting</i>.</p>\n<aside> <p> <strong>has¬∑te¬∑ar</strong>: (1) Elevar ou prender ao topo de uma\nhaste. (2) Altear, i√ßar, levantar. </p> </aside>\n<h2 id=\"hasteamento-de-variaveis\" tabindex=\"-1\">Hasteamento de vari√°veis <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-intermediario-4\">#</a></h2>\n<p>No momento de execu√ß√£o de um c√≥digo JavaScript, toda declara√ß√£o de vari√°vel\npassam por um processo de hasteamento, isto √©, a declara√ß√£o da vari√°vel √©\nelevada para o topo do escopo atribu√≠do de forma autom√°tica. Esse processo √©\ncomumente chamado de <i lang=\"en\">hoisting</i>. O conceito pode ser um pouco\nconfuso a princ√≠pio, ent√£o, vamos para um exemplo pr√°tico. Em JavaScript, √©\nposs√≠vel declarar uma fun√ß√£o e cham√°-la logo em seguida, como no exemplo abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello, '</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">'!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Max'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Hello, Max!</span></code></pre>\n<p>Entretanto, voc√™ tamb√©m pode chamar uma fun√ß√£o que ainda n√£o foi declarada. Ou\nseja, o c√≥digo acima pode ser reescrito como o abaixo e ainda assim continua\nfuncionando:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Max'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Hello, Max!</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello, '</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">'!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Isso acontece porque a declara√ß√£o da fun√ß√£o <code>hello</code> √© hasteada ao topo do\nc√≥digo. O compilador faz esse processo de forma autom√°tica e, por isso, o c√≥digo\ncontinua funcionando normalmente. O mesmo acontece para vari√°veis declaradas com\n<code>var</code>. Veja:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí undefined</span>\n<span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token number\">6</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 6</span></code></pre>\n<p>Um erro n√£o aconteceu, no entanto, porque a primeira sa√≠da foi <code>undefined</code> se a\nvari√°vel √© declarada com o valor <code>6</code>? Bem, isso acontece porque o mecanismo de\n<i lang=\"en\">hoisting</i> do JavaScript somente eleva declara√ß√µes das vari√°veis,\nmas n√£o a atribu√≠√ß√µes que as inicializam. Ou seja, o c√≥digo acima tem um\ncomportamento equivalente ao c√≥digo abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> x<span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí undefined</span>\nx <span class=\"token operator\">=</span> <span class=\"token number\">6</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 6</span></code></pre>\n<p>Declara√ß√µes de vari√°veis locais passam pelo mesmo processo, ou seja, a sa√≠da do\nc√≥digo abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> x<span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nx <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Ser√° igual a:</p>\n<pre><samp>undefined\nundefined\n2\n1</samp></pre>\n<p>No entanto, o <i lang=\"en\">hoisting</i> somente √© aplicado em declara√ß√µes que\nutilizam <code>var</code>. O mecanismo de hasteamento de vari√°veis declaradas com <code>let</code> e\n<code>const</code> n√£o permite a refer√™ncia de uma vari√°vel ainda n√£o declarada e ir√°\nlan√ßar um erro do tipo\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError\"><code>ReferenceError</code></a>.</p>\n<h2 id=\"conclusao\" tabindex=\"-1\">Conclus√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-intermediario-4\">#</a></h2>\n<p>Podemos resumir essa publica√ß√£o como: o hasteamento de vari√°veis com <code>var</code> eleva\npara o topo do c√≥digo somente a declara√ß√£o, mas n√£o a defini√ß√£o; enquanto o\nhasteamento de fun√ß√µes eleva para o topo do c√≥digo tanto a declara√ß√£o quando a\ndefini√ß√£o.</p>\n<figure>\n  <img src=\"https://maxroecker.github.io/img/illustrations/hoisting.svg\" alt=\"Mecanismo para elevar √°gua.\" decoding=\"async\" loading=\"lazy\">\n</figure>\n<p>Ainda assim, pelos exemplos anteriores, o comportamento de hastear as\ndeclara√ß√µes de vari√°veis e fun√ß√µes podem levar a resultados confusos e\nproporcionar um c√≥digo de dif√≠cil leitura. √â importante que voc√™ siga algumas\nboas pr√°ticas no momento de escrita do c√≥digo. Elevar as declara√ß√µes de suas\nvari√°veis para o topo do seu respectivo escopo evita confus√£o com o mecanismo de\n<i lang=\"en\">hoisting</i>, pois seu c√≥digo deixa-o expl√≠cito.</p>\n<p>Outra pr√°tica importante √© a inicializa√ß√£o de um valor na vari√°vel sempre que\nposs√≠vel. Dessa forma, evita-se valores indefinidos durante a execu√ß√£o e\nsurpresas indesejadas.</p>\n",
			"date_published": "2016-01-16T18:34:26Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/javascript-intermediario-3",
			"url": "https://maxroecker.github.io/blog/javascript-intermediario-3",
			"title": "JavaScript Intermedi√°rio #3",
			"content_html": "<p>Nesse texto, vamos compreender um pouco mais sobre um paradigma importante\nquando estamos programando em JavaScript e, al√©m disso, entender uma das\nprincipais caracter√≠sticas que levaram ao sucesso da linguagem: o seu modelo de\nconcorr√™ncia.</p>\n<aside> <p> <strong>as¬∑sin¬∑cro¬∑nis¬∑mo</strong>: 1. Qualidade ou estado de\nass√≠ncrono; 2. Aus√™ncia de concorr√™ncia no tempo. </p> </aside>\n<h2 id=\"assincronia-em-javascript\" tabindex=\"-1\">Assincronia em JavaScript <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-intermediario-3\">#</a></h2>\n<p>Programa√ß√£o ass√≠ncrona √© um paradigma de programa√ß√£o onde o c√≥digo pode n√£o\nseguir o fluxo de execu√ß√£o ‚Äúpadr√£o‚Äù. Al√©m disso, um c√≥digo ass√≠ncrono pode\ntratar de interrup√ß√µes externas ao programa, tais como a chegada de um evento,\nsinal, temporizador, entre outras.</p>\n<p>Em JavaScript, podemos escrever c√≥digo ass√≠ncrono de forma f√°cil utilizando a\nfun√ß√£o\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setTimeout\"><code>setTimeout</code></a>,\nque recebe dois par√¢metros: uma fun√ß√£o a ser executada e uma quantidade de\nmilissegundos que indica o tempo de espera para iniciar a execu√ß√£o dessa fun√ß√£o.\nVeja o exemplo abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'without one.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fully dressed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'You know'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Smile, my dear!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'you are not'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>A sa√≠da do c√≥digo acima ser√° escrita como:</p>\n<pre><samp>Smile, my dear!\nYou know\nyou are not\nfully dressed\nwithout one.</samp></pre>\n<p>Apesar dos <i lang=\"en\">logs</i> serem colocados fora de ordem, alguns foram\ncolocados em fun√ß√µes que foram passadas para o <code>setTimeout</code> e que ser√£o\nexecutadas somente ap√≥s o tempo de espera for esgotado. Vamos ver outro exemplo\num pouco mais complexo. Considere o c√≥digo abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">asyncCountTo</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> x<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>\n      <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">(</span>x <span class=\"token operator\">-</span> i<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">asyncCountTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Qual √© a sa√≠da do c√≥digo acima? Temos um la√ßo que dispara v√°rias fun√ß√µes por\nmeio do <code>setTimeout</code> e que imprimem a vari√°vel <code>i</code>. Por maior que seja a\nsurpresa, o c√≥digo acima exibe como sa√≠da:</p>\n<pre><samp>4\n4\n4\n4</samp></pre>\n<p>Por qu√™? A raz√£o desse comportamento se deve √† <i lang=\"en\">closure</i>\nassociada a fun√ß√£o passada para o <code>setTimeout</code>. A vari√°vel <code>i</code> √© compartilhada\npor todas as <code>closures</code> e, por isso, tem esse comportamento. O la√ßo continua\nsendo executado e a vari√°vel <code>i</code> continua sendo incrementada at√© chegue ao valor\nquatro, que √© quando a condi√ß√£o do la√ßo falha. S√≥ ent√£o os <i lang=\"en\">callbacks</i> do <code>setTimeout</code> s√£o executados.</p>\n<aside> <p> Caso voc√™ n√£o tenha familiaridade com <i lang=\"en\">closures</i>, <a href=\"https://maxroecker.github.io/blog/javascript-intermediario-2/\">essa\npublica√ß√£o do blog</a> pode lhe ajudar. </p> </aside>\n<p>No entanto, voc√™ percebeu que mesmo quando o tempo de espera for zero, a fun√ß√£o\nn√£o √© executada imediatamente? Bem, aqui estamos de frente com um dos efeitos do\nmodelo de concorr√™ncia do JavaScript e que vamos entrar em detalhes a partir de\nagora.</p>\n<h2 id=\"programacao-orientada-a-eventos\" tabindex=\"-1\">Programa√ß√£o Orientada a Eventos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-intermediario-3\">#</a></h2>\n<p>O JavaScript √© uma linguagem que foi inicialmente desenvolvida para adicionar\nfuncionalidades as p√°ginas HTML do navegador Netscape. √â uma linguagem\nmultiparadigma que suporta programa√ß√£o\n<a href=\"https://en.wikipedia.org/wiki/Procedural_programming\">procedural</a>,\n<a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\">orientada a objetos</a>\ne <a href=\"https://en.wikipedia.org/wiki/Functional_programming\">funcional</a>, mas, foi\nespecialmente desenvolvida para atender a\n<a href=\"https://en.wikipedia.org/wiki/Event-driven_programming\">programa√ß√£o orientada a eventos</a>.</p>\n<aside> <p> Caso voc√™ queira saber um pouco mais sobre a hist√≥ria da linguagem,\n<a href=\"https://maxroecker.github.io/blog/javascript-basico-1/\">leia essa outra\npublica√ß√£o do blog</a>. </p> </aside>\n<p>A programa√ß√£o orientada a eventos ajusta o fluxo do programa de acordo com\neventos, ou seja, interrup√ß√µes que podem ser feitas a qualquer momento e\nnecessitam de ‚Äúrea√ß√µes‚Äù por parte do programa. √â um paradigma muito utilizado\npara o desenvolvimento de <i lang=\"en\">drivers</i> e sensores de\nmicrocontroladores. A programa√ß√£o orientada a eventos tamb√©m predomina no\ndesenvolvimento de aplica√ß√µes com GUI, pois requerem que a aplica√ß√£o reaja de\nacordo com a intera√ß√£o do usu√°rio. N√£o √© por coincid√™ncia que ela seria\nutilizada em ‚Äúuma linguagem que quer adicionar algumas funcionalidades em\np√°ginas HTML‚Äù, certo?</p>\n<p>Em uma aplica√ß√£o orientada a eventos, normalmente temos um\n<a href=\"https://en.wikipedia.org/wiki/Event_loop\">La√ßo de Eventos</a> ‚Äî comumente chamado\nde <i lang=\"en\">event loop</i> ‚Äî que aguarda os eventos acontecerem para chamar\nfun√ß√µes que foram designadas √† responder um evento espec√≠fico. E √© o\ncomportamento desse la√ßo o qual vamos detalhar daqui em diante.</p>\n<figure>\n  <img src=\"https://maxroecker.github.io/img/illustrations/steam-engine.svg\" alt=\"M√°quina de ciclos a vapor\" decoding=\"async\" loading=\"lazy\">\n</figure>\n<h2 id=\"o-event-loop-do-javascript\" tabindex=\"-1\">O <i lang=\"en\">Event Loop</i> do JavaScript <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-intermediario-3\">#</a></h2>\n<p>Toda m√°quina de execu√ß√£o JavaScript possui um <i lang=\"en\">event loop</i> √∫nico\nque captura os eventos disparados pelo usu√°rio ou pelo ambiente onde a m√°quina\nest√° alocada. Se um evento capturado pelo <i lang=\"en\">event loop</i> possuir\nalgum <i lang=\"en\">callback</i> associado ‚Äî uma fun√ß√£o que deve ser executada\nquando o evento ocorrer ‚Äî ent√£o uma <strong>tarefa</strong> ser√° enfileirada na fila de\ntarefas que ir√° iniciar a execu√ß√£o do <i lang=\"en\">callback</i> pelo motor de\nexecu√ß√£o JavaScript.</p>\n<p>A <strong>fila de tarefas</strong>, tamb√©m chamada de <i lang=\"en\">job queue</i>, √© uma\n<a href=\"https://www.ime.usp.br/~pf/algoritmos/aulas/fila.html\">estrutura de fila</a> que\narmazena refer√™ncia para fun√ß√µes que devem ser executadas. De forma geral, o\nmotor de execu√ß√£o do JavaScript possui um algoritmo bastante simples:</p>\n<ol>\n<li>Aguarde a fila ter tarefas;</li>\n<li>Execute a primeira tarefa da fila at√© o fim, isto √©, at√© que a pilha de\nexecu√ß√£o esteja vazia.</li>\n<li>Retorne ao passo 1.</li>\n</ol>\n<p>Na verdade, a fun√ß√£o <code>setTimeout</code> que vimos anteriormente n√£o ‚Äúexecuta uma\nfun√ß√£o ap√≥s uma quantidade de tempo‚Äù, mas, adiciona no <i lang=\"en\">event\nloop</i> a fun√ß√£o como um <i lang=\"en\">callback</i> para um sinal de um\ntemporizador que ser√° disparado ap√≥s a quantidade de tempo do segunto par√¢metro.\nExistem outras formas de adicionar tarefas a fila, entre elas:</p>\n<ul>\n<li>Adicionar <i lang=\"en\">listeners</i> de eventos com\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Parameters\"><code>addEventListener</code></a>;</li>\n<li>Utilizando\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setInterval\"><code>setInterval</code></a>\nou\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage\"><code>postMessage</code></a>;</li>\n<li>Respostas de requisi√ß√µes HTTP utilizando as APIs\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest\"><code>XMLHttpRequest</code></a>\nou <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\"><code>fetch</code></a> dos\nnavegadores.</li>\n</ul>\n<p>O <i lang=\"en\">event loop</i> √© um modelo de concorr√™ncia n√£o preemptivo. N√£o √©\nposs√≠vel interromper a execu√ß√£o da fun√ß√£o corrente e retornar posteriormente.\nSomente uma fun√ß√£o √© executada por vez. Uma vez que a computa√ß√£o de uma fun√ß√£o √©\niniciada, ela n√£o √© mais interrompida. Assim, n√£o h√° paralelismo de execu√ß√£o das\nfun√ß√µes no <i lang=\"en\">event loop</i>.</p>\n<aside> <p> <a href=\"https://pt.wikipedia.org/wiki/Preemptividade\">Preemptividade</a> √© a\ncapacidade de um sistema de interromper temporariamente uma tarefa em execu√ß√£o\nsem exigir coopera√ß√£o, com a inten√ß√£o de retomar a tarefa posteriormente. </p>\n</aside>\n<p>√â por isso que, mesmo quando colocado no <code>setTimeout</code> com tempo de espera zero,\no <i lang=\"en\">callback</i> n√£o √© executado imediatamente. Ainda √© necess√°rio\nterminar a execu√ß√£o da fun√ß√£o atual e, somente ent√£o, o <i lang=\"en\">callback</i> √© executado. Isso explica o comportamendo da sa√≠da do\nc√≥digo do exemplo anterior. Na realidade, o <code>setTimeout</code> n√£o garante que a\nfun√ß√£o vai ser executada ap√≥s o per√≠odo, mas sim que sua tarefa ser√°\nenfileirada.</p>\n<p>Outro efeito colateral desse modelo de concorr√™ncia √© que, se alguma tarefa\ndemanda muita computa√ß√£o, ela inevitavelmente vai bloquear a fila de tarefas por\nmuito tempo e, assim, nenhuma outra tarefa poder√° ser iniciada. Se a fila de\ntarefas est√° bloqueada, os <i lang=\"en\">callbacks</i> dos eventos das a√ß√µes do\nusu√°rio podem n√£o ser respondidos em tempo adequado e a GUI apresenta estar\n‚Äútravada‚Äù, por exemplo.</p>\n<h2 id=\"indo-alem\" tabindex=\"-1\">Indo al√©m <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-intermediario-3\">#</a></h2>\n<p>Agora que voc√™ j√° entende o modelo de concorr√™ncia, alguns questionamentos podem\nestar perambulando pela sua cabe√ßa:</p>\n<blockquote> <p> Mas, quando fazemos uma requisi√ß√£o HTTP utilizando a API fetch,\no usu√°rio ainda √© capaz de interagir com a tela mesmo que a requisi√ß√£o demore\nv√°rios segundos para ser conclu√≠da‚Ä¶ Como isso acontece se o <i lang=\"en\">event\nloop</i> est√° bloqueado? </p> </blockquote>\n<p>Diferentes m√°quinas virtuais JavaScript implementam algumas funcionalidades em\nfluxos de execu√ß√£o paralelos ao <i lang=\"en\">event loop</i> para n√£o bloquear a\nfila de tarefas por muito tempo. Normalmente tais funcionalidades est√£o\nrelacionadas a opera√ß√µes de entrada e sa√≠da que, comumente, s√£o opera√ß√µes\n‚Äúlentas‚Äù. Alguns exemplos de opera√ß√µes de entrada e sa√≠da que normalmente s√£o\nexecutadas paralelamente ao <i lang=\"en\">event loop</i> incluem: leitura e\nescrita de arquivos, requisi√ß√µes de rede, <i lang=\"en\">stream</i> de multim√≠dia,\nacesso ao banco de dados, entre outros.</p>\n<p>Essa publica√ß√£o apresentou uma vers√£o bastante simplificada de como o <i lang=\"en\">event loop</i> do JavaScript funciona. Ainda h√° v√°rios pontos que\nforam deixados de lado para o bem da sanidade da explica√ß√£o. No entanto,\nacredito que voc√™ tenha conseguido entender o funcionamento das m√°quinas\nvirtuais JavaScript e compreendido o modelo de concorr√™ncia da linguagem e as\nconsequ√™ncias que surgem a partir do seu uso. Caso voc√™ tenha interesse em uma\nvis√£o mais completa, recomendo ler mais sobre:</p>\n<ul>\n<li>A fila de microtarefas e as <i lang=\"en\"><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\">promises</a></i>;</li>\n<li>A instancia√ß√£o de <i lang=\"en\">event loops</i> paralelos com\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API\"><i lang=\"en\">Workers</i></a>;</li>\n<li>As\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame\">etapas de apresenta√ß√£o</a>\nnos navegadores.</li>\n</ul>\n",
			"date_published": "2016-01-16T17:47:20Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/javascript-intermediario-2",
			"url": "https://maxroecker.github.io/blog/javascript-intermediario-2",
			"title": "JavaScript Intermedi√°rio #2",
			"content_html": "<p>A s√©rie <strong>JavaScript Intermedi√°rio</strong> busca passar, de maneira s√≥lida e gradual,\ncaracter√≠sticas fundamentais da linguagem. Neste cap√≠tulo, vamos voltar nossa\naten√ß√£o para um importante, esquecido e quase mitol√≥gico aspecto da linguagem:\nas <i lang=\"en\">closures</i>, tamb√©m conhecidas como fechos l√©xicos ou\nclausuras.</p>\n<p>Mesmo que voc√™ programe h√° muito tempo em JavaScript e nunca tenha ouvido nunca\nfalar em <i lang=\"en\">closures</i>, aqui vai uma revela√ß√£o: <strong>elas est√£o em todo\nlugar</strong>. <i lang=\"en\">Closure</i> n√£o √© um tipo de op√ß√£o especial da linguagem\nnem uma declara√ß√£o especial ou um padr√£o de desenvolvimento. Para falar a\nverdade, <i lang=\"en\">closures</i> n√£o existem apenas no JavaScript. <i lang=\"en\">Closure</i> √© conceito bem mais amplo, com base na teoria de\nimplementa√ß√£o de linguanges de programa√ß√£o. Justamente por isso, √© necess√°rio\nentend√™-las para que se possa compreender todas as consequ√™ncias da sua\nutiliza√ß√£o.</p>\n<p>Contudo, antes de entender o que s√£o <i lang=\"en\">closures</i>, precisamos dar\num passo atr√°s e entender como as linguagens de programa√ß√£o s√£o executadas e\nutilizam a mem√≥ria do computador.</p>\n<h2 id=\"a-pilha-de-execucao\" tabindex=\"-1\">A pilha de execu√ß√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-intermediario-2\">#</a></h2>\n<p>A grande maioria das linguagens de programa√ß√£o utiliza uma estrutura para\nregistrar todas as subrotinas ativas de um programa.\n<a href=\"https://en.wikipedia.org/wiki/Stack-based_memory_allocation\">Essa estrutura normalmente √© implementada como uma pilha</a>.\nEssa pilha tem v√°rias responsabilidades que incluem: armazenar o ponto de\nexecu√ß√£o atual, armazenar o endere√ßo para qual a subrotina ativa deve retornar\num valor quando terminar a execu√ß√£o, armazenar as vari√°veis locais, entre\noutras. De forma geral, podemos resumir o funcionamento da pilha de execu√ß√£o\ncomo:</p>\n<ul>\n<li>Toda subrotina chamada empilha um novo quadro de contexto;</li>\n<li>Quadros permanecem na pilha at√© o fim da execu√ß√£o da subrotina;</li>\n<li>Quando a subrotina termina, o quadro √© desempilhado, liberando mem√≥ria para a\npr√≥xima subrotina;</li>\n<li>Quando a pilha estiver vazia, √© considerado que o programa chegou ao fim da execu√ß√£o.</li>\n</ul>\n<aside> <p> Um estouro de pilha (<i lang=\"en\">stack overflow</i>) ocorre quando\num programa empilha mais quadros do que a quantidade de mem√≥ria dispon√≠vel\npermite. </p> </aside>\n<p>Em JavaScript, consideramos as fun√ß√µes como subrotinas. Veja o c√≥digo abaixo que\ncont√©m tr√™s declara√ß√µes de fun√ß√µes e a chamada de uma delas:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> y</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> y<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">div</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> y</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> x <span class=\"token operator\">/</span> y<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">avg</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> y</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> sum <span class=\"token operator\">=</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">div</span><span class=\"token punctuation\">(</span>sum<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">avg</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 4.5</span></code></pre>\n<p>A execu√ß√£o do c√≥digo acima far√° com que a pilha de execu√ß√£o tenha, de forma\nsimplificada, os estados dado pela figura abaixo.</p>\n<figure>\n  <img alt=\"Sequ√™ncia do empilhamento dos quadros da execu√ß√£o do c√≥digo acima.\" title=\"undefined\" loading=\"lazy\" decoding=\"async\" src=\"https://maxroecker.github.io/img/_aNqEWT3K6-1100.svg\" width=\"1100\" height=\"850\">\n</figure>\n<ol>\n<li>Temos a chamada da fun√ß√£o <code>avg</code> que empilha seu respectivo quadro contendo os\npar√¢metros <code>x = 4</code> e <code>y = 5</code>;</li>\n<li>A partir de um ponto, a fun√ß√£o <code>avg</code> chama a fun√ß√£o <code>add</code>, que por sua vez\nempilha seu quadro de contexto contendo tamb√©m os par√¢metros <code>x = 4</code> e\n<code>y = 5</code>;</li>\n<li>Ao terminar de executar, <code>add</code> retorna o valor <code>9</code> para a vari√°vel <code>sum</code> no\nquadro de contexto da fun√ß√£o <code>avg</code>;</li>\n<li>A fun√ß√£o <code>avg</code> ent√£o chama <code>div</code>, que por sua vez empilha o seu respectivo\nquadro de contexto, contendo os par√¢metros <code>x = 9</code> e <code>y = 2</code>;</li>\n<li>A fun√ß√£o <code>div</code> termina sua execu√ß√£o e retorna um valor para uma vari√°vel\nan√¥nima, aqui representada como um <code>~</code>;</li>\n<li>A fun√ß√£o <code>avg</code> termina sua execu√ß√£o e retorna o resultado para o escopo\nglobal, aqui tamb√©m representada como um <code>~</code>, e que √© impressa no console.</li>\n</ol>\n<p>Agora, vamos ver um outro exemplo um pouco mais complexo. Considere o c√≥digo\nabaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">mul</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">y</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> x <span class=\"token operator\">*</span> y<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> double <span class=\"token operator\">=</span> <span class=\"token function\">mul</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">double</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 4</span></code></pre>\n<p>A execu√ß√£o desse c√≥digo ter√°, de forma simplificada, os seguintes estados da\npilha:</p>\n<figure>\n  <img alt=\"Sequ√™ncia do empilhamento dos quadros da execu√ß√£o do c√≥digo acima.\" title=\"undefined\" loading=\"lazy\" decoding=\"async\" src=\"https://maxroecker.github.io/img/QoGdNrLOWd-1100.svg\" width=\"1100\" height=\"700\">\n</figure>\n<ol>\n<li>Temos a chamada da fun√ß√£o <code>mul</code> que empilha seu respectivo quadro contendo o\npar√¢metro <code>x = 2</code>;</li>\n<li>Ao terminar de executar, <code>mul</code> retorna uma refer√™ncia para uma fun√ß√£o an√¥nima\n‚Äî aqui representada como um <code>#</code> ‚Äî para a vari√°vel <code>double</code> no quadro de\ncontexto global;</li>\n<li>O contexto global chama ent√£o <code>double</code>, que por sua vez empilha o seu quadro\nde contexto, contendo o par√¢metro <code>y = 2</code>;</li>\n<li>Mas espere a√≠‚Ä¶ para concluir sua execu√ß√£o a fun√ß√£o apontada por <code>double</code>\nprecisa do par√¢metro <code>x</code>, que pertencia ao quadro da fun√ß√£o <code>mul</code>. No\nentanto, o quadro de contexto de <code>mul</code> j√° foi desempilhado porque sua\nexecu√ß√£o foi finalizada. Onde foi parar <code>x</code>?</li>\n</ol>\n<p>Bem, senhoras e senhores, aqui lhes apresento a <i lang=\"en\">closure</i>. Muito\nprazer!</p>\n<h2 id=\"closures\" tabindex=\"-1\"><i lang=\"en\">Closures</i> <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-intermediario-2\">#</a></h2>\n<p><i lang=\"en\">Closures</i> nada mais s√£o que fun√ß√µes que armazenam o contexto\nl√©xico interno para que possam ser utilizadas mesmo quando o quadro de contexto\nj√° n√£o existe mais.</p>\n<p>Uma <i lang=\"en\">closure</i> acontece quando uma fun√ß√£o √© declarada dentro do\nescopo de outra e, al√©m disso, a fun√ß√£o interior referencia vari√°veis locais da\nfun√ß√£o exterior. Quando a fun√ß√£o exterior √© executada, uma closure √© criada\ncontendo uma refer√™ncia da fun√ß√£o interior e refer√™ncias para quaisquer\nvari√°veis no contexto da fun√ß√£o exterior que a fun√ß√£o interior necessita.</p>\n<aside> <p> <i lang=\"en\">Closures</i> s√£o fun√ß√µes s√£o capazes de ‚Äúlembrar‚Äù de\nvari√°veis pertencente ao escopo l√©xico de onde foram declaradas mesmo quando\nexecutadas fora dele. </p> </aside>\n<p>Dessa forma, vamos redesenhar o nosso esquema simplificado do estado da pilha de\nexecu√ß√£o contemplando tamb√©m o <i lang=\"en\">heap</i>:</p>\n<figure>\n  <img alt=\"Sequ√™ncia do empilhamento dos quadros da execu√ß√£o do c√≥digo acima.\" title=\"undefined\" loading=\"lazy\" decoding=\"async\" src=\"https://maxroecker.github.io/img/9VSmed7ztd-1100.svg\" width=\"1100\" height=\"850\">\n</figure>\n<ol>\n<li>Temos a chamada da fun√ß√£o <code>mul</code> que empilha seu respectivo quadro contendo o\npar√¢metro <code>x = 2</code>;</li>\n<li>Ao terminar de executar, <code>mul</code> retorna uma refer√™ncia de uma <i lang=\"en\">closure</i> an√¥nima ‚Äî aqui representada como um <code>#</code> ‚Äî para a\nvari√°vel <code>double</code> no quadro de contexto global;</li>\n<li>O contexto global chama ent√£o <code>double</code>, que por sua vez empilha o seu quadro\nde contexto, contendo o par√¢metro <code>y = 2</code>;</li>\n<li>Ao executar, a <i lang=\"en\">closure</i> apontada por <code>double</code> pega o valor do\npar√¢metro <code>x = 2</code> do contexto salvo e multiplica pelo par√¢metro <code>y = 2</code>. O\nvalor da multiplica√ß√£o √© retornado e exibido pelo console.</li>\n</ol>\n<figure>\n  <img src=\"https://maxroecker.github.io/img/illustrations/lock.svg\" alt=\"Um s√≠mbolo enclausurado.\" decoding=\"async\" loading=\"lazy\">\n</figure>\n<h2 id=\"teoria-e-propriedades-das-closures\" tabindex=\"-1\">Teoria e propriedades das <i lang=\"en\">closures</i> <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-intermediario-2\">#</a></h2>\n<p>Uma linguagem de programa√ß√£o n√£o consegue implementar <i lang=\"en\">closures</i>\nse o seu modelo de mem√≥ria apenas utiliza apenas a pilha para gerenciar a\nmem√≥ria. Em tais linguagens, as vari√°veis locais s√£o automaticamente desalocadas\nquando a fun√ß√£o termina sua execu√ß√£o. Entretanto, uma <i lang=\"en\">closure</i>\nrequer que as vari√°veis capturadas sobrevivam al√©m da execu√ß√£o da fun√ß√£o\noriginal. Por isso, essas vari√°veis precisam ser alocadas at√© que n√£o sejam mais\nnecess√°rias, normalmente utilizando a\n<a href=\"https://en.wikipedia.org/wiki/Memory_management#Dynamic_memory_allocation\">mem√≥ria din√¢mica</a>\n‚Äî comumente chamada de <i lang=\"en\">heap</i> ‚Äî ao inv√©s da pilha. O tempo de\nvida dessas vari√°veis √© controlado para que perman√ßam acess√≠veis enquanto houver\nalguma <i lang=\"en\">closure</i> que a referencie.</p>\n<p>Isso explica por a grande maioria das linguagens de programa√ß√£o que suportam <i lang=\"en\">closures</i> normalmente acompanham um\n<a href=\"https://en.wikipedia.org/wiki/Garbage_collection_(computer_science)\">coletor de lixo</a>.\nAlternativas ao uso de coletor de lixo para o gerenciamento de mem√≥ria seria o\ncontrole manual ou continuar usando um espa√ßo especial da pilha para armazenar a\n<i lang=\"en\">closure</i>, mas, ambas as estrat√©gias podem ter um\n<a href=\"https://en.wikipedia.org/wiki/Undefined_behavior\">comportamento indefinido</a> uma\nvez podem acontecer\n‚Äú<a href=\"https://pt.wikipedia.org/wiki/Apontador_pendente\">refer√™ncias selvagens</a>‚Äù.</p>\n<aside> <p> O <a href=\"https://en.wikipedia.org/wiki/Funarg_problem\">Problema\nFunarg</a> descreve essa dificuldade de implementar fun√ß√µes de alta ordem e <i lang=\"en\">closures</i> em linguagens de progra√ß√£o com mem√≥ria baseada em pilha,\ntais como C e C++. </p> </aside>\n<p>√â importante lembrar que o contexto salvo por uma <i lang=\"en\">closure</i> √©\nimune a interfer√™ncia externa al√©m da pr√≥pria <i lang=\"en\">closure</i>. Isso\ngarante uma √°rea de mem√≥ria oculta para a fun√ß√£o e pode ser √∫til para\nrepresentar um estado interno privado. Al√©m disso, em JavaScript, por <i lang=\"en\">closures</i> serem fun√ß√µes e fun√ß√µes serem objetos, <i lang=\"en\">closures</i> s√£o identificadas apenas pela sua refer√™ncia, mesmo que\nambas apontem para a mesma fun√ß√£o. Vide o exemplo anterior, temos:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">mul</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">y</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> x <span class=\"token operator\">*</span> y<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> double <span class=\"token operator\">=</span> <span class=\"token function\">mul</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> triple <span class=\"token operator\">=</span> <span class=\"token function\">mul</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">double</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 12</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">triple</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 12</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>double <span class=\"token operator\">==</span> triple<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí false</span></code></pre>\n<h2 id=\"conclusao\" tabindex=\"-1\">Conclus√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-intermediario-2\">#</a></h2>\n<p>Para que voc√™ utilize o potencial da linguagem JavaScript ao m√°ximo, √©\nfundamental compreender as <i lang=\"en\">closures</i>. √â com elas que voc√™\nconsegue criar encapsulamento dos dados ou programar orientado a eventos de\nforma simples e declarativa. <i lang=\"en\">Closure</i> √© um daqueles conceitos\ncuriosos que s√£o paradoxalmente dif√≠ceis de compreender porque s√£o ub√≠quos\ndemais e est√£o por toda parte. Mas, uma vez que o programador se torne apto a\nutiliz√°-lo a seu favor, solu√ß√µes simples e concisas podem ser desenvolvidas.</p>\n<blockquote cite=\"https://www.dreamsongs.com/ObjectsHaveNotFailedNarr.html\"> <p>\nUma das conclus√µes que n√≥s chegamos foi que um objeto n√£o precisa ser um\nprimitivo conceito em uma linguagem de programa√ß√£o; um objeto e seu\ncomportamento pode ser constru√≠do por meio de um pouco de valores e algumas boas\ne velhas express√µes lambdas. </p> <footer> <a href=\"https://www.dreamsongs.com/ObjectsHaveNotFailedNarr.html\">Guy L.\nSteele</a> </footer> </blockquote>\n",
			"date_published": "2016-01-13T18:42:06Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/javascript-intermediario-1",
			"url": "https://maxroecker.github.io/blog/javascript-intermediario-1",
			"title": "JavaScript Intermedi√°rio #1",
			"content_html": "<p>Nessa publica√ß√£o, vamos focar em um dos aspectos que mais geram confus√£o entre\nos desenvolvedores que est√£o iniciando o aprendizado em JavaScript: o escopo\nl√©xico de vari√°veis. Mas, o que √© escopo l√©xico de uma vari√°vel?</p>\n<p>Uma vari√°vel definida em um c√≥digo recebe um identificador √∫nico ‚Äî um nome ‚Äî que\n√© utilizado quando queremos referenciar o valor que essa vari√°vel aponta. O\ntrecho do c√≥digo em que uma vari√°vel qualquer √© identificada por um nome √©\ndefinido como o <strong>escopo l√©xico da vari√°vel</strong>. Fora desse bloco, a vari√°vel √©\nindefinida ou um outro valor √© identificado por esse nome.</p>\n<aside> <p> <b>l√©¬∑xi¬∑co</b>: (1) Os voc√°bulos de uma l√≠ngua; (2) Voc√°bulos\nusados num dom√≠nio especializado. </p> </aside>\n<p>Na maioria das linguagens descendentes do C, o escopo l√©xico de uma vari√°vel √©\ndefinido pelo bloco em que ela foi declarada. Lembrando que um bloco √© uma\nsequ√™ncia de declara√ß√µes entre um par de chaves <code>{‚Ä¶}</code>. No JavaScript, nem sempre\no bloco √© quem define o escopo da vari√°vel, tudo depende da forma com que a\nvari√°vel foi declarada.</p>\n<p>Antes do ECMAScript 2015, s√≥ existia uma forma de declarar vari√°veis: utilizando\nda palavra chave <code>var</code>. O ECMAScript 2015 trouxe mais duas alternativas, o <code>let</code>\ne o <code>const</code>, que definem um escopo l√©xico diferente e tamb√©m ditam a\nmutabilidade da vari√°vel declarada.</p>\n<h2 id=\"declaracao-de-variaveis-com-var\" tabindex=\"-1\">Declara√ß√£o de vari√°veis com <code>var</code> <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-intermediario-1\">#</a></h2>\n<p>Declara√ß√µes de vari√°veis com <code>var</code> definem um <strong>escopo l√©xico de fun√ß√£o</strong>, ou\nseja, √© a fun√ß√£o quem define o local que uma vari√°vel √© identificada por um\nnome. Essa abordagem √© bastante peculiar e difere da maioria das linguagens,\nveja o exemplo abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token string\">'foobar'</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí foobar</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">exemplo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token string\">'foo'</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí foo</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token string\">'bar'</span><span class=\"token punctuation\">;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí bar</span>\n  <span class=\"token punctuation\">}</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí bar</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">exemplo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí foobar</span></code></pre>\n<p>Nota-se que, apesar da vari√°vel <code>x</code> declarada dentro da fun√ß√£o <code>exemplo</code> ser\nredeclarada novamente dentro do la√ßo, as altera√ß√µes feitas no la√ßo se mant√©m\nmesmo ap√≥s a conclus√£o. J√° para a vari√°vel <code>x</code> declarada fora da fun√ß√£o\n<code>exemplo</code>, o valor n√£o √© alterado. Podemos ver que o bloco n√£o definiu o escopo\nda vari√°vel <code>x</code>, mas o corpo da fun√ß√£o sim.</p>\n<h2 id=\"declaracoes-de-variaveis-let\" tabindex=\"-1\">Declara√ß√µes de vari√°veis <code>let</code> <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-intermediario-1\">#</a></h2>\n<p>A declara√ß√£o de vari√°vel <code>let</code> foi adicionada ao ECMAScript 2015 para permitir a\ndeclara√ß√£o de vari√°veis tenham um escopo l√©xico de bloco, e, assim, ter um\ncomportamento de escopo semelhante ao das linguagens C e Java. Veja o mesmo\nexemplo anterior, por√©m agora utilizando <code>let</code> na declara√ß√£o das vari√°veis:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> <span class=\"token string\">'foobar'</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí foobar</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">exemplo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> <span class=\"token string\">'foo'</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí foo</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> <span class=\"token string\">'bar'</span><span class=\"token punctuation\">;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí bar</span>\n  <span class=\"token punctuation\">}</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí foo</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">exemplo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí foobar</span></code></pre>\n<p>A diferen√ßa de resultados se d√° principalmente dentro da fun√ß√£o, onde agora √© o\nbloco que delimita o escopo l√©xico e n√£o mais a fun√ß√£o.</p>\n<h2 id=\"declaracoes-de-variaveis-const\" tabindex=\"-1\">Declara√ß√µes de vari√°veis <code>const</code> <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-intermediario-1\">#</a></h2>\n<p>A declara√ß√£o de vari√°veis utilizando <code>const</code>, que tamb√©m foi padronizada na\nECMAScript 2015, declara uma vari√°vel com escopo de bloco, por√©m, com uma\nrefer√™ncia fixa. Ou seja, uma vari√°vel <code>const</code> n√£o pode ser atribu√≠da novamente\nap√≥s a declara√ß√£o. Veja o exemplo abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> x <span class=\"token operator\">=</span> <span class=\"token number\">42</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> y <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'foo'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nx <span class=\"token operator\">=</span> <span class=\"token number\">42</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Erro!</span>\ny <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'bar'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Erro!</span></code></pre>\n<p>√â importante ter em mente que, apesar de nome poder dar a ideia de que essa\ndeclara√ß√£o cria um valor constante, o que √© constante √© a refer√™ncia da\nvari√°vel. Por isso, caso o valor seja um objeto, voc√™ pode mut√°-lo sem qualquer\nerro. Veja:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">const</span> y <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'foo'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\ny<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'bar'</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí {name: 'bar'}</span>\n\ny <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'foobar'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Erro!</span></code></pre>\n<p>Caso voc√™ deseje construir um objeto imut√°vel, √© necess√°rio utilizar o\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\"><code>Object.freeze</code></a>.</p>\n<figure>\n  <img src=\"https://maxroecker.github.io/img/illustrations/turtle.svg\" alt=\"Uma tartaruga.\" decoding=\"async\" loading=\"lazy\">\n</figure>\n<h2 id=\"conclusao\" tabindex=\"-1\">Conclus√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-intermediario-1\">#</a></h2>\n<p>Como um bom programador, uma das coisas mais importantes que voc√™ pode aprender\n√© sempre manter a simplicidade. Quando estamos falando sobre c√≥digo, podemos\nsimplific√°-lo quando utilizamos apenas vari√°vel para um √∫nico conceito.</p>\n<p>Algumas vezes podemos ser tentados &quot;reutilizar&quot; uma vari√°vel para representar\ndois conceitos diferentes. Essa pr√°tica deve ser evitada, pois leva a um c√≥digo\nn√£o efetivo e de dif√≠cil leitura. Por isso, sempre recomendo a utiliza√ß√£o de\n<code>const</code> e <code>let</code> quanto estiver em um c√≥digo que permita seu uso, ou seja, que\nutilize o ES6. Caso voc√™ tenha uma vari√°vel que n√£o precise que seu valor seja\nreatribu√≠do, fa√ßa de <code>const</code> a sua escolha padr√£o. Seu c√≥digo fica mais limpo e\ndeclarativo. Caso a reatribu√≠√ß√£o seja necess√°ria, como √© o caso de contadores,\nacumuladores e outros mecanismos de <em>loops</em>, utilize <code>let</code>. Tamb√©m vai indicar\nque a vari√°vel somente √© utilizada no bloco onde ela foi declarada, e n√£o na\nfun√ß√£o inteira.</p>\n<p>Siga o princ√≠pio de que uma vari√°vel deve representar um √∫nico conceito e torne\nseu c√≥digo mais leg√≠vel e declarativo.</p>\n<blockquote> <p> Linguagens n√£o servem somente para expressar pensamentos, mas\npara possibilitar pensamentos os quais n√£o existiriam se n√£o fossem elas. </p>\n<footer>Bertrand Russel</footer> </blockquote>\n",
			"date_published": "2015-12-15T17:37:54Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/javascript-basico-6",
			"url": "https://maxroecker.github.io/blog/javascript-basico-6",
			"title": "JavaScript B√°sico #6",
			"content_html": "<p>J√° vimos o funcionamento de\n<a href=\"https://maxroecker.github.io/blog/javascript-basico-5/\">objetos</a> e de\n<a href=\"https://maxroecker.github.io/blog/javascript-basico-4/\">estruturas de controle</a>\nem JavaScript, ambos conceitos essenciais para a aprendizagem da linguagem e\npara a escrita de algoritmos. Agora, vamos aprofundar nosso entendimento sobre a\nunidade de computa√ß√£o da linguagem JavaScript: as fun√ß√µes.</p>\n<p>Uma fun√ß√£o √© um trecho de c√≥digo que pode ser chamado por um fluxo de execu√ß√£o ‚Äî\nincluindo por si mesma ‚Äî ou por uma vari√°vel que a referencia. Quando uma fun√ß√£o\n√© chamada, argumentos s√£o passados para a fun√ß√£o como entrada, e a fun√ß√£o pode\nretornar opcionalmente um valor qualquer.</p>\n<aside> <p> <strong>fun.√ß√£o:</strong> (1) O que alguma coisa faz ou √© usada\npara; (2) Em matem√°tica, uma rela√ß√£o o qual um elemento de um conjunto √©\nassociado a exatamente um outro elemento de outro conjunto. (3) Em computa√ß√£o,\numa rotina que pode retornar um resultado. </p> </aside>\n<p>Fun√ß√µes s√£o extremamente √∫teis e podem ser utilizadas para reutiliza√ß√£o de\nc√≥digo, encapsulamento e composi√ß√£o de dados em diversas linguagens de\nprograma√ß√£o. No entanto, o modo como fun√ß√µes s√£o tratadas em JavaScript pode ser\nestranha para a maioria dos desenvolvedores. Por isso, √© importante ter um bom\nentendimento de como fun√ß√µes trabalham em JavaScript, para que voc√™ possa\nextrair o m√°ximo da linguagem.</p>\n<h2 id=\"declarando-e-executando-uma-funcao\" tabindex=\"-1\">Declarando e executando uma fun√ß√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-6\">#</a></h2>\n<p>Uma fun√ß√£o pode ser declarada com o aux√≠lio da palavra-chave <code>function</code> seguido\nde:</p>\n<ol>\n<li>o nome da fun√ß√£o;</li>\n<li>a lista de par√¢metros da fun√ß√£o entre par√™nteses e separado por v√≠rgulas e;</li>\n<li>As declara√ß√µes que definem essa fun√ß√£o entre um par de chaves <code>{‚Ä¶}</code>.</li>\n</ol>\n<p>Por exemplo, o c√≥digo abaixo define uma fun√ß√£o chamada <code>quadrado</code>.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">quadrado</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">numero</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> numero <span class=\"token operator\">*</span> numero<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>A fun√ß√£o <code>quadrado</code> tem um √∫nico par√¢metro ‚Äî chamado <code>numero</code> ‚Äî e √© definida por\numa √∫nica declara√ß√£o, que consiste em retornar o valor do par√¢metro multiplicado\npor ele mesmo. Entretanto, definir uma fun√ß√£o n√£o significa executar o c√≥digo\ndeclarado. Definir uma fun√ß√£o significa dar um nome a um trecho de c√≥digo que\nser√° chamado quando for requisitado.</p>\n<p><strong>Chamar uma fun√ß√£o</strong> significa realmente executar o trecho de c√≥digo. Para\nchamar uma fun√ß√£o em JavaScript, voc√™ utiliza o nome da fun√ß√£o seguido dos\nargumentos de entrada entre um par de par√™nteses. No exemplo anterior, podemos\nchamar a fun√ß√£o <code>quadrado</code> como segue:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token function\">quadrado</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Nesta chamada, o par√¢metro <code>numero</code> da fun√ß√£o <code>quadrado</code> assume o valor <code>3</code>. A\nfun√ß√£o √© executada e o resultado, <code>9</code>, √© retornado da fun√ß√£o. Para visualizar\nesse resultado, vamos atribu√≠-lo em uma vari√°vel e mostrar no console.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> resultado <span class=\"token operator\">=</span> <span class=\"token function\">quadrado</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>resultado<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 9</span></code></pre>\n<p>Valores primitivos, como √© o caso de valores do tipo n√∫mero, s√£o passados para\nfun√ß√µes &quot;por valor&quot;. Ou seja, uma c√≥pia co valor √© passada para a fun√ß√£o quando\nela √© chamada. O valor original do argumento n√£o √© alterado. Veja o exemplo\nabaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">somaUm</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">numero</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">++</span>numero<span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'numero dentro da fun√ß√£o '</span><span class=\"token punctuation\">,</span> numero<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> numero <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'numero antes da fun√ß√£o '</span><span class=\"token punctuation\">,</span> numero<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">somaUm</span><span class=\"token punctuation\">(</span>numero<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'numero depois da fun√ß√£o '</span><span class=\"token punctuation\">,</span> numero<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>A sa√≠da desse c√≥digo ser√°:</p>\n<pre><samp>numero antes da fun√ß√£o 0\nnumero dentro da fun√ß√£o 1\nnumero depois da fun√ß√£o 0\n</samp></pre>\n<p>No entanto, objetos s√£o passados como &quot;por refer√™ncia&quot;. Ou seja, o mesmo objeto\n√© passado para dentro da fun√ß√£o e n√£o uma c√≥pia dele. Dessa forma, mutar o\nobjeto dentro da fun√ß√£o tem efeitos colaterais em valores fora da fun√ß√£o. Veja:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">ativar</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cupom</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  cupom<span class=\"token punctuation\">.</span>ativo <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> cupom <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">codigo</span><span class=\"token operator\">:</span> <span class=\"token string\">'000X'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">ativo</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'cupom %s - ativo: %s'</span><span class=\"token punctuation\">,</span> cupom<span class=\"token punctuation\">.</span>codigo<span class=\"token punctuation\">,</span> cupom<span class=\"token punctuation\">.</span>ativo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">ativar</span><span class=\"token punctuation\">(</span>cupom<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'cupom %s - ativo: %s'</span><span class=\"token punctuation\">,</span> cupom<span class=\"token punctuation\">.</span>codigo<span class=\"token punctuation\">,</span> cupom<span class=\"token punctuation\">.</span>ativo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>A sa√≠da desse c√≥digo ser√°:</p>\n<pre><samp>cupom 000X - ativo: false\ncupom 000X - ativo: true</samp></pre>\n<p>Devido as caracter√≠sticas do JavaScript ‚Äî mais especificamente o <i lang=\"en\">hoisting</i> ‚Äî uma fun√ß√£o n√£o pode ser declarada condicionalmente.\nQuando temos duas fun√ß√µes com o mesmo nome, h√° conflito de refer√™ncia e isso\ncausa um erro. Ou seja, <strong>n√£o √© poss√≠vel escrever um c√≥digo como o abaixo</strong>:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nota <span class=\"token operator\">&lt;</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">resultado</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">'Reprovado'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">resultado</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">'Aprovado'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'O resultado √©: '</span> <span class=\"token operator\">+</span> <span class=\"token function\">resultado</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<h3 id=\"aridade-de-funcoes-e-passagem-de-argumentos\" tabindex=\"-1\">Aridade de fun√ß√µes e passagem de argumentos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-6\">#</a></h3>\n<p>Diferente de muitas linguagens, o JavaScript n√£o restringe a quantidade de\nargumentos que a chamada da fun√ß√£o pode receber dada a aridade da fun√ß√£o.\nSupondo o mesmo exemplo da fun√ß√£o <code>quadrado</code> acima, as chamadas abaixo s√£o\ncompletamente v√°lidas em JavaScript:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">quadrado</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">numero</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> numero <span class=\"token operator\">*</span> numero<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">quadrado</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 4</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">quadrado</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 25</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">quadrado</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí NaN</span></code></pre>\n<p>A fun√ß√£o <code>quadrado</code> oficialmente aceita um argumento. Quando executamos a fun√ß√£o\npassando mais argumentos que a aridade da fun√ß√£o, a fun√ß√£o os ignora; Se\npassamos menos argumentos que aridade da fun√ß√£o, o JavaScript atribui\n<code>undefined</code> para os argumentos faltantes.</p>\n<aside> <p> A <a href=\"https://pt.wikipedia.org/wiki/Aridade\"><strong>aridade</strong></a> de uma\nfun√ß√£o √© o n√∫mero de par√¢metros que a fun√ß√£o recebe. Uma fun√ß√£o de um par√¢metro\n√© denominada un√°ria; de dois par√¢metros, bin√°ria; com tr√™s par√¢metros, tern√°ria;\ne assim por diante. Caso uma fun√ß√£o n√£o receba par√¢metros, a fun√ß√£o √© denominada\nnul√°ria. </p> </aside>\n<h2 id=\"funcoes-como-valores-de-primeira-classe\" tabindex=\"-1\">Fun√ß√µes como valores de primeira-classe <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-6\">#</a></h2>\n<p>Fun√ß√µes, em JavaScript, s√£o\n<a href=\"ttp://c2.com/cgi/wiki/?FirstClass\">valores de primeira classe</a> e, por isso, s√£o\ntratadas como qualquer outro valor na linguagem. Assim, fun√ß√µes podem ser\npassadas como par√¢metros ou retornadas como resultado de uma fun√ß√£o. Fun√ß√µes\npodem tamb√©m serem atribu√≠das em vari√°veis.</p>\n<p>Al√©m disso, toda fun√ß√£o em JavaScript √© tamb√©m um objeto e tem propriedades e\nm√©todos associados. Apesar do <code>typeof</code> de uma fun√ß√£o ser <code>&quot;function&quot;</code>, uma\nfun√ß√£o √© sempre inst√¢ncia de um objeto. Veja abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">quadrado</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">numero</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> numero <span class=\"token operator\">*</span> numero<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">informacoes</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">funcao</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> funcao<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>funcao <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>funcao <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Function</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>funcao<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> funcao <span class=\"token operator\">=</span> quadrado<span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">informacoes</span><span class=\"token punctuation\">(</span>funcao<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>O c√≥digo acima ter√° a sa√≠da</p>\n<pre><samp>function\ntrue\ntrue\nquadrado</samp></pre>\n<h2 id=\"expressoes-funcionais\" tabindex=\"-1\">Express√µes funcionais <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-6\">#</a></h2>\n<p>Em JavaScript, a declara√ß√£o de uma fun√ß√£o pode ser retornada como um valor, ou\nseja, como uma express√£o funcional. Podemos atribuir a fun√ß√£o <code>quadrado</code> para\numa vari√°vel <code>potencia2</code> da seguinte forma:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> <span class=\"token function-variable function\">potencia2</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token function\">quadrado</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">numero</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> numero <span class=\"token operator\">*</span> numero<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">quadrado</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 4</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">potencia2</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 4</span></code></pre>\n<p>O JavaScript tamb√©m permite que express√µes funcionais sejam an√¥nimas, ou seja,\nn√£o requerem um nome para serem definidas. Mais uma vez, podemos reescrever\nnossa fun√ß√£o <code>quadrado</code> como uma express√£o funcional:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> <span class=\"token function-variable function\">quadrado</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">numero</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> numero <span class=\"token operator\">*</span> numero<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">quadrado</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 36</span></code></pre>\n<p>Apesar de ter um resultado muito semelhante, utilizar uma express√£o funcional\nan√¥nima tem um significado diferente de uma declara√ß√£o de fun√ß√£o. Um resultado\ninteressante √© que express√µes funcionais podem ser &quot;atribu√≠das condicionamente&quot;,\ndiferente das fun√ß√µes declaradas. Ou seja, agora, o c√≥digo abaixo √© v√°lido em\nJavaScript:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> resultado<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nota <span class=\"token operator\">&lt;</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">resultado</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">'Reprovado'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">resultado</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">'Aprovado'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'O resultado √©: '</span> <span class=\"token operator\">+</span> <span class=\"token function\">resultado</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Fun√ß√µes an√¥nimas s√£o frequentemente utilizadas em JavaScript e permitem escrever\num c√≥digo coeso e expressivo. Em algumas refer√™ncias, fun√ß√µes an√¥nimas s√£o\nchamadas apenas de <em>lambdas</em>.</p>\n<h2 id=\"funcoes-de-alta-ordem\" tabindex=\"-1\">Fun√ß√µes de alta ordem <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-6\">#</a></h2>\n<p>Por serem valores de primeira classe, as fun√ß√µes em JavaScript s√£o\n<a href=\"http://c2.com/cgi/wiki?HigherOrderFunction\">fun√ß√µes de alta ordem</a>. Ou seja,\npodemos ent√£o passar fun√ß√µes como argumentos em outra fun√ß√£o ou retornar fun√ß√µes\ncomo resultado de uma fun√ß√£o. Veja o exemplo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">multipliquePor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">n</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> x <span class=\"token operator\">*</span> n<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> dobro <span class=\"token operator\">=</span> <span class=\"token function\">multipliquePor</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> triplo <span class=\"token operator\">=</span> <span class=\"token function\">multipliquePor</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">dobro</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 12</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">dobro</span><span class=\"token punctuation\">(</span><span class=\"token number\">9</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 18</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">triplo</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 9</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">triplo</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 12</span></code></pre>\n<p>Note que a fun√ß√£o <code>multipliquePor</code> pega um par√¢metro <code>n</code> e retorna uma nova\nfun√ß√£o que pega um par√¢metro <code>x</code> e que ent√£o, quando for chamada, multiplica <code>x</code>\npor <code>n</code>. Dessa forma, podemos criar duas fun√ß√µes, uma que multiplica por dois,\nque chamamos de <code>dobro</code>; e uma que multiplica por tr√™s, que chamamos de\n<code>triplo</code>. Ao final, temos as chamadas da fun√ß√µes <code>dobro</code> e <code>triplo</code> para alguns\ndiferentes argumentos.</p>\n<p>Fun√ß√µes de alta ordem s√£o extremamente √∫teis e muito utilizadas em JavaScript,\nprincipalmente quando desejamos codificar em um estilo mais pr√≥ximo do paradigma\nfuncional. Entender fun√ß√µes de alta ordem permite entender um dos conceitos mais\nfundamentais do JavaScript: <i lang=\"en\">closures</i>.</p>\n<h2 id=\"conclusao-e-agradecimentos\" tabindex=\"-1\">Conclus√£o e agradecimentos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-6\">#</a></h2>\n<p>Nesse epis√≥dio aprendemos sobre fun√ß√µes, como declar√°-las e suas principais\ncaracter√≠sticas. A palavra-chave <code>function</code> pode ser utilizada tanto em uma\ndeclara√ß√£o de fun√ß√£o quanto em uma express√£o funcional. √â fundamental\ncompreender que fun√ß√µes, em JavaScript, s√£o valores de primeira classe.</p>\n<p>Chegamos ao fim da s√©rie JavaScript B√°sico, mas n√£o no fim do conte√∫do da\nlinguagem e de suas funcionalidades. Com o conte√∫do visto at√© aqui, voc√™ j√° pode\ncriar de programas simples e codificar algoritmos em JavaScript. Gostaria de\nagradecer ao meu amigo Guilherme e minha amiga Mariana pela revis√£o dos textos e\nque permitiram uma melhor leitura desse blog.</p>\n<p>Pretendo lan√ßar outros textos falando sobre aspectos mais profundos mas\nincrivelmente √∫teis do JavaScript, em termos mais t√©cnicos tais como o processo\nde <i lang=\"en\">hoisting</i>, <i lang=\"en\">closures</i>, opera√ß√µes bin√°rias,\nentre outros. Tamb√©m quero escrever mais sobre a programa√ß√£o em paradigma\norientado a objetos e funcional.</p>\n",
			"date_published": "2015-10-23T09:21:30Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/javascript-basico-5",
			"url": "https://maxroecker.github.io/blog/javascript-basico-5",
			"title": "JavaScript B√°sico #5",
			"content_html": "<p>Anteriormente, aprendemos como\n<a href=\"https://maxroecker.github.io/blog/javascript-basico-4/\">controlar a execu√ß√£o do fluxo do c√≥digo JavaScript atrav√©s de declara√ß√µes</a>.\nTamb√©m vimos\n<a href=\"https://maxroecker.github.io/blog/javascript-basico-3/\">como atribuir valores primitivos a vari√°veis e como manipul√°-los no c√≥digo</a>.\nEntretanto, somente arranhamos a superf√≠cie das funcionalidades que a linguagem\noferece. Nessa publica√ß√£o, vamos entender melhor sobre os objetos.</p>\n<h2 id=\"propriedades\" tabindex=\"-1\">Propriedades <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-5\">#</a></h2>\n<p>Todo valor em JavaScript ‚Äî exceto o <code>null</code> e o <code>undefined</code> ‚Äî possui propriedades\nque podem ser acessadas por uma chave por meio do operador <code>.</code>. Propriedades s√£o\nvalores que recebem um nome no objeto. Veja o exemplo abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> str <span class=\"token operator\">=</span> <span class=\"token string\">'javascript'</span><span class=\"token punctuation\">;</span>\nstr<span class=\"token punctuation\">.</span>lenght<span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 10</span>\n\n<span class=\"token keyword\">var</span> num <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\nnum<span class=\"token punctuation\">.</span>toFixed<span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí function toFixed</span></code></pre>\n<p>A propriedade <code>lenght</code> armazena um n√∫mero que representa a quantidade de\ncaracteres que essa string possui, ou seja, o comprimento da cadeia. J√° a\npropriedade <code>toFixed</code> √© uma refer√™ncia de uma fun√ß√£o. Em JavaScript, fun√ß√µes s√£o\ntratadas como valores e, por isso, podem ser atribu√≠das em proprieades. √â comum\nchamar fun√ß√µes atribu√≠das em propriedades como <strong>m√©todos</strong>.</p>\n<h2 id=\"objetos\" tabindex=\"-1\">Objetos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-5\">#</a></h2>\n<p>Al√©m de valores do tipo primitivo, o JavaScript possui tamb√©m valores do tipo\n<strong>Objeto</strong>. Objetos s√£o valores que permitem o agrupamento de outros valores\nidentificados por meio de uma chave. Em sua ess√™ncia, objetos s√£o\n<a href=\"https://en.wikipedia.org/wiki/Associative_array\">arranjos associativos</a> ‚Äî\ntamb√©m chamados de mapas, tabelas de s√≠mbolos ou dicion√°rios ‚Äî onde cada chave √©\numa string √∫nica que apontam para outros valores.</p>\n<figure>\n  <img alt=\"Um objeto com propriedades apontando para seus respectivos valores.\" title=\"undefined\" loading=\"lazy\" decoding=\"async\" src=\"https://maxroecker.github.io/img/NYB-5mFFrQ-475.svg\" width=\"475\" height=\"250\">\n  <figcaption>\n    Em JavaScript, um objeto √© um conjunto de v√°rios pares de chave-valor. Cada\n    chave √© √∫nica no objeto e aponta para somente um valor.\n  </figcaption>\n</figure>\n<h3 id=\"declarando-objetos\" tabindex=\"-1\">Declarando objetos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-5\">#</a></h3>\n<p>Em JavaScript, os objetos normalmente s√£o declarados atrav√©s do literal objeto\n<code>{‚Ä¶}</code>, que cont√©m os pares de chave-valor do objeto s√£o separadas por v√≠rgulas.\nDesde o ECMAScript 2015,\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Trailing_commas#Objects\">a √∫ltima propriedade do objeto pode tamb√©m ser sucedida de uma v√≠rgula</a>.\nAs chaves do objeto podem ter qualquer valor, mas seguem as mesmas regras de\nnomes para vari√°veis.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> passaro <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">nome</span><span class=\"token operator\">:</span> <span class=\"token string\">'Corru√≠ra'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">nomeCientifico</span><span class=\"token operator\">:</span> <span class=\"token string\">'Troglodytes musculus'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<h3 id=\"acessando-as-propriedades\" tabindex=\"-1\">Acessando as propriedades <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-5\">#</a></h3>\n<p>Como qualquer outro valor, voc√™ pode acessar as propriedades de um objeto com o\noperador <code>.</code>. Veja a continua√ß√£o do exemplo anterior:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>passaro<span class=\"token punctuation\">.</span>nome<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Corru√≠ra</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>passaro<span class=\"token punctuation\">.</span>nomeCientifico<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Troglodytes musculus</span></code></pre>\n<p>Voc√™ tamb√©m pode atribuir valores para as propriedades da mesma forma como feito\ncom vari√°veis.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\">passaro<span class=\"token punctuation\">.</span>nome <span class=\"token operator\">=</span> <span class=\"token string\">'Bem-te-vi'</span><span class=\"token punctuation\">;</span>\npassaro<span class=\"token punctuation\">.</span>nomeCientifico <span class=\"token operator\">=</span> <span class=\"token string\">'Pitangus sulphuratus'</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>passaro<span class=\"token punctuation\">.</span>nome<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Bem-te-vi</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>passaro<span class=\"token punctuation\">.</span>nomeCientifico<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Pitangus sulphuratus</span></code></pre>\n<p>√â poss√≠vel tamb√©m utilizar strings como chave de objetos. Utilizar strings como\nchave permite a vantagem de escrever chaves que o nome n√£o segue as regras dos\nidentificadores de vari√°veis. Ou seja, voc√™ pode ter uma chave come√ßando com\nn√∫mero ou contendo espa√ßo, por exemplo. No entanto, chaves definidas por strings\npossuem sintaxe um pouco diferente, veja abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> passaro <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string-property property\">'nome'</span><span class=\"token operator\">:</span> <span class=\"token string\">'Trinca-ferro'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">'nome cientifico'</span><span class=\"token operator\">:</span> <span class=\"token string\">'Saltator similis'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>H√° tamb√©m diferen√ßa ao acessar propriedades que a chave que n√£o segue as regras\nde identificadores de vari√°veis. Nesses casos, √© necess√°rio utilizar o operador\nde acesso <code>[‚Ä¶]</code>. Veja os acessos do objeto do c√≥digo anterior abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>passaro<span class=\"token punctuation\">.</span>nome<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Trinca-ferro</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>passaro<span class=\"token punctuation\">[</span><span class=\"token string\">'nome'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Trinca-ferro</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>passaro<span class=\"token punctuation\">[</span><span class=\"token string\">'nome cientifico'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Saltator similis</span>\n\npassaro<span class=\"token punctuation\">.</span>nome <span class=\"token operator\">=</span> <span class=\"token string\">'Tico-tico'</span><span class=\"token punctuation\">;</span>\npassaro<span class=\"token punctuation\">[</span><span class=\"token string\">'nome cientifico'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'Zonotrichia capensis'</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>passaro<span class=\"token punctuation\">.</span>nome<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Tico-tico</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>passaro<span class=\"token punctuation\">[</span><span class=\"token string\">'nome'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Zonotrichia capensis</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>passaro<span class=\"token punctuation\">[</span><span class=\"token string\">'nome cientifico'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Saltator similis</span></code></pre>\n<h3 id=\"adicionando-propriedades\" tabindex=\"-1\">Adicionando propriedades <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-5\">#</a></h3>\n<p>Por serem arranjos associativos, os objetos permite a inser√ß√£o de propriedades\nap√≥s a declara√ß√£o. Assim, podemos reescrever o exemplo anterior da seguinte\nforma:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> passaro <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Objeto sem propriedades declaradas</span>\npassaro<span class=\"token punctuation\">.</span>nome <span class=\"token operator\">=</span> <span class=\"token string\">'Sabi√°-laranjeira'</span><span class=\"token punctuation\">;</span>\npassaro<span class=\"token punctuation\">[</span><span class=\"token string\">'nome cientifico'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'Turdus rufiventris'</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>passaro<span class=\"token punctuation\">[</span><span class=\"token string\">'nome'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Sabi√°-laranjeira</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>passaro<span class=\"token punctuation\">[</span><span class=\"token string\">'nome cientifico'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Turdus rufiventris</span></code></pre>\n<h3 id=\"verificando-a-existencia-de-uma-propriedade\" tabindex=\"-1\">Verificando a exist√™ncia de uma propriedade <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-5\">#</a></h3>\n<p>Quando acessamos uma propriedade que n√£o existe no objeto, recebemos como\nresultado <code>undefined</code>. Agora, se uma propriedade existe seu valor √© <code>undefined</code>,\nacess√°-la tamb√©m resulta em <code>undefined</code>. Verificar se o valor de uma propriedade\n√© <code>undefined</code> n√£o √© garantia que a propriedade n√£o exista no objeto.</p>\n<p>Para verificar se uma propriedade existe em um objeto, utilizamos o operador\n<code>in</code>, que retorna <code>true</code> caso a chave a esquerda exista no objeto ou <code>false</code>\ncaso contr√°rio.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> chave <span class=\"token operator\">=</span> <span class=\"token string\">'cor'</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>chave <span class=\"token keyword\">in</span> passaro<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí false</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>passaro<span class=\"token punctuation\">[</span>chave<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí undefined</span>\n\npassaro<span class=\"token punctuation\">.</span>cor <span class=\"token operator\">=</span> <span class=\"token string\">'Amarelo'</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>chave <span class=\"token keyword\">in</span> passaro<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>passaro<span class=\"token punctuation\">[</span>chave<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Amarelo</span></code></pre>\n<h3 id=\"removendo-propriedades\" tabindex=\"-1\">Removendo propriedades <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-5\">#</a></h3>\n<p>O operador <code>delete</code> remove a propriedade do objeto.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'cor'</span> <span class=\"token keyword\">in</span> passaro<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\n\n<span class=\"token keyword\">delete</span> passaro<span class=\"token punctuation\">.</span>cor<span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'cor'</span> <span class=\"token keyword\">in</span> passaro<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí false</span></code></pre>\n<h3 id=\"iterando-sobre-as-propriedades-com-for-in\" tabindex=\"-1\">Iterando sobre as propriedades com <code>for‚Ä¶in</code> <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-5\">#</a></h3>\n<p>√â poss√≠vel tamb√©m iterar em todas as chaves de um objeto por meio da declara√ß√£o\n<code>for‚Ä¶in</code>. A cada itera√ß√£o, uma das chaves √© visitada pelo la√ßo. A declara√ß√£o\n<code>for‚Ä¶in</code> itera sobre as propriedades enumer√°veis de um objeto em uma ordem\narbitr√°ria. Veja:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> passaro <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string-property property\">'nome'</span><span class=\"token operator\">:</span> <span class=\"token string\">'Patativa'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">'nome cientifico'</span><span class=\"token operator\">:</span> <span class=\"token string\">'Sporophila leucoptera'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">'id'</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">'extinct'</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> chave <span class=\"token keyword\">in</span> passaro<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Propriedade %s - Tipo: %s'</span><span class=\"token punctuation\">,</span> chave<span class=\"token punctuation\">,</span> <span class=\"token keyword\">typeof</span> passaro<span class=\"token punctuation\">[</span>chave<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>O resultado do c√≥digo acima pode ser igual ao resultado escrito abaixo, ou ter\numa ordem diferente.</p>\n<pre>\n<samp>\n  Propriedade extinct - Tipo: boolean\n  Propriedade nome cientifico - Tipo: string\n  Propriedade id - Tipo: number\n  Propriedade nome - Tipo: string\n</samp>\n</pre>\n<h2 id=\"diferencas-entre-valores-primitivos-e-objetos\" tabindex=\"-1\">Diferen√ßas entre valores primitivos e objetos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-5\">#</a></h2>\n<p>No JavaScript, objetos e valores primitivos s√£o categorizados da seguinte forma:</p>\n<ul>\n<li>Valores primitivos s√£o valores do tipo booleano, n√∫mero, string ou os valores\n<code>null</code> e <code>undefined</code>;</li>\n<li>Qualquer outro valor √© um objeto.</li>\n</ul>\n<p>A grande diferen√ßa entre os valores primitivos e objetos √© o modo como eles s√£o\ncomparados e a mutabilidade de seus conte√∫dos.</p>\n<h3 id=\"comparacao\" tabindex=\"-1\">Compara√ß√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-5\">#</a></h3>\n<p>Os valores primitivos s√£o comparados atrav√©s do seu ‚Äúconte√∫do‚Äù, ou seja, se dois\nvalores primitivos tem o mesmo conte√∫do, eles s√£o iguais.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> tres <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span> <span class=\"token operator\">==</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí false</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>tres <span class=\"token operator\">==</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'xyz'</span> <span class=\"token operator\">==</span> <span class=\"token string\">'xyz'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span></code></pre>\n<p>J√° objetos s√£o comparados atrav√©s da sua refer√™ncia, cada valor tem sua\nidentidade √∫nica e √© somente igual a si mesmo. Objetos com o mesmo conte√∫do n√£o\ns√£o considerados iguais.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> obj1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">prop</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> obj2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">prop</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nobj1 <span class=\"token operator\">==</span> obj2<span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí false</span>\nobj1 <span class=\"token operator\">==</span> obj1<span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\n\nobj1 <span class=\"token operator\">=</span> obj2<span class=\"token punctuation\">;</span> <span class=\"token comment\">// Atribu√≠mos a refer√™ncia de obj2 em obj1</span>\n\nobj1 <span class=\"token operator\">==</span> obj2<span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span></code></pre>\n<h3 id=\"mutabilidade\" tabindex=\"-1\">Mutabilidade <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-5\">#</a></h3>\n<p>Valores primitivos s√£o considerados <strong>imut√°veis</strong>, ou seja, √© imposs√≠vel mudar\numa propriedade ou o seu valor para esses tipos de dados. Toda vez que voc√™ os\nmanipula, na verdade voc√™ gera novos valores a partir dos antigos, mesmo que\nsejam id√™nticos.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token string\">'string'</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>lenght<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 6</span>\n\na<span class=\"token punctuation\">.</span>lenght <span class=\"token operator\">=</span> <span class=\"token number\">9</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>lenght<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 6</span>\n\na <span class=\"token operator\">=</span> <span class=\"token string\">'outra string'</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>lenght<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 12</span></code></pre>\n<p>Por outro lado, objetos s√£o <strong>mut√°veis</strong>. Alterar, adicionar ou remover uma\npropriedade de um objeto n√£o gera um novo objeto a partir do antigo. O mesmo\nobjeto modificado. Ou seja, quando atribu√≠mos objetos para vari√°veis ou para\npropriedades de objetos, na verdade estamos indicando somente uma refer√™ncia\npara o objeto. Se duas refer√™ncias diferentes direcionam a um mesmo valor,\nalterar o valor reflete em mudan√ßas para todos os objetos que ‚Äúapontam‚Äù para\nele.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> passaro <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">nome</span><span class=\"token operator\">:</span> <span class=\"token string\">'Patativa'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> ave <span class=\"token operator\">=</span> passaro<span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>ave<span class=\"token punctuation\">.</span>nome<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Patativa</span>\n\nave<span class=\"token punctuation\">.</span>nome <span class=\"token operator\">=</span> <span class=\"token string\">'Patativa-do-campo'</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>passaro<span class=\"token punctuation\">.</span>nome<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Patativa-do-campo</span></code></pre>\n<h2 id=\"conclusao\" tabindex=\"-1\">Conclus√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-5\">#</a></h2>\n<p>Objetos fornecem modos de agrupar v√°rios valores em um s√≥ &quot;conjunto&quot;. √â uma das\nestruturas de dados mais b√°sicas do JavaScript. Quase todo elemento dentro da\nlinguagem √© um objeto.</p>\n<p>Apesar de possu√≠rem o mesmo nome, objetos n√£o devem ser confundidos com o\nconceito de objeto em programa√ß√£o orientada a objetos, definido como\n<a href=\"https://pt.wikipedia.org/wiki/Objeto_(ci%C3%AAncia_da_computa%C3%A7%C3%A3o)\">inst√¢ncia de uma classe</a>.\nComo dito anteriormente, objetos em Javascript s√£o arranjos associativos\ndin√¢micos.</p>\n<blockquote> <p> As maioria das pessoas acredita que a ci√™ncia da computa√ß√£o √©\numa arte para g√™nios. Na realidade √© o oposto. S√£o somente muitas pessoas\ndesenvolvendo coisas umas sobre as outras, como um muro de pequenas pedras. </p>\n<footer> Donald Knuth </footer> </blockquote>\n",
			"date_published": "2015-10-15T17:03:34Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/javascript-basico-4",
			"url": "https://maxroecker.github.io/blog/javascript-basico-4",
			"title": "JavaScript B√°sico #4",
			"content_html": "<p>No <a href=\"http://maxroecker.github.io/blog/javascript-basico-3/\">artigo anterior</a>\nvimos como criar vari√°veis e atribuir valores √† elas. Tamb√©m foi mostrado alguns\natalhos de atribui√ß√£o e formas de modificar os valores das vari√°veis. Nesse\ntexto vamos aumentar nossa compreens√£o de c√≥digos em JavaScript e entender as\ndeclara√ß√µes de controle que a linguagem possui.</p>\n<aside> <p> <strong>de¬∑cla¬∑ra¬∑√ß√£o:</strong> (1) A√ß√£o ou efeito de declarar; (2)\nAfirma√ß√£o formal; (3) Asser√ß√£o expl√≠cita; </p> </aside>\n<p>A partir de agora nossos c√≥digos come√ßam a ficar mais extensos, contendo v√°rias\nlinhas. O console JavaScript dos navegadores n√£o √© adequado para essas\nsitua√ß√µes. Salvar os c√≥digos em arquivos JavaScript e execut√°-los no Node.js √©\numa boa op√ß√£o. Para executar, por exemplo, um arquivo chamado <code>example.js</code> no\nNode, voc√™ pode acessar o diret√≥rio do arquivo no terminal e digitar:</p>\n<pre><kbd>node example.js</kbd></pre>\n<h2 id=\"expressoes-e-declaracoes\" tabindex=\"-1\">Express√µes e Declara√ß√µes <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-4\">#</a></h2>\n<p><strong>Express√µes</strong> s√£o declara√ß√µes de c√≥digo que produzem um valor. Como visto\nanteriormente, n√≥s utilizamos express√µes a todo momento no JavaScript: uma\natribui√ß√£o √© uma express√£o, uma compara√ß√£o √© uma express√£o, uma opera√ß√£o\naritm√©tica √© uma express√£o, entre outras.</p>\n<p>Todavia, somente express√µes n√£o resolvem os problemas que precisamos lidar\nquando estamos codificando. Por exemplo, muitas vezes queremos que um fragmento\ndo c√≥digo seja executado dada uma condi√ß√£o; ou ainda, queremos que um trecho de\nc√≥digo seja executado m√∫ltiplas vezes. Para isso n√≥s utilizamos as declara√ß√µes\nde controle de fluxo.</p>\n<p><strong>Declara√ß√µes</strong> de controle de fluxo, tamb√©m chamadas de <i lang=\"en\">statements</i>, s√£o palavras chaves que descrevem o comportamento do\nc√≥digo. O JavaScript possui um conjunto compacto de declara√ß√µes que podem ser\ncombinadas para adicionar complexidade o seu c√≥digo. Express√µes tamb√©m s√£o\ndeclara√ß√µes, mas possuem a diferen√ßa de que sempre retornam um valor.</p>\n<h2 id=\"declaracao-de-bloco\" tabindex=\"-1\">Declara√ß√£o de bloco <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-4\">#</a></h2>\n<p>Uma das declara√ß√µes mais b√°sicas da linguagem √© a de defini√ß√£o de bloco,\nutilizada para agrupar um conjunto de outras declara√ß√µes. Todo bloco √©\ndelimitado por um par de chaves <code>{‚Ä¶}</code>.</p>\n<pre class=\"language-text\" tabindex=\"0\"><code class=\"language-text\">{\n  [declara√ß√£o 1]\n  [declara√ß√£o 2]\n  [declara√ß√£o 3]\n  [‚Ä¶]\n}</code></pre>\n<p><strong>Importante:</strong> Diferente das linguagens C ou Java, no JavaScript, um bloco n√£o\ndefine o escopo das vari√°veis declaradas com <code>var</code>. O escopo em JavaScript est√°\nintimamente ligado com a declara√ß√£o de fun√ß√µes. Vamos aprofundar o assunto de\nescopo de vari√°veis em artigos futuros, mas veja o exemplo abaixo para entender\nmelhor:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 0</span>\n  <span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 1</span>\n<span class=\"token punctuation\">}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 1</span></code></pre>\n<p>A vari√°vel <code>a</code> n√£o √© oculta pela segunda declara√ß√£o de uma vari√°vel com mesmo\nnome. Ambas as declara√ß√µes s√£o a mesma vari√°vel. Por isso, ap√≥s a sa√≠da do\nbloco, o valor alterado dentro do bloco √© mantido.</p>\n<h2 id=\"declaracoes-condicionais\" tabindex=\"-1\">Declara√ß√µes condicionais <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-4\">#</a></h2>\n<p>Uma declara√ß√£o condicional √© uma declara√ß√£o de controle de fluxo que executa ou\nn√£o um trecho de c√≥digo dependendo de uma condi√ß√£o booleana a ser avaliada.</p>\n<h3 id=\"condicional-unica-if-else\" tabindex=\"-1\">Condicional √∫nica <code>if ‚Ä¶ else</code> <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-4\">#</a></h3>\n<p>A declara√ß√£o <code>if</code> tem o comportamento de executar a pr√≥xima declara√ß√£o ou bloco\nde declara√ß√µes, se a condi√ß√£o avaliada seja <code>true</code>. Um <code>if</code> pode ser pareado com\num <code>else</code> e assim executar a declara√ß√£o que o sucede se o valor da condi√ß√£o for\n<code>false</code>. Voc√™ tamb√©m pode encadear v√°rios <code>if</code>, que ser√£o testados um de cada\nvez. Veja o exemplo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>condicao1<span class=\"token punctuation\">)</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Condi√ß√£o 1 verdadeira'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>condicao2<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Bloco de declara√ß√µes'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Condi√ß√£o 2 tamb√©m verdadeira'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Condi√ß√£o 2 falsa'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>condicao3<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Condi√ß√£o 3 verdadeira'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>condicao4<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Condi√ß√£o 3 √© falsa e condi√ß√£o 4 verdadeira'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Condi√ß√£o 3 e 4 s√£o falsas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h4 id=\"falsy-e-truthy\" tabindex=\"-1\"><em>Falsy</em> e <em>Truthy</em> <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-4\">#</a></h4>\n<p>Nas declara√ß√µes condicionais, a condi√ß√£o sempre avaliada a express√£o em <code>true</code>\nou <code>false</code>. No entanto, mesmo que a express√£o n√£o seja do tipo booleano, o\nJavaScript, em sua coers√£o de tipos, trata alguns valores especiais e os avalia\ncomo <code>false</code> quando s√£o utilizados em um contexto booleano. Esses valores s√£o\nchamados de <em>falsy</em>. S√£o eles:</p>\n<ul>\n<li>Valores indefinidos <code>undefined</code> e <code>null</code>;</li>\n<li>N√∫meros <code>0</code> e <code>NaN</code>;</li>\n<li>String vazia <code>&quot;&quot;</code> e <code>''</code>.</li>\n</ul>\n<p>Qualquer outro valor da linguagem JavaScript, incluindo objetos, s√£o avaliados\ncomo <code>true</code> e por s√£o chamados de <em>truthy</em>. Por isso √© preciso aten√ß√£o especial\ncom valores primitivos <code>true</code> e <code>false</code> e com inst√¢ncias de Boolean. Veja o\nexemplo abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> p <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> o <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Boolean</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">)</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'A condi√ß√£o √© falsa, pois p √© do tipo boolean'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>o<span class=\"token punctuation\">)</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'A condi√ß√£o √© verdadeira pois c √© um objeto.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<h3 id=\"condicional-multipla-switch-case\" tabindex=\"-1\">Condicional m√∫ltipla <code>switch ‚Ä¶ case</code> <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-4\">#</a></h3>\n<p>O <code>switch</code> √© uma declara√ß√£o condicional poderosa e complexa que permite que o\ndesenvolvedor escreva uma express√£o de condi√ß√£o combine uma express√£o com um\nvalor enumerado. Se houver combina√ß√£o, o <code>switch</code> √© ativado e executa as\ndeclara√ß√µes que seguem. Sua sintaxe pode ser resumida em:</p>\n<pre class=\"language-text\" tabindex=\"0\"><code class=\"language-text\">switch ([express√£o]) {\n  case [express√£o1]:\n    [declara√ß√£o]\n  case [express√£o2]:\n    [declara√ß√£o]\n  ‚Ä¶\n  default:\n    [declara√ß√£o]\n}</code></pre>\n<p>O <code>switch</code> possui um mecanismo de <i lang=\"en\">fall-through</i>, ou seja, a\npartir do momento que a express√£o combina com um valor, todas as pr√≥ximas\ndeclara√ß√µes s√£o executadas tamb√©m. Veja no exemplo abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> temperatura <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>temperatura<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">case</span> <span class=\"token number\">0</span><span class=\"token operator\">:</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Temperatura: 0 graus'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">case</span> <span class=\"token number\">20</span><span class=\"token operator\">:</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Temperatura: 20 graus'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">case</span> <span class=\"token number\">30</span><span class=\"token operator\">:</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Temperatura: 30 graus'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Temperatura: acima de 30 graus'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> clima <span class=\"token operator\">=</span> <span class=\"token string\">'Nublado'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>clima<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">case</span> <span class=\"token string\">'Sol'</span><span class=\"token operator\">:</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hoje est√° um dia de sol'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">case</span> <span class=\"token string\">'Nublado'</span><span class=\"token operator\">:</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hoje o c√©u est√° nublado'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">case</span> <span class=\"token string\">'Chuva'</span><span class=\"token operator\">:</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hoje est√° chuvoso'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Clima n√£o informado'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Podemos ver a sa√≠da desse c√≥digo abaixo:</p>\n<pre><samp>Temperatura: 20 graus\nTemperatura: 30 graus\nTemperatura: acima de 30 graus\nHoje o c√©u est√° nublado\nHoje est√° chuvoso\nClima n√£o informado</samp></pre>\n<p>O JavaScript, ao se deparar com uma declara√ß√£o <code>switch</code> primeiramente avalia a\nexpress√£o de condi√ß√£o e inicia uma cadeia de busca de r√≥tulos que combinem com a\ncondi√ß√£o. Caso houver combina√ß√£o, as declara√ß√µes associadas a ele s√£o\nexecutadas. Al√©m disso, o mecanismo de <i lang=\"en\">fall-through</i> tamb√©m √©\nativado. Assim, todas as declara√ß√µes abaixo do valor combinado tamb√©m s√£o\nexecutadas, inclusive a declara√ß√£o <code>default</code>.</p>\n<p>Caso voc√™ n√£o queira que o mecanismo de <i lang=\"en\">fall-through</i> tenha\nefeito, voc√™ pode utilizar a declara√ß√£o <code>break</code> que for√ßa a sa√≠da do fluxo do\n<code>switch</code>. Veja o mesmo c√≥digo anterior utilizando o <code>break</code> para cada uma das\ncondi√ß√µes:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> temperatura <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>temperatura<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">case</span> <span class=\"token number\">0</span><span class=\"token operator\">:</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Temperatura: 0 graus'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">case</span> <span class=\"token number\">20</span><span class=\"token operator\">:</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Temperatura: 20 graus'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">case</span> <span class=\"token number\">30</span><span class=\"token operator\">:</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Temperatura: 30 graus'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Temperatura: acima de 30 graus'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> clima <span class=\"token operator\">=</span> <span class=\"token string\">'Nublado'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>clima<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">case</span> <span class=\"token string\">'Sol'</span><span class=\"token operator\">:</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hoje est√° um dia de sol'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">case</span> <span class=\"token string\">'Nublado'</span><span class=\"token operator\">:</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hoje o c√©u est√° nublado'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">case</span> <span class=\"token string\">'Chuva'</span><span class=\"token operator\">:</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hoje est√° chuvoso'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Clima n√£o informado'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Que vai ter, como esperado, a sa√≠da:</p>\n<pre><samp>Temperatura: 20 graus\nHoje o c√©u est√° nublado</samp></pre>\n<p>Por utilidade, o <code>default</code> √© sempre colocado ao final do bloco, mas n√£o precisa\nnecessariamente ser assim. O efeito colateral de colocar o <code>default</code> antes do\nfinal √© que, por ele ativar o mecanismo de <i lang=\"en\">fall-through</i>,\nqualquer declara√ß√£o abaixo tamb√©m ser√° executada, o que √© raramente desejado.</p>\n<h2 id=\"declaracoes-de-laco\" tabindex=\"-1\">Declara√ß√µes de la√ßo <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-4\">#</a></h2>\n<p>Declara√ß√µes de la√ßo s√£o utilizadas para executar c√≥digo repetido. H√° tr√™s\nprincipais declara√ß√µes de la√ßo em JavaScript: <code>for</code>, <code>while</code>, e <code>do ‚Ä¶ while</code>.\nTamb√©m √© poss√≠vel dar r√≥tulos para esses la√ßos e localiz√°-los atrav√©s de um nome\ncom as declara√ß√µes <code>label</code>, <code>break</code> e <code>continue</code>.</p>\n<h3 id=\"laco-condicional-simples-while\" tabindex=\"-1\">La√ßo condicional simples <code>while</code> <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-4\">#</a></h3>\n<p>A declara√ß√£o <code>while</code>, a mais simples das declara√ß√µes de la√ßo, executa a pr√≥xima\ndeclara√ß√£o enquanto o valor da express√£o avaliada for <code>true</code>. Se a express√£o for\n<code>false</code>, o la√ßo para de ser executado e o fluxo segue para a pr√≥xima declara√ß√£o\nap√≥s o la√ßo. A express√£o de condi√ß√£o √© sempre testada antes das declara√ß√µes\nserem executadas. Para fazer la√ßos infinitos, ou seja, la√ßos que nunca param,\nbasta colocar a condi√ß√£o como <code>true</code>.</p>\n<p>Vamos calcular <math display=\"inline\"><mrow><msup><mn>2</mn><mn>10</mn></msup></mrow></math> utilizando o <code>while</code>, veja o c√≥digo abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> resultado <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> expoente <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>expoente <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  resultado <span class=\"token operator\">=</span> resultado <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n  expoente<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>resultado<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 1024</span></code></pre>\n<h3 id=\"laco-condicional-simples-do-while\" tabindex=\"-1\">La√ßo condicional simples <code>do‚Ä¶while</code> <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-4\">#</a></h3>\n<p>A declara√ß√£o <code>do‚Ä¶while</code> tem um comportamento parecido com o <code>while</code>: executa uma\nenquanto uma condi√ß√£o booleana √© <code>true</code>. A diferen√ßa entre o <code>while</code> e o\n<code>do‚Ä¶while</code> √© a ordem de avalia√ß√£o da expre ss√£o da condi√ß√£o em rela√ß√£o a\ndeclara√ß√£o. Enquanto no <code>while</code>, se a express√£o for <code>false</code>, a declara√ß√£o n√£o\nchega nem a ser executada, para o <code>do‚Ä¶while</code>, a declara√ß√£o √© sempre executada ao\nmenos uma vez, indepentende da express√£o ser <code>true</code> ou <code>false</code>. La√ßos infinitos\ntamb√©m podem ser feitos bastando colocar a condi√ß√£o como <code>true</code>.</p>\n<p>Usando o mesmo exemplo anterior, vamos calcular <math display=\"inline\"><mrow><msup><mn>2</mn><mn>10</mn></msup></mrow></math> utilizando o\n<code>do ‚Ä¶ while</code>, veja o c√≥digo abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> resultado <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> expoente <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">do</span> <span class=\"token punctuation\">{</span>\n  resultado <span class=\"token operator\">=</span> resultado <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n  expoente <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>expoente <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>resultado<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 1024</span></code></pre>\n<h3 id=\"lacos-completos-com-for\" tabindex=\"-1\">La√ßos completos com <code>for</code> <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-4\">#</a></h3>\n<p>Um la√ßo <code>for</code> tamb√©m repete a pr√≥xima declara√ß√£o at√© que a condi√ß√£o dada\navaliada como <code>false</code>. Por√©m, junto com a condi√ß√£o, ela carrega outras duas\ndeclara√ß√µes: a <strong>inicializa√ß√£o</strong> e o <strong>passo</strong>. Um <code>for</code>, ao ser executado, faz\nos seguintes passos ordenadamente:</p>\n<ol>\n<li>Executa a inicializa√ß√£o</li>\n<li>Se a condi√ß√£o √© <code>true</code>, executa a declara√ß√£o correspondente; se for <code>false</code>,\nsai do la√ßo sem executar a declara√ß√£o nem o passo;</li>\n<li>Executa o passo e volta ao item n√∫mero 2.</li>\n</ol>\n<p>A inicializa√ß√£o √© normalmente utilizada para atribuir valores iniciais √†s\nvari√°veis de controle. J√° o passo, indica qual o ritmo que o <code>for</code> deve ter.\nLembre-se, como a inicializa√ß√£o e o passo s√£o declara√ß√µes, podem ser vazias\ntamb√©m para criar la√ßos infinitos.</p>\n<p>Vamos ver o mesmo exemplo de c√°lculo de <math display=\"inline\"><mrow><msup><mn>2</mn><mn>10</mn></msup></mrow></math> escrito com <code>for</code>:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> resultado <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> expoente <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> expoente <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> expoente <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  resultado <span class=\"token operator\">=</span> resultado <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>resultado<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 1024</span></code></pre>\n<p>Veja que a vari√°vel <strong>expoente</strong> foi declarada na inicializa√ß√£o do la√ßo, e o seu\npasso √© dado de 1 em 1.</p>\n<h3 id=\"declaracoes-de-rotulo-e-quebra-de-fluxo\" tabindex=\"-1\">Declara√ß√µes de r√≥tulo e quebra de fluxo <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-4\">#</a></h3>\n<p>O JavaScript permite a cria√ß√£o de r√≥tulos que identificam uma declara√ß√£o.\nQualquer declara√ß√£o pode ser rotulada, por√©m esse recurso √© mais utilizada em\nla√ßos aninhados. Dessa forma, voc√™ pode interromper a execu√ß√£o de la√ßos\naninhados espec√≠ficos de forma declarativa.</p>\n<h4 id=\"declaracoes-de-rotulo\" tabindex=\"-1\">Declara√ß√µes de r√≥tulo <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-4\">#</a></h4>\n<p>Declara√ß√£o de rotula√ß√£o que marca uma posi√ß√£o em seu c√≥digo. O r√≥tulo segue as\nmesmas regras que nomes dados para vari√°veis. Dada pela sintaxe:</p>\n<pre class=\"language-text\" tabindex=\"0\"><code class=\"language-text\">[r√≥tulo]: [declara√ß√£o]</code></pre>\n<h4 id=\"quebra-de-fluxo-com-break\" tabindex=\"-1\">Quebra de fluxo com <code>break</code> <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-4\">#</a></h4>\n<p>Como j√° vimos no exemplo do <code>switch</code>, a declara√ß√£o <code>break</code> sem um r√≥tulo\ninterrompe a execu√ß√£o da declara√ß√£o atual. Em caso de la√ßos, a declara√ß√£o\n<code>break</code> faz que o la√ßo atual pare de ser executado imediatamente e continue a\nexecu√ß√£o a partir da pr√≥xima declara√ß√£o ap√≥s o la√ßo. Podemos utilizar o <code>break</code>\nacompanhado de um <code>label</code>, assim quando execu√ß√£o √© interrompida, ela inicia a\npartir da primeira declara√ß√£o ap√≥s o r√≥tulo. Sua sintaxe √© simples:</p>\n<pre class=\"language-text\" tabindex=\"0\"><code class=\"language-text\">break\nbreak [r√≥tulo]</code></pre>\n<h4 id=\"quebra-de-fluxo-com-continue\" tabindex=\"-1\">Quebra de fluxo com <code>continue</code> <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-4\">#</a></h4>\n<p>A declara√ß√£o <code>continue</code> tamb√©m quebra o fluxo de execu√ß√£o, mas s√≥ pode ser\nutilizado em la√ßos. Enquanto o <code>break</code> para a execu√ß√£o do la√ßo, o <code>continue</code>\nquebra a atual itera√ß√£o do la√ßo e inicia uma nova. Ou seja, faz com que a\ncondi√ß√£o seja testada novamente e, no caso do <code>for</code>, o passo seja executado\ntamb√©m. Quando acompanhado de um r√≥tulo, o <code>continue</code> tem o mesmo comportamento,\nmas para o la√ßo rotulado. A sintaxe √©</p>\n<pre class=\"language-text\" tabindex=\"0\"><code class=\"language-text\">continue\ncontinue [r√≥tulo]</code></pre>\n<p>O exemplo abaixo √© um modo ruim e pouco eficiente de exibir os naturais menores\nque 100 ‚Äî mas auxilia a compreens√£o do <code>continue</code> e <code>break</code> junto a um r√≥tulo\nmostrados.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token literal-property property\">lacoExterno</span><span class=\"token operator\">:</span> <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">;</span> i <span class=\"token operator\">+=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">>=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">break</span> lacoExterno<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>j <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>j <span class=\"token operator\">+</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      j<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">continue</span> lacoExterno<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"conclusao\" tabindex=\"-1\">Conclus√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-4\">#</a></h2>\n<p>Declara√ß√µes s√£o os blocos de constru√ß√£o da linguagem. Utilizar declara√ß√µes em\nsequ√™ncia d√° ao seu c√≥digo novas maneiras de ser executado, permitindo\ninterferir no fluxo com que as instru√ß√µes s√£o executadas de acordo com as\ncondi√ß√µes que voc√™ desejar. J√° os valores, que tamb√©m s√£o declara√ß√µes, sempre\nresultam um valor e podem ser utilizados em vari√°veis e tamb√©m em outras\ndeclara√ß√µes.</p>\n",
			"date_published": "2015-09-15T16:25:51Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/introducao-ao-nodejs",
			"url": "https://maxroecker.github.io/blog/introducao-ao-nodejs",
			"title": "Introdu√ß√£o ao Node.js",
			"content_html": "<p>O <a href=\"https://nodejs.org/\">Node.js</a>, popularmente conhecido apenas como Node, √© um\nambiente de execu√ß√£o JavaScript que n√£o acompanha um navegador. O Node utiliza o\n<a href=\"https://developers.google.com/v8/\">V8</a> como motor de execu√ß√£o, o mesmo\nutilizado pelo navegador Google Chrome. O Node tamb√©m possui um sistema\ngerenciador de pacotes, o <a href=\"https://www.npmjs.com/\">NPM</a>, que cont√©m alguns\nmilhares de m√≥dulos open-source para dispon√≠veis em reposit√≥rio.</p>\n<p>Utilizando os mesmos princ√≠pios do JavaScript, o Node utiliza um modelo de\nconcorr√™ncia baseado em\n<strong><a href=\"https://pt.wikipedia.org/wiki/La%C3%A7o_de_eventos\">la√ßo de eventos</a></strong> que\nroda em uma <em>thread</em> √∫nica. No entanto, grande parte das opera√ß√µes que podem\nbloquear o la√ßo por muito tempo s√£o implementadas de forma ass√≠ncrona, evitando\nque c√≥digo JavaScript bloqueie o la√ßo por muito tempo.</p>\n<p>Convencionalmente, as implementa√ß√µes de servidores em linguagens como Java e PHP\nutilizam a estrat√©gia de criar uma <em>thread</em> para cada conex√£o. A cria√ß√£o de uma\n<em>thread</em> acompanha uma aloca√ß√£o de mem√≥ria que chega a at√© alguns megabytes.\nIsso pode se tornar custoso a medida que o n√∫mero de conex√µes paralelas aumenta.</p>\n<p>Pragmaticamente, quando o Node.js precisa executar uma opera√ß√£o entrada e sa√≠da\n‚Äî leituras de arquivos, rede, banco de dados, entre outras ‚Äî ao inv√©s de\nbloquear o fluxo at√© que o resultado esteja dispon√≠vel, ele escala o fluxo em\numa fila de tarefas que volta a ser executado quando o resultado estiver\ndispon√≠vel.</p>\n<p>Esse modelo de concorr√™ncia ass√≠ncrono permite que apenas uma <em>thread</em> seja\ncapaz de manipular v√°rios fluxos de execu√ß√£o diferentes sem a necessidade de\ngerenciar <em>threads</em> paralelas, uma tarefa √°rdua e prop√≠cia a bugs.</p>\n<p>No entanto, essa caracter√≠stica ass√≠ncrona do c√≥digo pode parecer estranha para\ndesenvolvedores que est√£o acostumados com ambientes servidores que fazem\nopera√ß√µes s√≠ncronas. Ainda assim, a filosofia de execu√ß√£o ass√≠ncrona para todas\nas coisas √© a chave para o sucesso do Node. Enquanto os ambientes servidores\nconvencionais for√ßam as conex√µes a se manterem em linha enquanto arquivos s√£o\ncarregados no servidor ou requisi√ß√µes de rede s√£o executadas, o Node despacha\ncada conex√£o recebida e continua a aceitar as pr√≥ximas enquanto os eventos\nass√≠ncronos fazem o trabalho &quot;por tr√°s&quot;.</p>\n<p>O Node n√£o √© o √∫nico a adotar essa estrat√©gia. Outras plataformas que\ncompartilham de um modelo de concorr√™ncia similar, como √© o caso do\n<a href=\"https://twistedmatrix.com/trac/\">Twisted Python</a> e do\n<a href=\"http://www.tornadoweb.org/en/stable/\">Tornado</a> para a linguagem Python, al√©m da\nespecifica√ß√£o\n<a href=\"http://www.javabeat.net/asynchronous-servlet-servlet-3-0/\">Servlets 3.0</a> para a\nlinguagem Java.</p>\n<h2 id=\"instalando-o-node-js\" tabindex=\"-1\">Instalando o Node.js <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/introducao-ao-nodejs\">#</a></h2>\n<p>Vamos instalar o Node atrav√©s do <a href=\"https://github.com/creationix/nvm\">NVM</a>. No\nterminal, digite:</p>\n<pre class=\"language-bash\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"token function\">curl</span> -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.2/install.sh <span class=\"token operator\">|</span></code></pre>\n<p>Rodando o comando acima ir√° fazer o download do <em>script</em> que instala o NVM e\nexecut√°-lo. Esse <em>script</em> clona o reposit√≥rio do NVM em uma pasta tempor√°ria\n<code>~/.nvm</code> e coloca as vari√°veis de ambiente em algum arquivo de perfil do\nterminal (<code>~/._profile</code>, <code>~/.zshrc</code>, <code>~/.profile</code>, ou <code>~/.rc</code>).</p>\n<p>Voc√™ pode verificar se o NVM foi instalado com sucesso utilizando o commando abaixo:</p>\n<pre class=\"language-bash\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"token builtin class-name\">command</span> <span class=\"token parameter variable\">-v</span> nvm</code></pre>\n<p>Se tudo deu certo, a sa√≠da deve ser &quot;<samp>nvm</samp>&quot;.</p>\n<p>Vamos agora instalar o Node. Para rodar a √∫ltima vers√£o est√°vel, execute o\ncommando a seguir:</p>\n<pre class=\"language-bash\" tabindex=\"0\"><code class=\"language-bash\">nvm <span class=\"token function\">install</span> stable</code></pre>\n<p>Ap√≥s isso, ative o Node instalado utilizando.</p>\n<pre class=\"language-bash\" tabindex=\"0\"><code class=\"language-bash\">nvm use stable</code></pre>\n<p>Voc√™ pode aprender mais sobre o NVM na\n<a href=\"https://github.com/nvm-sh/nvm\">p√°gina do GitHub do projeto</a>. Para verificar a\ninstala√ß√£o do Node, digite o comando abaixo.</p>\n<pre class=\"language-bash\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"token function\">node</span> <span class=\"token parameter variable\">-v</span></code></pre>\n<h2 id=\"um-pequeno-exemplo\" tabindex=\"-1\">Um pequeno exemplo <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/introducao-ao-nodejs\">#</a></h2>\n<p>Para exemplificar a facilidade em criar servidores HTTP com o Node, vamos fazer\num em alguns minutos? Vamos criar um web server que responde &quot;Hello World&quot; em\nformato texto simples para qualquer requisi√ß√£o. Exemplo tirado da\n<a href=\"https://nodejs.org/\">p√°gina oficial</a>.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> http <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nhttp\n  <span class=\"token punctuation\">.</span><span class=\"token function\">createServer</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    res<span class=\"token punctuation\">.</span><span class=\"token function\">writeHead</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token string-property property\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'text/plain'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    res<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello World\\n'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">1337</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'127.0.0.1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Servidor rodando em http://127.0.0.1:1337/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Para rodar, salve o arquivo com um nome, por exemplo, <code>example.js</code> e execute-o\ncom o Node, no terminal, da seguinte forma:</p>\n<pre class=\"language-bash\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"token function\">node</span> example.js</code></pre>\n<p>Voc√™ deve receber como sa√≠da a mensagem &quot;<samp>Servidor rodando em\nhttp://127.0.0.1:1337/</samp>&quot;. Com o seu navegador, digite na barra de\nendere√ßos o endere√ßo <code>http://127.0.0.1:1337/</code> e veja a sua mensagem.</p>\n<h2 id=\"conclusao\" tabindex=\"-1\">Conclus√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/introducao-ao-nodejs\">#</a></h2>\n<p>O Node resolveu muitos problemas que as novas aplica√ß√µes web e mobile\ndemandavam, mas n√£o √© uma bala de prata que serve para qualquer aplica√ß√£o.\nCertos problemas requerem solu√ß√µes difernetes e o Node pode n√£o funcionar muito\nbem. Ainda assim, √© uma √≥tima ferramenta para ter em seu invent√°rio.</p>\n",
			"date_published": "2015-09-14T15:45:25Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/javascript-basico-3",
			"url": "https://maxroecker.github.io/blog/javascript-basico-3",
			"title": "JavaScript B√°sico #3",
			"content_html": "<p>No\n<a href=\"https://maxroecker.github.io/posts/2015-09-01-javascript-basico-2/\">artigo anterior</a>\nvemos como manipular basicamente os valores de tipo primitivo da linguagem,\nentre eles: n√∫meros, strings, booleanos e valores indefinidos. Tamb√©m vimos como\nfazer algumas opera√ß√µes aritm√©ticas e de compara√ß√£o entre express√µes. No\nentanto, somente valores n√£o s√£o suficientes para expressar algoritmos\ncomplexos. √â necess√°rio utilizar a mem√≥ria do computador para armazenar valores\ncomputados e acess√°-los depois. Nesse texto vamos ver como atribuir e nomear\nvalores por meio do uso de <strong>vari√°veis</strong>.</p>\n<aside> <p> <strong>va¬∑ri¬∑√°¬∑vel:</strong> (1) Em matem√°tica, algo que pode\nassumir um valor de um conjunto de valores; (2) Em computa√ß√£o, espa√ßo reservado\nna mem√≥ria de um computador, capaz de armazenar um determinado tipo de dado que\npode alterar-se durante a execu√ß√£o do programa. </p> </aside>\n<h2 id=\"variaveis\" tabindex=\"-1\">Vari√°veis <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-3\">#</a></h2>\n<p>Todo valor do JavaScript precisa ser armazenado em um local na mem√≥ria do\ncomputador, para identificarmos tal local utilizamos as <strong>vari√°veis</strong>. Em uma\ndefini√ß√£o bem simples, vari√°veis s√£o nomes para os locais onde os valores s√£o\narmazenados.</p>\n<blockquote> <p> A representa√ß√£o √© a ess√™ncia da programa√ß√£o. </p> <footer>Fred\nBrooks, The Mythical Man-Month</footer> </blockquote>\n<p>Para definirmos uma vari√°vel, utilizamos a palavra <code>var</code> seguida do nome\nescolhido para a vari√°vel. Vari√°veis podem ter qualquer nome, com exce√ß√£o de\npalavras reservadas. <code>var</code> √© um exemplo de palavra reservada, voc√™ n√£o pode dar\no nome de uma vari√°vel de <code>var</code>. Outras palavras reservadas incluem controles de\nfluxo e defini√ß√µes do pr√≥prio JavaScript. Nomes de vari√°veis tamb√©m n√£o podem\nconter espa√ßos e n√£o podem come√ßar com n√∫meros, mas podem conter n√∫meros depois\ndo primeiro caracter. Alguns s√≠mbolos tamb√©m podem ser utilizados, como o <code>$</code> e\no <code>_</code>. Por exemplo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> $b <span class=\"token operator\">=</span> a <span class=\"token operator\">*</span> a<span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Valor de a: '</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Valor de a: 3</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Valor de $b: '</span><span class=\"token punctuation\">,</span> $b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Valor de $b: 9</span></code></pre>\n<p>√â importante ter em mente que vari√°veis n√£o devem ser interpretadas como\n‚Äúcaixas‚Äù que guardam os valores, mas sim como ‚Äúplacas‚Äù que apontam para onde os\nvalores est√£o. Assim como placas, voc√™ pode mudar a posi√ß√£o apontada de uma\nvari√°vel, e por isso voc√™ pode reutilizar uma vari√°vel para outros valores. Veja\no exemplo abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> tempo <span class=\"token operator\">=</span> <span class=\"token string\">'Sol'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> temperatura <span class=\"token operator\">=</span> <span class=\"token number\">22</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Tempo agora: %s %d¬∞'</span><span class=\"token punctuation\">,</span> tempo<span class=\"token punctuation\">,</span> temperatura<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ntempo <span class=\"token operator\">=</span> <span class=\"token string\">'Nublado'</span><span class=\"token punctuation\">;</span>\ntemperatura <span class=\"token operator\">=</span> temperatura <span class=\"token operator\">-</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Tempo agora: %s %d¬∞'</span><span class=\"token punctuation\">,</span> tempo<span class=\"token punctuation\">,</span> temperatura<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Podemos ver que mudamos o valor da vari√°vel <code>tempo</code> de <code>'Sol'</code> para <code>'Nublado'</code>.\nJ√° para a vari√°vel <code>temperatura</code>, mudamos o valor dela de <code>22</code> para <code>20</code>, uma\nvez que utilizamos o pr√≥prio da vari√°vel na atribui√ß√£o. Percebeu que n√≥s n√£o\nutilizamos a palavra chave <code>var</code> quando atribu√≠mos o segundo valor? Isso √©\nposs√≠vel porque a vari√°vel j√° foi declarada e s√≥ queremos atribuir um valor a\nela, n√£o declarar uma nova vari√°vel.</p>\n<aside> <p> Os s√≠mbolos dentro da string na fun√ß√£o <code>console.log</code> s√£o\nutilizadas para a <a href=\"https://en.wikipedia.org/wiki/String_interpolation\">interpola√ß√£o de\nstring</a>. Interpola√ß√£o de string √© uma t√©cnica que substitui s√≠mbolos\nespeciais na string por valores passados. Cada s√≠mbolo indica uma formata√ß√£o\nespecial. No exemplo, o s√≠mbolo <code>%s</code> indica que o valor √© uma string,\nenquanto o <code>%d</code> indica que o valor √© um n√∫mero. </p> </aside>\n<h2 id=\"atalhos-de-atribuicao\" tabindex=\"-1\">Atalhos de atribui√ß√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-3\">#</a></h2>\n<p>Muitas vezes a mesma vari√°vel fornece e recebe o valor para uma express√£o ‚Äî como\n√© o caso da vari√°vel <code>temperatura</code> do exemplo anterior ‚Äî e por isso h√° alguns\natalhos para o operador de atribui√ß√£o que diminuem a quantidade de escrita de\nc√≥digo. Veja a seguir:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> tempo <span class=\"token operator\">=</span> <span class=\"token string\">'Sol'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> temperatura <span class=\"token operator\">=</span> <span class=\"token number\">22</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Tempo agora: %s %d¬∞'</span><span class=\"token punctuation\">,</span> tempo<span class=\"token punctuation\">,</span> temperatura<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ntempo <span class=\"token operator\">+=</span> <span class=\"token string\">' com nuvens'</span><span class=\"token punctuation\">;</span>\ntemperatura <span class=\"token operator\">-=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Tempo agora: %s %d¬∞'</span><span class=\"token punctuation\">,</span> tempo<span class=\"token punctuation\">,</span> temperatura<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Na atribui√ß√£o utilizando o <code>+=</code>, o JavaScript executa uma concatena√ß√£o com o\nvalor a direita e depois atribui o resultado a vari√°vel tempo. Algo similar\nacontece com a atribui√ß√£o utilizando <code>-=</code>, s√≥ que nesse caso o JavaScript faz\numa subtra√ß√£o do valor a direita e o resultado √© atribu√≠do a vari√°vel\n<code>temperatura</code>. Esses atalhos tamb√©m funcionam para os operadores aritm√©ticos\n<code>*</code>, <code>/</code> e <code>%</code>.</p>\n<p>Outros dois atalhos atribui√ß√£o s√£o o <strong>incremento</strong> (<code>++</code>) e o <strong>decremento</strong>\n(<code>--</code>). Ambos s√≥ funcionam para n√∫meros inteiros e possuem um comportamento\nsimples: adicionam ou subtraem o n√∫mero da vari√°vel em uma unidade e atribuem o\nresultado a pr√≥pria vari√°vel. Veja o exemplo abaixo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> t1 <span class=\"token operator\">=</span> <span class=\"token number\">22</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> t2 <span class=\"token operator\">=</span> <span class=\"token number\">11</span><span class=\"token punctuation\">;</span>\n\nt1<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\nt2<span class=\"token operator\">--</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Temperatura 1: %d¬∞'</span><span class=\"token punctuation\">,</span> t1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Temperatura 1: 23¬∞</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Temperatura 2: %d¬∞'</span><span class=\"token punctuation\">,</span> t2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Temperatura 2: 10¬∞</span></code></pre>\n<p>Atribui√ß√µes utilizando <code>++</code> e <code>--</code> tamb√©m retornam um valor, ent√£o voc√™ pode\nreescrever o c√≥digo acima como:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> t1 <span class=\"token operator\">=</span> <span class=\"token number\">22</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> t2 <span class=\"token operator\">=</span> <span class=\"token number\">11</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Temperatura 1: %d¬∞'</span><span class=\"token punctuation\">,</span> t1<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Temperatura 1: 22¬∞</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Temperatura 2: %d¬∞'</span><span class=\"token punctuation\">,</span> t2<span class=\"token operator\">--</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Temperatura 2: 11¬∞</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Temperatura 1: %d¬∞'</span><span class=\"token punctuation\">,</span> t1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Temperatura 1: 23¬∞</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Temperatura 2: %d¬∞'</span><span class=\"token punctuation\">,</span> t2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Temperatura 2: 10¬∞</span></code></pre>\n<p>No entanto, atribui√ß√µes <code>++</code> e <code>--</code> tem comportamento diferente dependendo da\nposi√ß√£o em que s√£o colocados. Quando precedem o valor, eles retornam o valor\nap√≥s o incremento/decremento; caso eles sucedam, eles retornam o valor antes do\nincremento/decremento. Assim:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> t1 <span class=\"token operator\">=</span> <span class=\"token number\">22</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> t2 <span class=\"token operator\">=</span> <span class=\"token number\">11</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Temperatura 1: %d¬∞'</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">++</span>t1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Temperatura 1: 23¬∞</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Temperatura 2: %d¬∞'</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">--</span>t2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Temperatura 2: 10¬∞</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Temperatura 1: %d¬∞'</span><span class=\"token punctuation\">,</span> t1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Temperatura 1: 23¬∞</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Temperatura 2: %d¬∞'</span><span class=\"token punctuation\">,</span> t2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí Temperatura 2: 10¬∞</span></code></pre>\n<h2 id=\"atribuicao-condicional\" tabindex=\"-1\">Atribui√ß√£o condicional <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-3\">#</a></h2>\n<p>√â poss√≠vel atribuir valores para var√°veis de forma condicional utilizando o\noperador tern√°rio <code>?</code>. O operador tern√°rio possui uma sintaxe similar a:</p>\n<pre class=\"language-text\" tabindex=\"0\"><code class=\"language-text\">[condi√ß√£o] ? [valor caso verdadeiro] : [valor caso falso]</code></pre>\n<p>Vamos entender melhor o comportamento da atribui√ß√£o condicional com um exemplo.\nSuponha que voc√™ queira exibir um texto se o n√∫mero <code>n</code> √© par ou √≠mpar. Para\nverificar que um n√∫mero √© √≠mpar, voc√™ pode testar se m√≥dulo do n√∫mero por dois √©\nzero (ou seja, n√£o sobra resto da divis√£o do n√∫mero <code>n</code> por dois). Se essa\ncondi√ß√£o √© verdadeira, ent√£o atribuiremos <code>'par'</code> ao resultado. Caso contr√°rio,\natribu√≠remos <code>'√≠mpar'</code>. Um c√≥digo para esse pequeno algoritmo poderia ser:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> n <span class=\"token operator\">=</span> <span class=\"token number\">11</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// pode ser qualquer n√∫mero</span>\n<span class=\"token keyword\">var</span> resultado <span class=\"token operator\">=</span> n <span class=\"token operator\">%</span> <span class=\"token number\">2</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token string\">'par'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'√≠mpar'</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>resultado<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Teste o c√≥digo acima com outros valores para a vari√°vel <code>n</code> e veja os resultados.</p>\n<h2 id=\"conclusao\" tabindex=\"-1\">Conclus√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-3\">#</a></h2>\n<p>Vari√°veis s√£o o principal meio de acesso √† mem√≥ria que, quando utilizadas juntas\ncom valores, forma o fundamento da execu√ß√£o de qualquer c√≥digo e da\nrepresenta√ß√£o dos dados de um algoritmo. No pr√≥ximo artigo veremos as\ndeclara√ß√µes de controle de fluxo de execu√ß√£o, como condicionais ou de\nrepeti√ß√µes, para evoluirmos ainda mais a nossa capacidade de desenvolver c√≥digos\nem JavaScript.</p>\n",
			"date_published": "2015-09-09T17:00:03Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/javascript-basico-2",
			"url": "https://maxroecker.github.io/blog/javascript-basico-2",
			"title": "JavaScript B√°sico #2",
			"content_html": "<p><strong>Valores</strong> s√£o os elementos mais simples dentro de uma linguagem: s√£o\nexpress√µes que n√£o podem ser reduzidas a nenhuma outra ‚Äî ou seja, est√£o em sua\nforma normal. Por exemplo: 2 √© um valor, ele √© auto-contido e n√£o h√° como\nsimplificar. J√° (1+2) √© uma express√£o que n√£o representa um valor, pois pode ser\nderivado e reduzido como 3.</p>\n<aside> <p> Em l√≥gica matem√°tica, um objeto encontra-se em sua <strong>forma\nnormal</strong> se este n√£o pode ser reescrito de forma mais simples. </p>\n</aside>\n<p>Todo valor deve ser armazenado em um local na mem√≥ria do computador e ocupa\nalgum espa√ßo em bits. O JavaScript possui duas categorias de valores:\n<strong>primitivos</strong> e <strong>objetos</strong>. Nesse artigo vamos focar nos valores do tipo\nprimitivo. Valores primitivos representam os dados simples e podem ter os tipos:</p>\n<ul>\n<li>N√∫mero</li>\n<li>String</li>\n<li>Booleano</li>\n</ul>\n<p>Existem outros tipos primitivos mais avan√ßados, mas para uma introdu√ß√£o √†\nlinguagem, esses tr√™s s√£o suficientes.</p>\n<h2 id=\"numero\" tabindex=\"-1\">N√∫mero <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-2\">#</a></h2>\n<p>Valores do tipo n√∫mero s√£o, surpreendentemente, valores num√©ricos. O JavaScript\narmazena qualquer n√∫mero como um\n<a href=\"https://en.wikipedia.org/wiki/IEEE_754\">ponto flutuante de precis√£o dupla</a>. Ou\nseja, cada n√∫mero utiliza 64 bits da mem√≥ria do computador para ser armazenado.\nAlguns bits s√£o utilizados para identificar n√∫meros negativos ou tamb√©m para\nindicar a fra√ß√£o decimal do n√∫mero. Na verdade,\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER\">o maior valor num√©rico inteiro que o JavaScript representa est√° pr√≥ximo aos 9 quadrilh√µes</a>.</p>\n<p>Abra o console JavaScript do seu navegador ‚Äî <kbd><kbd class=\"key\">Ctrl</kbd> +\n<kbd class=\"key\">Shift</kbd> + <kbd class=\"key\">J</kbd></kbd> ‚Äî e experimente\nentrar com os n√∫meros inteiros <code>0</code>, <code>3</code> e <code>16</code>, apertado <kbd class=\"key\">Enter</kbd> ap√≥s cada um deles. Voc√™ pode ver que o console sempre\nir√° retornar para voc√™ o valor da sua express√£o informada, caso ela seja\navaliada em um valor; caso contr√°rio, ela retorna <code>undefined</code>. N√£o se preocupe\nem entender o que significa isso por agora, vamos tratar sobre esse valor\nespecial daqui a pouco.</p>\n<blockquote> <p> Computadores s√£o como os deuses do Velho Testamento: muitas\nregras e nenhuma piedade. </p> <footer> Joseph Campbell, The Power of Myth\n</footer> </blockquote>\n<p>Para representar n√∫meros inteiros em base decimal, como j√° visto, basta\nescrev√™-los <strong>sem usar zero esquerda</strong>. N√∫meros fracionais s√£o escritos com\nponto, ent√£o o n√∫mero 1,5 em JavaScript √© escrito como <code>1.5</code>. Voc√™ tamb√©m pode\nomitir a parte inteira quando ela √© nula, assim, <strong>0,78</strong> pode ser escrito como\n<code>0.78</code> ou <code>.78</code>; No entando, √© sempre recomendado que voc√™ adicione o zero. Voc√™\ntamb√©m pode escrever n√∫meros muito grandes ou muito pequenos atrav√©s de\n<a href=\"https://pt.wikipedia.org/wiki/Nota%C3%A7%C3%A3o_cient%C3%ADfica\">nota√ß√£o cient√≠fica</a>,\nusando o <code>e</code> para indicar o expoente da base 10. Veja abaixo as diferentes\nformas de escrever o n√∫mero o mesmo n√∫mero:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token number\">0.1</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 0.1</span>\n<span class=\"token number\">0.1</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 0.1</span>\n<span class=\"token number\">1e-1</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 0.1</span></code></pre>\n<p>H√° a possibilidade de escrever tamb√©m n√∫meros inteiros em bases\n<a href=\"https://pt.wikipedia.org/wiki/Sistema_de_numera%C3%A7%C3%A3o_hexadecimal\">hexadecimal</a>\n(16), <a href=\"https://pt.wikipedia.org/wiki/Sistema_octal\">octal</a> (8) ou\n<a href=\"https://pt.wikipedia.org/wiki/Sistema_de_numera%C3%A7%C3%A3o_bin%C3%A1rio\">bin√°ria</a>\n(2). Para escrever em base hexadecimal, basta adicionar um <code>0x</code> √† frente de um\nn√∫mero com d√≠gitos <code>01234567890ABCDF</code>. J√° para escrever o n√∫mero em octal,\nprecede-se o n√∫mero com um <code>0</code> e em seguida qualquer d√≠gito <code>01234567</code>, por\nisso, escrever <code>014</code> √© diferente de <code>14</code> em JavaScript, o primeiro indica um\nn√∫mero em base octal e o segundo um n√∫mero em base decimal.</p>\n<p>N√∫meros bin√°rios s√£o escritos com um <code>0b</code> √† frente do n√∫mero com digitos <code>01</code>.\nPara mostrar a diferen√ßa na escrita, o n√∫mero 42 nas diferentes bases √© escrito\ncomo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token number\">42</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 42</span>\n<span class=\"token number\">0b101010</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 42</span>\n<span class=\"token number\">052</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 42</span>\n<span class=\"token number\">0x2a</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 42</span></code></pre>\n<h3 id=\"operacoes-matematicas\" tabindex=\"-1\">Opera√ß√µes matem√°ticas <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-2\">#</a></h3>\n<p>As quatro opera√ß√µes aritm√©ticas b√°sicas: <strong>adi√ß√£o</strong>, <strong>subtra√ß√£o</strong>,\n<strong>multiplica√ß√£o</strong> e <strong>divis√£o</strong>; s√£o dadas no JavaScript pelos s√≠mbolos <code>+</code>,\n<code>-</code>, <code>*</code> e <code>/</code>, respectivamente. Esses s√≠mbolos s√£o chamados de operadores, e\nsempre utilizam dos n√∫meros a sua direita e a sua esquerda para realizar a\nopera√ß√£o. Outro operador importante √© o operador de <strong>m√≥dulo</strong> ou <strong>resto da\ndivis√£o</strong>, escrito com <code>%</code>. Experimente executar as seguintes express√µes no\nconsole.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token number\">1</span> <span class=\"token operator\">+</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 5</span>\n<span class=\"token number\">9</span> <span class=\"token operator\">/</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 0.9</span>\n<span class=\"token number\">3</span> <span class=\"token operator\">-</span> <span class=\"token number\">3</span> <span class=\"token operator\">*</span> <span class=\"token number\">15</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí -42</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">20</span> <span class=\"token operator\">+</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 6.25</span>\n<span class=\"token number\">10</span> <span class=\"token operator\">%</span> <span class=\"token number\">9</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí 1</span></code></pre>\n<p>Como esperado, a multiplica√ß√£o e a divis√£o tem prioridade, seguindo a\n<a href=\"https://pt.wikipedia.org/wiki/Ordem_de_opera%C3%A7%C3%B5es\">ordem de preced√™ncia</a>.\nCaso voc√™ precise da ordem explicita, voc√™ deve utilizar os par√™nteses.</p>\n<h3 id=\"valores-numericos-especiais\" tabindex=\"-1\">Valores num√©ricos especiais <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-2\">#</a></h3>\n<p>H√° tr√™s valores num√©ricos em JavaScript que n√£o se comportam como n√∫meros\ncomuns. Os primeiros s√£o os que representam os infinitos positivo e negativo ‚Äî\nrepresentados na linguagem como <code>Infinity</code> e <code>-Infinity</code> ‚Äî que apesar de n√£o\npoderem ser utilizados em opera√ß√µes aritm√©ticas, podem ser comparados com outros\nn√∫meros e podem ser √∫teis para resolver alguns problemas.</p>\n<p>O terceiro √© <code>NaN</code>, do ingl√™s <i lang=\"en\">Not a Number</i>, ou seja, um valor\ndo tipo n√∫mero mas que representa um &quot;n√£o-n√∫mero&quot;. Opera√ß√µes aritm√©ticas\nindefinidas ou mal-formadas resultam em <code>NaN</code>, veja alguns exemplos:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token number\">Infinity</span> <span class=\"token operator\">-</span> <span class=\"token number\">Infinity</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí NaN</span>\n<span class=\"token number\">0</span> <span class=\"token operator\">*</span> <span class=\"token number\">Infinity</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí NaN</span>\n<span class=\"token number\">Infinity</span> <span class=\"token operator\">/</span> <span class=\"token operator\">-</span><span class=\"token number\">Infinity</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí NaN</span>\n<span class=\"token string\">'a'</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí NaN</span></code></pre>\n<h2 id=\"strings\" tabindex=\"-1\">Strings <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-2\">#</a></h2>\n<p><strong>Strings</strong> s√£o cadeia de caracteres utilizadas para representar texto escrito.\nSua representa√ß√£o em JavaScript √© dada pelo conte√∫do dentro de um par de aspas\nduplas (<code>&quot;&quot;</code>) ou aspas simples (<code>''</code>). Por exemplo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token string\">'√Ä noite, vov√¥ Kowalsky v√™ o √≠m√£ cair no p√© do pinguim queixoso e vov√≥ p√µe a√ß√∫car no ch√° de t√¢maras do jabuti feliz'</span><span class=\"token punctuation\">;</span>\n<span class=\"token string\">'Gazeta publica hoje no jornal uma breve nota de faxina na quermesse.'</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Qualquer caractere pode ser colocado entre as aspas e o JavaScript se encarrega\nde atribuir um valor para elas. No entanto, alguns caracteres especiais ‚Äî como\nos que indicam uma nova linha ou um espa√ßo de tabula√ß√£o ‚Äî precisam ser\nrepresentados de forma diferente. Para representar esses caracteres especiais\nutilizamos a nota√ß√£o contra-barra (ou <i lang=\"en\"><a href=\"https://en.wikipedia.org/wiki/Escape_character\">character escaping</a></i>).\nOu seja, quando uma contra-barra √© encontrada no texto, o caractere seguinte\nindica um caractere especial. Por exemplo, uma string que contenha <code>\\n</code> indica\nque h√° uma quebra de linha. A lista abaixo indica os principais caracteres\nespeciais:</p>\n<ul>\n<li><code>\\n</code> ‚Äî Quebra de linha</li>\n<li><code>\\&quot;</code> ‚Äî Aspas duplas</li>\n<li><code>\\'</code> ‚Äî Aspas simples</li>\n<li><code>\\\\</code> ‚Äî Contra-barra</li>\n<li><code>\\t</code> ‚Äî Espa√ßo de tabula√ß√£o</li>\n</ul>\n<p>Ou seja, para escrever a frase &quot;<em>Usamos o &quot;\\n&quot; para escrever uma quebra de\nlinha</em>&quot; em uma string no JavaScript, √© necess√°rio escrev√™-la da seguinte forma:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token string\">\"Usamos o \\\"\\\\n\\\" para escrever uma quebra de linha\"</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Strings n√£o podem ser adicionadas, divididas, multiplicas ou subtra√≠das. Mas\npodem ser concatenadas com o operador <code>+</code>. Por exemplo, a express√£o\n<code>'ja' + 'va' + 'script'</code> produz o resultado <code>'javascript'</code>.</p>\n<h2 id=\"booleanos\" tabindex=\"-1\">Booleanos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-2\">#</a></h2>\n<p>Muitas vezes precisamos de dados t√£o simples que indiquem somente uma decis√£o:\n&quot;sim&quot; e &quot;n√£o&quot;, &quot;ligado&quot; e &quot;desligado&quot;, &quot;ativo&quot; e &quot;inativo&quot;, entre outros.\nValores booleanos indicam exatamente isso e s√£o representados por <code>true</code> ou\n<code>false</code>. Esses valores s√£o chamados de booleanos em homenagem ao matem√°tico\n<a href=\"https://pt.wikipedia.org/wiki/George_Boole\">George Boole</a>, grande contribuidor\nnos campos de l√≥gica matem√°tica e √°lgebra abstrata. Apesar de serem simples, s√£o\nessenciais quando estamos lidando com estruturas de controle ou de la√ßo dentro\nda linguagem.</p>\n<h3 id=\"operacoes-booleanas\" tabindex=\"-1\">Opera√ß√µes booleanas <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-2\">#</a></h3>\n<p>Valores booleanos podem ser operados atrav√©s dos operadores l√≥gicos\n<a href=\"https://pt.wikipedia.org/wiki/Conjun%C3%A7%C3%A3o_l%C3%B3gica\">e</a>,\n<a href=\"https://pt.wikipedia.org/wiki/Disjun%C3%A7%C3%A3o_l%C3%B3gica\">ou</a> e\n<a href=\"https://pt.wikipedia.org/wiki/Nega%C3%A7%C3%A3o\">nega√ß√£o</a>, escritos\nrespectivamente como <code>&amp;&amp;</code>, <code>||</code> e <code>!</code>. Note que o operador de nega√ß√£o <code>!</code> √©\nun√°rio, ou seja, ele inverte o pr√≥ximo valor booleano informado. Exemplos:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token boolean\">true</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\n<span class=\"token boolean\">true</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí false</span>\n<span class=\"token boolean\">true</span> <span class=\"token operator\">||</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\n<span class=\"token boolean\">false</span> <span class=\"token operator\">||</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí false</span>\n<span class=\"token operator\">!</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí false</span>\n<span class=\"token operator\">!</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span></code></pre>\n<h3 id=\"comparacoes\" tabindex=\"-1\">Compara√ß√µes <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-2\">#</a></h3>\n<p>A maior parte dos valores primitivos em JavaScript possui uma\n<a href=\"https://en.wikipedia.org/wiki/Total_order\">ordena√ß√£o total</a>. Ou seja, possuem a\nideia de que um valor √© &quot;maior que outro&quot; ou &quot;precede&quot; outro. Para avaliar essa\nrela√ß√£o, utilizamos <strong>operadores de compara√ß√£o</strong>, que resultam em um valor\nbooleano <code>true</code> ou <code>false</code>. Os operadores de compara√ß√£o s√£o:</p>\n<ul>\n<li><code>&gt;</code>, que indica &quot;<em>maior que</em>&quot;;</li>\n<li><code>&gt;=</code>, que indica &quot;<em>maior ou igual a</em>&quot;;</li>\n<li><code>==</code>, que indica &quot;<em>igual a</em>&quot;;</li>\n<li><code>&lt;=</code>, que indica &quot;<em>menor ou igual a</em>&quot;;</li>\n<li><code>&lt;</code>, que indica &quot;<em>menor que</em>&quot;;</li>\n<li><code>!=</code>, que indica &quot;<em>diferente de</em>&quot;;</li>\n</ul>\n<p>Alguns exemplos:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token number\">1</span> <span class=\"token operator\">&lt;=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\n<span class=\"token number\">1</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí false</span>\n<span class=\"token number\">3</span> <span class=\"token operator\">===</span> <span class=\"token number\">2</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\n<span class=\"token operator\">-</span><span class=\"token number\">4</span> <span class=\"token operator\">!==</span> <span class=\"token number\">12</span> <span class=\"token operator\">/</span> <span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí false</span>\n<span class=\"token string\">'Alvar'</span> <span class=\"token operator\">&lt;</span> <span class=\"token string\">'Zoink'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\n<span class=\"token string\">'Jaiko'</span> <span class=\"token operator\">>=</span> <span class=\"token string\">'Jaik'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span>\n<span class=\"token boolean\">true</span> <span class=\"token operator\">></span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí true</span></code></pre>\n<p>N√∫meros s√£o comparados de acordo com o valor real. Strings s√£o comparadas pela\n<a href=\"https://en.wikipedia.org/wiki/Lexicographical_order\">ordem lexicogr√°fica</a>, para\nos valores booleanos, <code>true</code> sempre sucede <code>false</code> e ambos nunca s√£o iguais.</p>\n<p>Uma exce√ß√£o a essa regra √© o valor <code>NaN</code>. Na maioria das vezes um valor √© igual\na ele mesmo, mas com o <code>NaN</code> isso n√£o acontece. Em JavaScript, <code>NaN == NaN</code>\nsempre retorna <code>false</code>. A justificativa √© que normalmente <code>NaN</code> indica uma\ncomputa√ß√£o aritm√©tica indefinida e isso n√£o significa que ela seja igual a outra\ncomputa√ß√£o inv√°lida.</p>\n<h2 id=\"valores-indefinidos\" tabindex=\"-1\">Valores indefinidos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-2\">#</a></h2>\n<p>H√° dois valores especiais, <code>null</code> e <code>undefined</code>, que s√£o utilizados para indicar\na falta de um valor pr√≥prio ‚Äî s√£o valores que indicam que n√£o h√° informa√ß√£o.\nMuitas opera√ß√µes que n√£o resultam em um valor v√°lido produzem o valor\n<code>undefined</code> por serem obrigadas a retornar um valor. Contextualmente, n√£o h√°\ndiferen√ßa entre <code>null</code> e <code>undefined</code>, ou seja, voc√™ pode consider√°-los sin√¥nimos\nna maioria das vezes.</p>\n<p>Alguns autores chegam a afirmar que esse √© um acidente dentro do projeto da\nlinguagem. Houve uma proposta de unificar esses valores, mas ela foi\n<a href=\"http://wiki.ecmascript.org/doku.php?id=harmony%3atypeof_null\">rejeitada</a>.</p>\n<p>Podemos notar uma diferen√ßa entre os dois valores quando utilizamos o operador\n<code>typeof</code> da linguagem, que fornece que fornece uma string nomeando o tipo do\npr√≥ximo valor dado √† ela. Por exemplo:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">typeof</span> <span class=\"token number\">3.2</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí \"number\"</span>\n<span class=\"token keyword\">typeof</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí \"string\"</span>\n<span class=\"token keyword\">typeof</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí \"boolean\"</span>\n<span class=\"token keyword\">typeof</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí \"object\"</span>\n<span class=\"token keyword\">typeof</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚Üí \"undefined\"</span></code></pre>\n<h2 id=\"conclusao\" tabindex=\"-1\">Conclus√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-2\">#</a></h2>\n<p>Esse artigo ficou um pouco longo, mas acho importante ter esse entendimento\ninicial de valores e opera√ß√µes b√°sicas para compreens√£o do JavaScript. Para os\npr√≥ximos artigos, trataremos de assuntos como vari√°veis, atribui√ß√µes e de suas\nespecialidades.</p>\n",
			"date_published": "2015-09-01T22:29:00Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/javascript-basico-1",
			"url": "https://maxroecker.github.io/blog/javascript-basico-1",
			"title": "JavaScript B√°sico #1",
			"content_html": "<p>O <strong>JavaScript</strong> √© uma linguagem de programa√ß√£o criada em 1995 com o objetivo de\nadicionar dinamicidade aos documentos HTML no navegador Netscape. O JavaScript,\njunto com o HTML e o CSS, constituem os tr√™s pilares tecnol√≥gicos da <em>web</em>. O\nJavaScript permite que c√≥digo seja executado nos navegadores dos usu√°rios que\nacessam uma p√°gina <em>web</em>, adicionando interatividade e permitindo a constru√ß√£o\nde aplica√ß√µes ricas.</p>\n<p>O JavaScript uma\n<a href=\"https://en.wikipedia.org/wiki/Scripting_language\">linguagem de script</a>\n<a href=\"https://en.wikipedia.org/wiki/Dynamic_programming_language\">din√¢mica</a> com\n<a href=\"https://en.wikipedia.org/wiki/First-class_function\">fun√ß√µes de primeira classe</a>\ne que suporta a cria√ß√£o de\n<a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\">objetos</a> baseados em\n<a href=\"https://en.wikipedia.org/wiki/Prototype-based_programming\">prot√≥tipos</a>. Por\nessas caracter√≠sticas, √© considerada uma linguagem de multi-paradigma,\noferecendo suporte para programa√ß√£o de estilo\n<a href=\"https://pt.wikipedia.org/wiki/Programa%C3%A7%C3%A3o_imperativa\">imperativo</a>,\n<a href=\"https://pt.wikipedia.org/wiki/Orienta%C3%A7%C3%A3o_a_objetos\">orientado a objetos</a>\ne <a href=\"https://pt.wikipedia.org/wiki/Programa%C3%A7%C3%A3o_funcional\">funcional</a>.\nMas n√£o se preocupe em entender todos esses conceitos por agora.</p>\n<aside><p> Uma <strong>linguagem de script</strong> √© uma linguagem de\nprograma√ß√£o desenvolvida para um ambiente de execu√ß√£o espec√≠fico. </p></aside>\n<p>Apesar de ter seu nascimento em navegadores, atualmente o JavaScript √© uma\nlinguagem que habita tamb√©m o lado do servidor. Por exemplo, a engine\n<a href=\"https://developers.google.com/v8/\">V8</a> √© utilizada no navegador Google Chrome,\nmas √© utilizado tamb√©m pelo <a href=\"https://nodejs.org/\">Node.js</a>.</p>\n<h2 id=\"voltando-para-1995\" tabindex=\"-1\">Voltando para 1995 <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-1\">#</a></h2>\n<p>A Netscape contrata Brendan Eich para liderar o desenvolvimento de uma nova\nlinguagem de programa√ß√£o que permitiria que o nov√≠ssimo suporte do Navegador √†\nlinguagem Java se tornasse mais acess√≠vel. Eich decide que uma linguagem de\n<em>script</em> com tipagem fraca seria ideal para o ambiente e para o p√∫blico alvo da\n√©poca: <em>web designers</em> que desejavam adicionar algumas funcionalidades em p√°ginas\nweb sem a necessidade de compilar c√≥digo em <em>bytecode</em> ou ter conhecimento\navan√ßado de orienta√ß√£o a objetos.</p>\n<p>Essa primeira vers√£o da linguagem criada por Brendan Eich foi chamada de\n‚ÄúMocha‚Äù. No entanto, para o lan√ßamento oficial, ela foi nomeada de ‚ÄúLiveScript‚Äù.\nPosteriormente, foi rebatizada JavaScript por iniciativa do setor de\n<em>marketing</em>. No entanto, isso se revelaria um erro que assombraria os\n<em>web designers</em> por muitos anos‚Ä¶ Em 4 de Dezembro de 1995, a NetScape junto a Sun\nanunciam o JavaScript, uma nova linguagem que tinha um √∫nico objetivo: ser um\ncomplemento para o HTML e para o Java.</p>\n<p>O JavaScript rapidamente ganhou vida pr√≥pria, sendo cada vez mais utilizado para\nadicionar funcionalidades √† documentos HTML do que para controlar <em>applets</em>\nJava. No entanto, seu sucesso como uma linguagem de programa√ß√£o com uma curva de\naprendizagem baixa ‚Äî n√£o precisava de um compilador, nem de um processo de\n<em>build</em> ou de uma IDE ‚Äî combinado com algumas falhas de seguran√ßas descobertas\nnos meses seguintes constru√≠ram a imagem de que a linguagem n√£o era s√©ria o\nsuficiente para o desenvolvimento de aplica√ß√µes complexas.</p>\n<p>Mas o sucesso do JavaScript n√£o passou despercebido pela Microsoft, empresa por\ntr√°s do Internet Explorer. A Microsoft respondeu ao JavaScript da Netscape\nlan√ßando a VBScript, que permitia a intera√ß√£o de componentes das p√°ginas HTML\njunto ao sistema operacional Windows. Al√©m disso, em 16 de Julho de 1996, a\nMicrosoft lan√ßa uma ‚Äúvers√£o do JavaScript‚Äù para o Internet Explorer 3.0, e a\nbatiza de JScript.</p>\n<p>O JScript n√£o era totalmente compat√≠vel com o JavaScript. C√≥digos feitos para\numa linguagem n√£o funcionavam na outra em grande parte das vezes. Isso acirrou\nainda mais a disputa entre ambos os navegadores. Era comum que alguns os\ndesenvolvedores abandonassem os usu√°rios de um navegador ou outro ao inv√©s de\nescrever um c√≥digo compat√≠vel para ambos.</p>\n<p>Em Novembro de 1997, a Netscape e a Sun iniciam o processo de padronizar a\nlinguagem com a ajuda da <em>European Computer Manufacturers Association</em> (ECMA), e\nd√£o a ela um novo nome: ECMAScript. O processo de padroniza√ß√£o durou v√°rios\nanos. A ECMAScript 2 foi em Junho de 1998, a ECMAScript 3 em Dezembro de 1994 e\nos trabalhos na ECMAScript 4 come√ßaram em 2000.</p>\n<p>Nos anos seguintes, o Java perdeu for√ßa com os <em>applets</em>, o VBScript foi\ndescontinuado pela Microsoft e o Internet Explorer ganhou a batalha contra o\nNetscape Navigator. O dom√≠nio de 95% do mercado pelo Internet Explorer no in√≠cio\ndos anos 2000 fez com que o JScript se torna-se o padr√£o <em>de facto</em> de uma\nlinguagem que permitia ‚Äúdocumentos HTML din√¢micos‚Äù. Eventualmente, a Microsoft,\nque inicialmente participava ativamente do processo de padroniza√ß√£o, parou de\ncontribuir e o projeto da ECMAScript 4 foi arquivado por per√≠odo indefinido.</p>\n<p>A hist√≥ria come√ßou a mudar em 2004, quando a Mozilla, sucessora da Netscape,\nlan√ßa o Firefox e abocanha uma pequena mas significativa parte do mercado do\nInternet Explorer. Em 2005, a Mozilla junta-se a ECMA International, e come√ßa a\ntrabalhar junto com a Macromedia ‚Äî que desejava padronizar a linguagem\nActionScript utilizada pelo Flash ‚Äî para reviver a padroniza√ß√£o do ECMAScript 4.</p>\n<p>Nos pr√≥ximos anos, o Google lan√ßa o navegador Chrome com a m√°quina virtual de\nJavaScript pr√≥pria ‚Äî a <a href=\"https://v8.dev/\">V8</a> ‚Äî e a primeira a utilizar tradu√ß√£o\ndin√¢mica. Al√©m disso, o desenvolvimento <em>web</em> popularizou-se ainda mais e\ndiversas bibliotecas e ferramentas come√ßaram a ser disponibilizadas com c√≥digo\nlivre e que prometiam acabar com a incompatibilidade do JavaScript nos diversos\nnavegadores, tais como o <a href=\"https://jquery.com/\">JQuery</a> e o\n<a href=\"https://mootools.net/\">MooTools</a>. Eventualmente chegou-se ao consenso de que\nera necess√°rio padronizar de vez a linguagem. Assim, em Dezembro de 2009, a\nquinta e &quot;definitiva&quot; vers√£o da ECMAScript √© finalmente lan√ßada.</p>\n<p>A partir de 2009, v√°rios esfor√ßos foram tomados para melhorar e aumentar a\ncapacidade do ECMAScript. E, em 2015, a sexta vers√£o da linguagem √© lan√ßada com\nmuitas novas funcionalidades, tornando-se definitivamente uma linguagem madura.\nAtualmente o JavaScript √© considerado uma implementa√ß√£o da ECMAScript, assim\ncomo o ActionScript e o JScript.</p>\n<h2 id=\"serie-sobre-javascript\" tabindex=\"-1\">S√©rie sobre JavaScript <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-1\">#</a></h2>\n<p>Pretendo iniciar essa s√©rie de artigos sobre JavaScript para compartilhar um\npouco do conhecimento que adquiri nos √∫ltimos anos, pois acredito que somente\naprende-se uma coisa de verdade quando voc√™ ensina-se ela. Sei que h√° muito\nconte√∫do de qualidade sobre JavaScript pela <em>web</em> ‚Äî basta uma pesquisada no\nGoogle ‚Äî mas muito do conte√∫do relevante √© dado em l√≠ngua inglesa ou apresentam\nconceitos que j√° s√£o obsoletos, ou seja, um obst√°culo para desenvolvedores\niniciantes e aspirantes em programa√ß√£o que querem aprender sobre essa poderosa\nlinguagem.</p>\n<p>Nessa s√©rie, vou exibir inicialmente aspectos prim√°rios da linguagem e aos\npoucos ir revelando detalhes importantes e complexos conforme avan√ßamos. Vou me\nesfor√ßar para tratar o assunto da maneira f√°cil para voc√™ compreender, mas √©\nimportante que voc√™ j√° tenha algum entendimento de codifica√ß√£o e l√≥gica de\nprograma√ß√£o. Fa√ßo sempre uso de uma grande quantidade de exemplos, afinal, <strong>a\nmelhor forma de aprender a codificar √© codificando</strong>.</p>\n<blockquote cite=\"http://lkml.org/lkml/2000/8/25/132\">\n  <p>\n    Talk is cheap, show me the code.\n  </p>\n  <footer>\n    <a href=\"http://lkml.org/lkml/2000/8/25/132\">Linus Torvalds</a>\n  </footer>\n</blockquote>\n<p>Quer come√ßar j√°? Pois ent√£o vamos l√°! Caso voc√™ esteja num navegador atualizado\n‚Äî como o Google Chrome ou o Mozilla Firefox ‚Äî aperte <kbd><kbd class=\"key\">Ctrl</kbd> + <kbd class=\"key\">Shift</kbd> + <kbd class=\"key\">J</kbd></kbd> e voc√™ ver√° uma tela com um cursor. Bem vindo ao\n<strong>Console JavaScript</strong> do seu navegador! Tente digitar a seguinte express√£o\nabaixo e aperte <kbd class=\"key\">Enter</kbd>:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">var</span> foo <span class=\"token operator\">=</span> <span class=\"token string\">'Ol√° Mundo!'</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Em seguida, digite a pr√≥xima express√£o e novamente aperte <kbd class=\"key\">Enter</kbd>:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Viu resultado? Parab√©ns! Voc√™ fez sua primeira atribui√ß√£o de valor em uma\nvari√°vel e imprimiu o resultado na tela. Simples, n√£o? Esse √© s√≥ um exemplo\nb√°sico de como utilizar o console para lhe auxiliar nesse per√≠odo de\naprendizado, ele √© seu companheiro e sua melhor ferramenta para aprender\nJavaScript.</p>\n<p>Tente agora uma coisa um pouco mais complexa, escreva a fun√ß√£o abaixo no\nconsole. <strong>Dica</strong>: quando for pular a linha, use <kbd><kbd class=\"key\">Shift</kbd> + <kbd class=\"key\">Enter</kbd></kbd> e ap√≥s de digitar\ntudo aperte <kbd class=\"key\">Enter</kbd>.</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">fac</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">n</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>n <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> n <span class=\"token operator\">*</span> <span class=\"token function\">fac</span><span class=\"token punctuation\">(</span>n <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Ap√≥s isso, execute os seguintes comandos:</p>\n<pre class=\"language-js\" tabindex=\"0\"><code class=\"language-js\"><span class=\"token function\">fac</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">fac</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">fac</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">fac</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Viu que valores na tela? Voc√™ notou algum padr√£o? Compreendeu o que a fun√ß√£o\nfaz? üòÑ</p>\n<h3 id=\"livros\" tabindex=\"-1\">Livros <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-1\">#</a></h3>\n<ul>\n<li><a href=\"http://jsforcats.com/\">JavaScript for Cats</a></li>\n<li><a href=\"http://eloquentjavascript.net/\">Eloquent JavaScript</a></li>\n</ul>\n<h3 id=\"links\" tabindex=\"-1\">Links <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-1\">#</a></h3>\n<ul>\n<li><a href=\"https://medium.com/javascript-scene/learn-javascript-b631a4af11f2\">Learn JavaScript Essentials</a></li>\n<li><a href=\"http://jstherightway.org/\">JavaScript: The Right Way</a></li>\n<li><a href=\"http://javascriptissexy.com/how-to-learn-javascript-properly/\">How to Learn JavaScript Properly</a></li>\n</ul>\n<h3 id=\"videos\" tabindex=\"-1\">V√≠deos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-1\">#</a></h3>\n<ul>\n<li><a href=\"https://www.youtube.com/playlist?list=PLQCmSnNFVYnT1-oeDOSBnt164802rkegc\">Desvendando a linguagem JavaScript</a></li>\n<li><a href=\"https://www.codeschool.com/courses/javascript-road-trip-part-1\">Code School: JavaScript Road Trip Part 1</a></li>\n</ul>\n<h2 id=\"agradecimentos\" tabindex=\"-1\">Agradecimentos <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/javascript-basico-1\">#</a></h2>\n<p>Agrade√ßo a <a href=\"https://www.linkedin.com/in/suzanicristina/\">Suzani Cristina</a> pela\nrevis√£o do texto e de algumas informa√ß√µes da hist√≥ria da linguagem. Obrigado!</p>\n",
			"date_published": "2015-08-25T09:15:25Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/porque-voce-deveria-aprender-javascript",
			"url": "https://maxroecker.github.io/blog/porque-voce-deveria-aprender-javascript",
			"title": "Porque voc√™ deveria aprender JavaScript",
			"content_html": "<p>A web se tornou a plataforma padr√£o de desenvolvimento nos √∫ltimos anos. Isso √©\nevidenciado pelo tanto de <a href=\"https://www.npmjs.com/\">ferramentas</a>,\n<a href=\"http://www.i-programmer.info/news/167-javascript/5418-javascript-to-be-the-default-langauge-for-gnome.html\">ambientes gr√°ficos</a>,\n<a href=\"http://electron.atom.io/\">plataformas de desenvolvimento</a> e\n<a href=\"http://www.chromium.org/chromium-os\">sistemas operacionais</a> que utilizam suas\ntecnologias para apresentar conte√∫do. Hoje, at√© aplica√ß√µes para dispositivos\nm√≥veis nativas incorporam tecnologias do HTML, CSS e JavaScript. Nem o hardware\ntem escapado dessa mudan√ßa. Projetos como\n<a href=\"https://lostechies.com/derickbailey/2013/07/30/let-me-teach-you-arduino-with-javascript/\">Arduino</a>,\n<a href=\"http://nodebots.io/\">NodeBots</a> e <a href=\"https://tessel.io/\">Tessel</a> vislumbram que em\num futuro pr√≥ximo poderemos ter JavaScript como uma linguagem comum para\nsistemas embarcados.</p>\n<p>No entanto, ainda existe uma certa &quot;barreira&quot; aprender essa linguagem. Ela j√°\nfoi considerada uma linguagem brinquedo, que tinha somente a fun√ß√£o de criar\nalguns efeitos na interface do usu√°rio ou adicionar alguma intera√ß√£o. Hoje essa\nsitua√ß√£o mudou.</p>\n<h2 id=\"a-aurora-de-um-novo-tempo\" tabindex=\"-1\">A aurora de um novo tempo <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/porque-voce-deveria-aprender-javascript\">#</a></h2>\n<p>Em meados de 2004, o Google lan√ßa o Gmail. O servi√ßo de e-mail ganhou destaque\npor garantir espa√ßo quase ilimitado gratuitamente. Al√©m disso, sua interface\ntinha uma caracter√≠stica interessante: partes da interface eram carregadas\ndinamicamente, sem a necessidade de um redirecionamento da p√°gina inteira. O\ncliente <em>web</em> do Gmail foi desenvolvido utilizando <strong>AJAX</strong>, do ingl√™s <i lang=\"en\">Asynchronous Javascript And XML</i>, que permitia a troca de\ninforma√ß√µes com o servidor de forma ass√≠ncrona com o\n<a href=\"https://developer.mozilla.org/pt-BR/docs/Web/API/XMLHttpRequest\">XMLHttpRequest</a>.\nOu seja, o AJAX permitia que conte√∫do do Gmail fosse carregado de acordo com a\ndemanda do usu√°rio, sem necessidade do recarregamento da p√°gina inteira. O\nadvento do AJAX provocou mudan√ßas profundas no desenvolvimento de aplica√ß√µes,\nadicionando dinamismo e interatividade e permitindo que aplica√ß√µes <em>web</em> fossem\ncompetitivas com aplica√ß√µes nativas.</p>\n<blockquote cite=\"http://www.adaptivepath.com/ideas/ajax-new-approach-web-applications/\">\n<p> AJAX n√£o √© uma tecnologia. Na verdade s√£o muitas tecnologias, cada uma\nflorescendo por conta pr√≥pria, trabalhando juntas de forma poderosa </p>\n<footer> <a href=\"http://www.adaptivepath.com/ideas/ajax-new-approach-web-applications/\">\nJesse James Garrett </a>  </footer></blockquote>\n<p>J√° em 2009, o lan√ßamento do <a href=\"https://nodejs.org/\">Node.js</a> permitiu que o\nJavaScript, aliado a um\n<a href=\"https://en.wikipedia.org/wiki/Asynchronous_I/O\">I/O n√£o bloqueante</a> e\n<a href=\"https://en.wikipedia.org/wiki/Event-driven_programming\">orientado a eventos</a>,\nganhasse espa√ßo no lado do servidor das aplica√ß√µes. Sua ado√ß√£o foi muito r√°pida,\nprincipalmente para atender a nova demanda de aplicativos <em>web</em> e mobile que\nexigiam grandes quantidades de respostas em tempo real. Dois anos mais tarde, em\n2011, foi lan√ßado o <a href=\"https://www.npmjs.com/\">NPM</a>, gerenciador de pacotes e de\nbibliotecas para o Node, causando uma explos√£o em sua popularidade. Atualmente,\n<a href=\"http://www.modulecounts.com/\">o NPM √© o reposit√≥rio de pacotes com maior quantidade de m√≥dulos dispon√≠veis</a>.</p>\n<h2 id=\"vantagens\" tabindex=\"-1\">Vantagens <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/porque-voce-deveria-aprender-javascript\">#</a></h2>\n<h3 id=\"performance\" tabindex=\"-1\">Performance <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/porque-voce-deveria-aprender-javascript\">#</a></h3>\n<p>Nos navegadores e ambientes modernos, a maioria dos c√≥digos JavaScript √©\nexecutado de\n<a href=\"https://hacks.mozilla.org/2017/02/a-crash-course-in-just-in-time-jit-compilers/\">forma bastante otimizada</a>.\nApesar de ser uma linguagem de <i lang=\"en\">script</i>, e, por isso, utilizar\numa m√°quina virtual em tempo de execu√ß√£o, o JavaScript possui um desempenho\n√≥timo para o desenvolvimento de aplica√ß√µes.</p>\n<h4 id=\"multiparadigma\" tabindex=\"-1\">Multiparadigma <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/porque-voce-deveria-aprender-javascript\">#</a></h4>\n<p>O JavaScript √© uma linguagem multiparadigma, o que aumenta a flexibilidade do\ndesenvolvimento. Caso voc√™ queira trabalhar com orienta√ß√£o √† objetos, a\nlinguagem possui um modelo de heran√ßa baseada em prot√≥tipo. √â poss√≠vel tamb√©m\nutilizar os conceitos como encapsulamento, polimorfismo e composi√ß√£o de forma\nbastante simples.</p>\n<p>No entanto, se voc√™ prefere uma abordagem mais funcional, o JavaScript cont√©m\nv√°rias caracter√≠sticas herdadas das linguagens funcionais que incluem: fun√ß√µes\nde alta ordem e <i lang=\"en\">closures</i>. Alguns m√©todos cl√°ssicos das\nlinguagens funcionais est√£o presentes no JavaScript, tais como <span lang=\"en\"><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\"><code>Array#map</code></a></span>,\n<span lang=\"en\"><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\"><code>Array#filter</code></a></span>\ne <span lang=\"en\"><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\"><code>Array#reduce</code></a></span>.</p>\n<h4 id=\"reusabilidade\" tabindex=\"-1\">Reusabilidade <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/porque-voce-deveria-aprender-javascript\">#</a></h4>\n<p>C√≥digo escrito em JavaScript √© port√°vel e facilmente reus√°vel em outros locais.\nA linguagem segue um princ√≠pio forte de retrocompatibilidade, ent√£o √© bem\nposs√≠vel voc√™ pegar um c√≥digo de dez anos atr√°s e execut√°-lo com sucesso em\nqualquer m√°quina virtual recente.</p>\n<p>Al√©m disso, possibilidade de executar o mesmo c√≥digo tanto no cliente quanto em\nservidores <em>web</em> permite um ganho de produtividade imenso. Outro destaque da\nlinguagem √© a facilidade e disponibilidade de utilizar c√≥digos de terceiros com\na utiliza√ß√£o do NPM.</p>\n<h2 id=\"conclusao\" tabindex=\"-1\">Conclus√£o <a class=\"header-anchor\" href=\"https://maxroecker.github.io/blog/porque-voce-deveria-aprender-javascript\">#</a></h2>\n<p>Hoje, a <strong>Lei de Atwood</strong> nunca pareceu ser t√£o verdadeira. O JavaScript tem\ndominado todas as √°reas de desenvolvimento de aplica√ß√µes, desde\n<a href=\"https://developers.facebook.com/docs/javascript\">aplicativos sociais</a>,\n<a href=\"https://www.google.com/docs/about/\">su√≠tes de programas de escrit√≥rio</a> ou\n<a href=\"http://phaser.io/\">jogos</a> com grande processamento gr√°fico.</p>\n<blockquote cite=\"http://blog.codinghorror.com/the-principle-of-least-power/\">\n<p> Qualquer aplica√ß√£o que possa ser escrita em JavaScript, eventualmente ser√°\nescrita em JavaScript. </p> <footer> <a href=\"http://blog.codinghorror.com/the-principle-of-least-power/\"> Jeff Atwood\n</a> </footer> </blockquote>\n<p>Aprender JavaScript pode lhe abrir v√°rias oportunidades e, al√©m disso, nunca √©\ndemais possuir mais uma habilidade no seu invent√°rio.</p>\n",
			"date_published": "2015-08-21T00:50:01Z"
		},
		{
			"id": "https://maxroecker.github.io/blog/hello-world",
			"url": "https://maxroecker.github.io/blog/hello-world",
			"title": "Hello World",
			"content_html": "<p>Era quarta-feira, dia 12 de agosto, quando estava conversando com meu grande\namigo Jo√£o Luiz, entusiasmado com um <em>framework</em> para <em>node.js</em> que acab√°vamos\nde fazer funcionar e de como foi sofrido para reconfigur√°-lo, pois nem eu ou ele\nlembramos de anotar os passos. E ent√£o surgiu a ideia de fazer anota√ß√µes sobre o\nque aprendemos, para facilitar encontrar essas informa√ß√µes depois ‚Äî e com isso a\nideia de um blog.</p>\n<p>Resolvi bater uma aposta comigo mesmo em manter a regularidade de posts nesse\nblog, escrevendo sobre coisas que eu tenho mais interesse: computadores e web.\nAinda tem muito o que melhorar por aqui, mas para um come√ßo est√° bom.</p>\n",
			"date_published": "2015-08-15T10:25:33Z"
		}
	]
}
